<!DOCTYPE html><html prefix="dcterms: http://purl.org/dc/terms/" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2406.12611] Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting</title><meta property="og:description" content="End-to-end multilingual speech recognition models handle multiple languages through a single model, often incorporating language identification to automatically detect the language of incoming speech.
Since the common …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2406.12611">

<!--Generated on Fri Jul  5 23:21:04 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div id="p1" class="ltx_para">
<span id="p1.1" class="ltx_ERROR undefined">\interspeechcameraready</span><span id="p1.2" class="ltx_ERROR undefined">\name</span>
<p id="p1.3" class="ltx_p">[affiliation=1]YosukeKashiwagi
<span id="p1.3.1" class="ltx_ERROR undefined">\name</span>[affiliation=1]HayatoFutami
<span id="p1.3.2" class="ltx_ERROR undefined">\name</span>[affiliation=1]EmiruTsunoo
<span id="p1.3.3" class="ltx_ERROR undefined">\name</span>[affiliation=2]SiddhantArora
<span id="p1.3.4" class="ltx_ERROR undefined">\name</span>[affiliation=2]ShinjiWatanabe




</p>
</div>
<h1 class="ltx_title ltx_title_document">Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting</h1>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id5.id1" class="ltx_p">End-to-end multilingual speech recognition models handle multiple languages through a single model, often incorporating language identification to automatically detect the language of incoming speech.
Since the common scenario is where the language is already known, these models can perform as language-specific by using language information as prompts, which is particularly beneficial for attention-based encoder-decoder architectures.
However, the Connectionist Temporal Classification (CTC) approach, which enhances recognition via joint decoding and multi-task training, does not normally incorporate language prompts due to its conditionally independent output tokens.
To overcome this, we introduce an encoder prompting technique within the self-conditioned CTC framework, enabling language-specific adaptation of the CTC model in a zero-shot manner. Our method has shown to significantly reduce errors by 28% on average and by 41% on low-resource languages.</p>
</div>
<div class="ltx_classification">
<h6 class="ltx_title ltx_title_classification">keywords: </h6>speech recognition, E2E, multi-lingual, prompting, adaptation
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">In recent years, multilingual speech recognition models have emerged, taking advantage of massive computational resources and large amounts of data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.
These are efficiently trained by aggregating large amounts of data into a single model.
For example, Whisper supports more than 100 languages in a single model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>.
Open Whisper-style speech model is a model that reproduces a Whisper-like model with open data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>.
Google universal speech model uses large amounts of unpaired data to improve recognition performance for low-resource languages <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>.
Meta has proposed MMS and is attempting to extend it to over 1000 languages <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.
Multilingual speech recognition has been reported to be advantageous in terms of data efficiency, especially in low-resource languages <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Language identification is often provided as a secondary function of multilingual speech recognition.
In addition to simply identify the language of speech, there are also attempts to detect language switches in multi-speaker conversations <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.
However, language identification is not always required for daily use in speech recognition systems.
When individuals use speech recognition, the language they speak is often predetermined.
E2E multilingual speech recognition provides a function to adapt the model for a specific language by giving the target language ID as a prompt to the decoder, especially for the attention-based encoder decoder <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>.
It has been reported that providing a language ID can significantly improve multilingual recognition performance <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">On the other hand, it is also reported that multi-task training and joint-decoding using Connectionist Temporal Classification (CTC) can improve recognition performance in E2E multi-language speech recognition <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>.
In this joint-decoding framework, we hypothesize that the performance can be further improved by providing language IDs while computing the CTC output.
However, since the CTC output at each frame is conditionally independent, it is not possible to adapt the recognition results by providing a language ID as the decoder.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Self-conditioned CTC (SC-CTC) is proposed to mitigate the conditional independence of CTC.
SC-CTC calculates CTC loss in the middle layer of the encoder and adds the intermediate prediction to the input of the next encoder layer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>.
Many variants of SC-CTC have been proposed to improve its performance <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.
Related to multilingual speech recognition, hierarchically changing the importance of language tokens during training has also been proposed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.
However, this previous study targets training methods and not language adaptation during inference.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Our proposed method uses the general SC-CTC framework during training and can be adapted quickly by simply providing prompts during inference.
Prompting is accomplished by modifying the probabilities of language IDs of the token sequence estimated in the intermediate layer.
Prior work adapts by adding linguistic information to the input <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.
However, the prior work requires a significant change in structure during training and does not assume the case where no linguistic information is given.
On the other hand, our method can operate as a general self-conditioned model if no prompt is given during inference.
We confirmed the effectiveness of our proposed method with the Common Voice, VoxForge and FLEURS corpus <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>.
Experiments showed that our method achieved an average relative error reduction of 28% on Common Voice data.
It was also particularly effective for extremely low-resource languages, achieving an error reduction of 41% for languages with less than 5 hours of training data.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related works</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>E2E multilingual ASR</h3>

<figure id="S2.F1" class="ltx_figure"><img src="/html/2406.12611/assets/figure/decoderprompting.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="285" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Multilingual ASR with language prompts added to the decoder.</figcaption>
</figure>
<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Multilingual speech recognition has received a great deal of attention in recent years, and many studies and models have been published <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.
By training many languages with a single model, the recognition performance is improved, especially for languages with a small number of data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>.
In our study, we further focus on the E2E multilingual model, which estimates language IDs simultaneously with the text.
As shown in Figure <a href="#S2.F1" title="Figure 1 ‣ 2.1 E2E multilingual ASR ‣ 2 Related works ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, this model uses the token sequence with the language ID added to the beginning of the transcription in training.
During inference, users can choose to explicitly specify the language or not.
If they want to specify the language, they can fix the language ID; if not, they can use the model to infer the language ID as well.
This allows the model to be flexibly controlled according to the situation in which it is used.
For example, in situations where the input speech comes from an unspecified number of speakers, such as on the internet, supporting as many languages as possible will provide many people with the opportunity to interact freely.
On the other hand, in situations where the language of input speech is predetermined, such as on a personal device, the recognition accuracy can be improved by using the system specialized for a particular language.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Self-conditioned CTC</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">CTC is a non-autoregressive model in which each frame is conditionally independent <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.
This is an advantage of fast computation, but it can also be a disadvantage.
Since conditional independence is a strong assumption, generating text sequences using CTC alone can be suboptimal.
Therefore, CTC is often used in combination with an attention decoder <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>.
It has been reported that multitask training and joint-decoding with CTC are effective for E2E speech recognition.
This technique is useful not only for improving recognition accuracy but also for contributing to training stability.
On the other hand, SC-CTC has been proposed to mitigate the conditional independence assumption <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>.
SC-CTC is an extension of intermediate CTC (InterCTC) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>.
InterCTC is a method of performing multitask training by calculating CTC losses in the intermediate layer of the encoder.
This has been shown to stabilize encoder training.
SC-CTC further adds the estimated CTC labels at the intermediate layer to the next layer through a linear transformation.
It has been reported that this subnetwork improves the recognition performance of the CTC model.
Furthermore, SC-CTC improves the joint-decoding performance using CTC and an attention-based encoder-decoder (AED) for multilingual ASR as shown in Figure <a href="#S3.F2" title="Figure 2 ‣ 3.1 Rapid language adaptation ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Proposed method</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Rapid language adaptation</h3>

<figure id="S3.F2" class="ltx_figure"><img src="/html/2406.12611/assets/figure/selfconditionedCTC.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="328" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Joint CTC-AED model with self-conditioned CTC for multilingual ASR.</figcaption>
</figure>
<figure id="S3.F3" class="ltx_figure"><img src="/html/2406.12611/assets/figure/encoderprompting.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="328" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Proposed rapid language adaptation with encoder prompting during inference.</figcaption>
</figure>
<figure id="S3.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Comparison of related baseline models and our proposed encoder prompting (Sec. 3.2) on Common Voice evaluation set in CER(%). The languages are divided into high, middle, low, and extreme low according to the amount of data. High is for languages with more than 100 hours of data, middle is for 20-100 hours, low is for 5-20 hours, and extremely low is for less than 5 hours.</figcaption>
<table id="S3.T1.16" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T1.16.17.1" class="ltx_tr">
<td id="S3.T1.16.17.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">ID</td>
<td id="S3.T1.16.17.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">encoder type</td>
<td id="S3.T1.16.17.1.3" class="ltx_td ltx_align_center ltx_border_t">
<table id="S3.T1.16.17.1.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.16.17.1.3.1.1" class="ltx_tr">
<td id="S3.T1.16.17.1.3.1.1.1" class="ltx_td ltx_align_center">joint</td>
</tr>
<tr id="S3.T1.16.17.1.3.1.2" class="ltx_tr">
<td id="S3.T1.16.17.1.3.1.2.1" class="ltx_td ltx_align_center">decoding</td>
</tr>
</table>
</td>
<td id="S3.T1.16.17.1.4" class="ltx_td ltx_align_center ltx_border_t">
<table id="S3.T1.16.17.1.4.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.16.17.1.4.1.1" class="ltx_tr">
<td id="S3.T1.16.17.1.4.1.1.1" class="ltx_td ltx_align_center">decoder</td>
</tr>
<tr id="S3.T1.16.17.1.4.1.2" class="ltx_tr">
<td id="S3.T1.16.17.1.4.1.2.1" class="ltx_td ltx_align_center">prompting</td>
</tr>
</table>
</td>
<td id="S3.T1.16.17.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<table id="S3.T1.16.17.1.5.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T1.16.17.1.5.1.1" class="ltx_tr">
<td id="S3.T1.16.17.1.5.1.1.1" class="ltx_td ltx_align_center">encoder</td>
</tr>
<tr id="S3.T1.16.17.1.5.1.2" class="ltx_tr">
<td id="S3.T1.16.17.1.5.1.2.1" class="ltx_td ltx_align_center">prompting</td>
</tr>
</table>
</td>
<td id="S3.T1.16.17.1.6" class="ltx_td ltx_align_center ltx_border_t">high</td>
<td id="S3.T1.16.17.1.7" class="ltx_td ltx_align_center ltx_border_t">middle</td>
<td id="S3.T1.16.17.1.8" class="ltx_td ltx_align_center ltx_border_t">low</td>
<td id="S3.T1.16.17.1.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ex.low</td>
<td id="S3.T1.16.17.1.10" class="ltx_td ltx_align_center ltx_border_t">avg.</td>
</tr>
<tr id="S3.T1.16.18.2" class="ltx_tr">
<td id="S3.T1.16.18.2.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">(a)</td>
<td id="S3.T1.16.18.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Transformer</td>
<td id="S3.T1.16.18.2.3" class="ltx_td ltx_border_t"></td>
<td id="S3.T1.16.18.2.4" class="ltx_td ltx_border_t"></td>
<td id="S3.T1.16.18.2.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S3.T1.16.18.2.6" class="ltx_td ltx_align_center ltx_border_t">
<span id="S3.T1.16.18.2.6.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>6.1</td>
<td id="S3.T1.16.18.2.7" class="ltx_td ltx_align_center ltx_border_t">10.5</td>
<td id="S3.T1.16.18.2.8" class="ltx_td ltx_align_center ltx_border_t">26.7</td>
<td id="S3.T1.16.18.2.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">39.7</td>
<td id="S3.T1.16.18.2.10" class="ltx_td ltx_align_center ltx_border_t">22.9</td>
</tr>
<tr id="S3.T1.1.1" class="ltx_tr">
<td id="S3.T1.1.1.2" class="ltx_td ltx_align_left ltx_border_r">(b)</td>
<td id="S3.T1.1.1.3" class="ltx_td ltx_align_left ltx_border_r">Transformer</td>
<td id="S3.T1.1.1.1" class="ltx_td ltx_align_center"><math id="S3.T1.1.1.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.1.1.1.m1.1a"><mi mathvariant="normal" id="S3.T1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.m1.1b"><ci id="S3.T1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.1.1.4" class="ltx_td"></td>
<td id="S3.T1.1.1.5" class="ltx_td ltx_border_r"></td>
<td id="S3.T1.1.1.6" class="ltx_td ltx_align_center">
<span id="S3.T1.1.1.6.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>6.2</td>
<td id="S3.T1.1.1.7" class="ltx_td ltx_align_center">10.3</td>
<td id="S3.T1.1.1.8" class="ltx_td ltx_align_center">26.2</td>
<td id="S3.T1.1.1.9" class="ltx_td ltx_align_center ltx_border_r">39.6</td>
<td id="S3.T1.1.1.10" class="ltx_td ltx_align_center">22.6</td>
</tr>
<tr id="S3.T1.2.2" class="ltx_tr">
<td id="S3.T1.2.2.2" class="ltx_td ltx_align_left ltx_border_r">(c)</td>
<td id="S3.T1.2.2.3" class="ltx_td ltx_align_left ltx_border_r">InterCTC</td>
<td id="S3.T1.2.2.1" class="ltx_td ltx_align_center"><math id="S3.T1.2.2.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.2.2.1.m1.1a"><mi mathvariant="normal" id="S3.T1.2.2.1.m1.1.1" xref="S3.T1.2.2.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.1.m1.1b"><ci id="S3.T1.2.2.1.m1.1.1.cmml" xref="S3.T1.2.2.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.2.2.4" class="ltx_td"></td>
<td id="S3.T1.2.2.5" class="ltx_td ltx_border_r"></td>
<td id="S3.T1.2.2.6" class="ltx_td ltx_align_center">
<span id="S3.T1.2.2.6.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>6.1</td>
<td id="S3.T1.2.2.7" class="ltx_td ltx_align_center">11.4</td>
<td id="S3.T1.2.2.8" class="ltx_td ltx_align_center">28.1</td>
<td id="S3.T1.2.2.9" class="ltx_td ltx_align_center ltx_border_r">40.6</td>
<td id="S3.T1.2.2.10" class="ltx_td ltx_align_center">23.7</td>
</tr>
<tr id="S3.T1.3.3" class="ltx_tr">
<td id="S3.T1.3.3.2" class="ltx_td ltx_align_left ltx_border_r">(d)</td>
<td id="S3.T1.3.3.3" class="ltx_td ltx_align_left ltx_border_r">SC-CTC</td>
<td id="S3.T1.3.3.1" class="ltx_td ltx_align_center"><math id="S3.T1.3.3.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.3.3.1.m1.1a"><mi mathvariant="normal" id="S3.T1.3.3.1.m1.1.1" xref="S3.T1.3.3.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.3.3.1.m1.1b"><ci id="S3.T1.3.3.1.m1.1.1.cmml" xref="S3.T1.3.3.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.3.3.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.3.3.4" class="ltx_td"></td>
<td id="S3.T1.3.3.5" class="ltx_td ltx_border_r"></td>
<td id="S3.T1.3.3.6" class="ltx_td ltx_align_center">
<span id="S3.T1.3.3.6.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>6.1</td>
<td id="S3.T1.3.3.7" class="ltx_td ltx_align_center">11.2</td>
<td id="S3.T1.3.3.8" class="ltx_td ltx_align_center">27.9</td>
<td id="S3.T1.3.3.9" class="ltx_td ltx_align_center ltx_border_r">42.5</td>
<td id="S3.T1.3.3.10" class="ltx_td ltx_align_center">24.2</td>
</tr>
<tr id="S3.T1.4.4" class="ltx_tr">
<td id="S3.T1.4.4.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">(e)</td>
<td id="S3.T1.4.4.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Transformer</td>
<td id="S3.T1.4.4.4" class="ltx_td ltx_border_t"></td>
<td id="S3.T1.4.4.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S3.T1.4.4.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.4.4.1.m1.1a"><mi mathvariant="normal" id="S3.T1.4.4.1.m1.1.1" xref="S3.T1.4.4.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.4.4.1.m1.1b"><ci id="S3.T1.4.4.1.m1.1.1.cmml" xref="S3.T1.4.4.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.4.4.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.4.4.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S3.T1.4.4.6" class="ltx_td ltx_align_center ltx_border_t">
<span id="S3.T1.4.4.6.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>5.9</td>
<td id="S3.T1.4.4.7" class="ltx_td ltx_align_center ltx_border_t">
<span id="S3.T1.4.4.7.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>9.3</td>
<td id="S3.T1.4.4.8" class="ltx_td ltx_align_center ltx_border_t">21.4</td>
<td id="S3.T1.4.4.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">35.5</td>
<td id="S3.T1.4.4.10" class="ltx_td ltx_align_center ltx_border_t">19.9</td>
</tr>
<tr id="S3.T1.6.6" class="ltx_tr">
<td id="S3.T1.6.6.3" class="ltx_td ltx_align_left ltx_border_r">(f)</td>
<td id="S3.T1.6.6.4" class="ltx_td ltx_align_left ltx_border_r">Transformer</td>
<td id="S3.T1.5.5.1" class="ltx_td ltx_align_center"><math id="S3.T1.5.5.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.5.5.1.m1.1a"><mi mathvariant="normal" id="S3.T1.5.5.1.m1.1.1" xref="S3.T1.5.5.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.5.5.1.m1.1b"><ci id="S3.T1.5.5.1.m1.1.1.cmml" xref="S3.T1.5.5.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.5.5.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.6.6.2" class="ltx_td ltx_align_center"><math id="S3.T1.6.6.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.6.6.2.m1.1a"><mi mathvariant="normal" id="S3.T1.6.6.2.m1.1.1" xref="S3.T1.6.6.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.6.6.2.m1.1b"><ci id="S3.T1.6.6.2.m1.1.1.cmml" xref="S3.T1.6.6.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.6.6.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.6.6.5" class="ltx_td ltx_border_r"></td>
<td id="S3.T1.6.6.6" class="ltx_td ltx_align_center">
<span id="S3.T1.6.6.6.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>6.1</td>
<td id="S3.T1.6.6.7" class="ltx_td ltx_align_center">
<span id="S3.T1.6.6.7.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>9.7</td>
<td id="S3.T1.6.6.8" class="ltx_td ltx_align_center">23.5</td>
<td id="S3.T1.6.6.9" class="ltx_td ltx_align_center ltx_border_r">35.0</td>
<td id="S3.T1.6.6.10" class="ltx_td ltx_align_center">20.4</td>
</tr>
<tr id="S3.T1.8.8" class="ltx_tr">
<td id="S3.T1.8.8.3" class="ltx_td ltx_align_left ltx_border_r">(g)</td>
<td id="S3.T1.8.8.4" class="ltx_td ltx_align_left ltx_border_r">InterCTC</td>
<td id="S3.T1.7.7.1" class="ltx_td ltx_align_center"><math id="S3.T1.7.7.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.7.7.1.m1.1a"><mi mathvariant="normal" id="S3.T1.7.7.1.m1.1.1" xref="S3.T1.7.7.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.7.7.1.m1.1b"><ci id="S3.T1.7.7.1.m1.1.1.cmml" xref="S3.T1.7.7.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.7.7.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.8.8.2" class="ltx_td ltx_align_center"><math id="S3.T1.8.8.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.8.8.2.m1.1a"><mi mathvariant="normal" id="S3.T1.8.8.2.m1.1.1" xref="S3.T1.8.8.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.8.8.2.m1.1b"><ci id="S3.T1.8.8.2.m1.1.1.cmml" xref="S3.T1.8.8.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.8.8.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.8.8.5" class="ltx_td ltx_border_r"></td>
<td id="S3.T1.8.8.6" class="ltx_td ltx_align_center">
<span id="S3.T1.8.8.6.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>6.0</td>
<td id="S3.T1.8.8.7" class="ltx_td ltx_align_center">10.5</td>
<td id="S3.T1.8.8.8" class="ltx_td ltx_align_center">25.5</td>
<td id="S3.T1.8.8.9" class="ltx_td ltx_align_center ltx_border_r">35.9</td>
<td id="S3.T1.8.8.10" class="ltx_td ltx_align_center">21.3</td>
</tr>
<tr id="S3.T1.10.10" class="ltx_tr">
<td id="S3.T1.10.10.3" class="ltx_td ltx_align_left ltx_border_r">(h)</td>
<td id="S3.T1.10.10.4" class="ltx_td ltx_align_left ltx_border_r">SC-CTC</td>
<td id="S3.T1.9.9.1" class="ltx_td ltx_align_center"><math id="S3.T1.9.9.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.9.9.1.m1.1a"><mi mathvariant="normal" id="S3.T1.9.9.1.m1.1.1" xref="S3.T1.9.9.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.9.9.1.m1.1b"><ci id="S3.T1.9.9.1.m1.1.1.cmml" xref="S3.T1.9.9.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.9.9.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.10.10.2" class="ltx_td ltx_align_center"><math id="S3.T1.10.10.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.10.10.2.m1.1a"><mi mathvariant="normal" id="S3.T1.10.10.2.m1.1.1" xref="S3.T1.10.10.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.10.10.2.m1.1b"><ci id="S3.T1.10.10.2.m1.1.1.cmml" xref="S3.T1.10.10.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.10.10.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.10.10.5" class="ltx_td ltx_border_r"></td>
<td id="S3.T1.10.10.6" class="ltx_td ltx_align_center">
<span id="S3.T1.10.10.6.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>6.1</td>
<td id="S3.T1.10.10.7" class="ltx_td ltx_align_center">10.4</td>
<td id="S3.T1.10.10.8" class="ltx_td ltx_align_center">26.2</td>
<td id="S3.T1.10.10.9" class="ltx_td ltx_align_center ltx_border_r">38.7</td>
<td id="S3.T1.10.10.10" class="ltx_td ltx_align_center">22.4</td>
</tr>
<tr id="S3.T1.12.12" class="ltx_tr">
<td id="S3.T1.12.12.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">(i)</td>
<td id="S3.T1.12.12.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">SC-CTC</td>
<td id="S3.T1.11.11.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S3.T1.11.11.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.11.11.1.m1.1a"><mi mathvariant="normal" id="S3.T1.11.11.1.m1.1.1" xref="S3.T1.11.11.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.11.11.1.m1.1b"><ci id="S3.T1.11.11.1.m1.1.1.cmml" xref="S3.T1.11.11.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.11.11.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.12.12.2" class="ltx_td ltx_align_center ltx_border_t"><math id="S3.T1.12.12.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.12.12.2.m1.1a"><mi mathvariant="normal" id="S3.T1.12.12.2.m1.1.1" xref="S3.T1.12.12.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.12.12.2.m1.1b"><ci id="S3.T1.12.12.2.m1.1.1.cmml" xref="S3.T1.12.12.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.12.12.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.12.12.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.12.12.5.1" class="ltx_text ltx_font_italic">Replacement</span></td>
<td id="S3.T1.12.12.6" class="ltx_td ltx_align_center ltx_border_t">
<span id="S3.T1.12.12.6.1" class="ltx_text ltx_phantom ltx_font_bold"><span style="visibility:hidden">0</span></span><span id="S3.T1.12.12.6.2" class="ltx_text ltx_font_bold">5.8</span>
</td>
<td id="S3.T1.12.12.7" class="ltx_td ltx_align_center ltx_border_t">
<span id="S3.T1.12.12.7.1" class="ltx_text ltx_phantom ltx_font_bold"><span style="visibility:hidden">0</span></span><span id="S3.T1.12.12.7.2" class="ltx_text ltx_font_bold">8.7</span>
</td>
<td id="S3.T1.12.12.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T1.12.12.8.1" class="ltx_text ltx_font_bold">18.1</span></td>
<td id="S3.T1.12.12.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T1.12.12.9.1" class="ltx_text ltx_font_bold">20.9</span></td>
<td id="S3.T1.12.12.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T1.12.12.10.1" class="ltx_text ltx_font_bold">14.3</span></td>
</tr>
<tr id="S3.T1.14.14" class="ltx_tr">
<td id="S3.T1.14.14.3" class="ltx_td ltx_align_left ltx_border_r">(j)</td>
<td id="S3.T1.14.14.4" class="ltx_td ltx_align_left ltx_border_r">SC-CTC</td>
<td id="S3.T1.13.13.1" class="ltx_td ltx_align_center"><math id="S3.T1.13.13.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.13.13.1.m1.1a"><mi mathvariant="normal" id="S3.T1.13.13.1.m1.1.1" xref="S3.T1.13.13.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.13.13.1.m1.1b"><ci id="S3.T1.13.13.1.m1.1.1.cmml" xref="S3.T1.13.13.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.13.13.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.14.14.2" class="ltx_td ltx_align_center"><math id="S3.T1.14.14.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.14.14.2.m1.1a"><mi mathvariant="normal" id="S3.T1.14.14.2.m1.1.1" xref="S3.T1.14.14.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.14.14.2.m1.1b"><ci id="S3.T1.14.14.2.m1.1.1.cmml" xref="S3.T1.14.14.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.14.14.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.14.14.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S3.T1.14.14.5.1" class="ltx_text ltx_font_italic">Aggregation</span></td>
<td id="S3.T1.14.14.6" class="ltx_td ltx_align_center">
<span id="S3.T1.14.14.6.1" class="ltx_text ltx_phantom ltx_font_bold"><span style="visibility:hidden">0</span></span><span id="S3.T1.14.14.6.2" class="ltx_text ltx_font_bold">5.8</span>
</td>
<td id="S3.T1.14.14.7" class="ltx_td ltx_align_center">
<span id="S3.T1.14.14.7.1" class="ltx_text ltx_phantom ltx_font_bold"><span style="visibility:hidden">0</span></span><span id="S3.T1.14.14.7.2" class="ltx_text ltx_font_bold">8.7</span>
</td>
<td id="S3.T1.14.14.8" class="ltx_td ltx_align_center"><span id="S3.T1.14.14.8.1" class="ltx_text ltx_font_bold">18.1</span></td>
<td id="S3.T1.14.14.9" class="ltx_td ltx_align_center ltx_border_r">21.0</td>
<td id="S3.T1.14.14.10" class="ltx_td ltx_align_center"><span id="S3.T1.14.14.10.1" class="ltx_text ltx_font_bold">14.3</span></td>
</tr>
<tr id="S3.T1.16.16" class="ltx_tr">
<td id="S3.T1.16.16.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r">(k)</td>
<td id="S3.T1.16.16.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r">SC-CTC</td>
<td id="S3.T1.15.15.1" class="ltx_td ltx_align_center ltx_border_b"><math id="S3.T1.15.15.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.15.15.1.m1.1a"><mi mathvariant="normal" id="S3.T1.15.15.1.m1.1.1" xref="S3.T1.15.15.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.15.15.1.m1.1b"><ci id="S3.T1.15.15.1.m1.1.1.cmml" xref="S3.T1.15.15.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.15.15.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.16.16.2" class="ltx_td ltx_align_center ltx_border_b"><math id="S3.T1.16.16.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T1.16.16.2.m1.1a"><mi mathvariant="normal" id="S3.T1.16.16.2.m1.1.1" xref="S3.T1.16.16.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T1.16.16.2.m1.1b"><ci id="S3.T1.16.16.2.m1.1.1.cmml" xref="S3.T1.16.16.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.16.16.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T1.16.16.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S3.T1.16.16.5.1" class="ltx_text ltx_font_italic">Prefix</span></td>
<td id="S3.T1.16.16.6" class="ltx_td ltx_align_center ltx_border_b">
<span id="S3.T1.16.16.6.1" class="ltx_text ltx_phantom"><span style="visibility:hidden">0</span></span>6.1</td>
<td id="S3.T1.16.16.7" class="ltx_td ltx_align_center ltx_border_b">10.4</td>
<td id="S3.T1.16.16.8" class="ltx_td ltx_align_center ltx_border_b">26.2</td>
<td id="S3.T1.16.16.9" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">38.7</td>
<td id="S3.T1.16.16.10" class="ltx_td ltx_align_center ltx_border_b">22.4</td>
</tr>
</tbody>
</table>
</figure>
<figure id="S3.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>Language ID accuracy (%) for various encoders. The ID of each row are unified with Table <a href="#S3.T1" title="Table 1 ‣ 3.1 Rapid language adaptation ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</figcaption>
<table id="S3.T2.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T2.1.1.1" class="ltx_tr">
<th id="S3.T2.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">ID</th>
<th id="S3.T2.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">encoder type</th>
<th id="S3.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">high</th>
<th id="S3.T2.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">middle</th>
<th id="S3.T2.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">low</th>
<th id="S3.T2.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">ex.low</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T2.1.2.1" class="ltx_tr">
<th id="S3.T2.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">(b)</th>
<th id="S3.T2.1.2.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Transformer</th>
<td id="S3.T2.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">98.2</td>
<td id="S3.T2.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t">93.0</td>
<td id="S3.T2.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">78.5</td>
<td id="S3.T2.1.2.1.6" class="ltx_td ltx_align_center ltx_border_t">43.6</td>
</tr>
<tr id="S3.T2.1.3.2" class="ltx_tr">
<th id="S3.T2.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">(c)</th>
<th id="S3.T2.1.3.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">InterCTC</th>
<td id="S3.T2.1.3.2.3" class="ltx_td ltx_align_center">97.7</td>
<td id="S3.T2.1.3.2.4" class="ltx_td ltx_align_center">89.9</td>
<td id="S3.T2.1.3.2.5" class="ltx_td ltx_align_center">73.8</td>
<td id="S3.T2.1.3.2.6" class="ltx_td ltx_align_center">38.4</td>
</tr>
<tr id="S3.T2.1.4.3" class="ltx_tr">
<th id="S3.T2.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r">(d)</th>
<th id="S3.T2.1.4.3.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r">SC-CTC</th>
<td id="S3.T2.1.4.3.3" class="ltx_td ltx_align_center ltx_border_b">97.7</td>
<td id="S3.T2.1.4.3.4" class="ltx_td ltx_align_center ltx_border_b">90.4</td>
<td id="S3.T2.1.4.3.5" class="ltx_td ltx_align_center ltx_border_b">73.6</td>
<td id="S3.T2.1.4.3.6" class="ltx_td ltx_align_center ltx_border_b">33.9</td>
</tr>
</tbody>
</table>
</figure>
<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">There are two ways to use E2E multilingual speech recognition.
One is to perform language identification and speech recognition simultaneously, which is targeted for environments where speech from an unspecified number of speakers is input.
The other is to use the model with a predefined language, which is intended for use on personal devices or within a limited community scenario where the language of the speaker is predetermined.
We propose encoder prompting, a new rapid language adaptation method targeting the latter case where the input language is predetermined.
The encoder prompting is to control not only the decoder but also the encoder in a prompt-based manner.
To achieve this, a SC-CTC-based joint ASR CTC model is first trained, as shown in Figure <a href="#S3.F2" title="Figure 2 ‣ 3.1 Rapid language adaptation ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
During inference, language IDs are modified to the predefined target language in the intermediate layer of the SC-CTC, as shown in Figure <a href="#S3.F3" title="Figure 3 ‣ 3.1 Rapid language adaptation ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> (Encoder Prompting).
Sec. <a href="#S3.SS2" title="3.2 Encoder prompting ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a> describes how to modify the labels.
After that, the modified token sequence is returned to the middle layer through a linear transformation similar to SC-CTC.
In Figure <a href="#S3.F3" title="Figure 3 ‣ 3.1 Rapid language adaptation ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, the input speech is English, but the intermediate layer has the highest probability of being Japanese.
In this case, the model knows the input language is English because it is predetermined by the user.
Therefore, the output of the intermediate layer is modified so that the probability of an English token is the highest.
Since the proposed method requires modification only during inference, it can be used to quickly adapt an already trained model.
Furthermore, the modified token sequence affects the output of the encoder, so it is reflected in the output of both the attention decoder as well as the CTC.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Encoder prompting</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.11" class="ltx_p">We investigated three ways to modify the output of CTC to reflect the language information.
The first is to modify only the frames with the highest language ID probability as:</p>
<table id="S5.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E1.m1.6" class="ltx_Math" alttext="\displaystyle\hat{p}_{t}(k)=\begin{cases}\text{OneHot}(k_{\text{target}})&amp;\mathop{\rm arg~{}max}\limits_{k^{\prime}}p_{t}(k^{\prime})\in K_{\text{LID}}\\
p_{t}(k)&amp;\text{otherwise}\end{cases}," display="inline"><semantics id="S3.E1.m1.6a"><mrow id="S3.E1.m1.6.6.1" xref="S3.E1.m1.6.6.1.1.cmml"><mrow id="S3.E1.m1.6.6.1.1" xref="S3.E1.m1.6.6.1.1.cmml"><mrow id="S3.E1.m1.6.6.1.1.2" xref="S3.E1.m1.6.6.1.1.2.cmml"><msub id="S3.E1.m1.6.6.1.1.2.2" xref="S3.E1.m1.6.6.1.1.2.2.cmml"><mover accent="true" id="S3.E1.m1.6.6.1.1.2.2.2" xref="S3.E1.m1.6.6.1.1.2.2.2.cmml"><mi id="S3.E1.m1.6.6.1.1.2.2.2.2" xref="S3.E1.m1.6.6.1.1.2.2.2.2.cmml">p</mi><mo id="S3.E1.m1.6.6.1.1.2.2.2.1" xref="S3.E1.m1.6.6.1.1.2.2.2.1.cmml">^</mo></mover><mi id="S3.E1.m1.6.6.1.1.2.2.3" xref="S3.E1.m1.6.6.1.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.1.1.2.1" xref="S3.E1.m1.6.6.1.1.2.1.cmml">​</mo><mrow id="S3.E1.m1.6.6.1.1.2.3.2" xref="S3.E1.m1.6.6.1.1.2.cmml"><mo stretchy="false" id="S3.E1.m1.6.6.1.1.2.3.2.1" xref="S3.E1.m1.6.6.1.1.2.cmml">(</mo><mi id="S3.E1.m1.5.5" xref="S3.E1.m1.5.5.cmml">k</mi><mo stretchy="false" id="S3.E1.m1.6.6.1.1.2.3.2.2" xref="S3.E1.m1.6.6.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.6.6.1.1.1" xref="S3.E1.m1.6.6.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.4.4a" xref="S3.E1.m1.6.6.1.1.3.1.cmml"><mo id="S3.E1.m1.4.4a.5" xref="S3.E1.m1.6.6.1.1.3.1.1.cmml">{</mo><mtable columnspacing="5pt" rowspacing="0pt" id="S3.E1.m1.4.4.4a" xref="S3.E1.m1.6.6.1.1.3.1.cmml"><mtr id="S3.E1.m1.4.4.4aa" xref="S3.E1.m1.6.6.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E1.m1.4.4.4ab" xref="S3.E1.m1.6.6.1.1.3.1.cmml"><mrow id="S3.E1.m1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.cmml"><mtext id="S3.E1.m1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.3a.cmml">OneHot</mtext><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E1.m1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E1.m1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.2.cmml">k</mi><mtext id="S3.E1.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.3a.cmml">target</mtext></msub><mo stretchy="false" id="S3.E1.m1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E1.m1.4.4.4ac" xref="S3.E1.m1.6.6.1.1.3.1.cmml"><mrow id="S3.E1.m1.2.2.2.2.2.1" xref="S3.E1.m1.2.2.2.2.2.1.cmml"><mrow id="S3.E1.m1.2.2.2.2.2.1.1" xref="S3.E1.m1.2.2.2.2.2.1.1.cmml"><munder id="S3.E1.m1.2.2.2.2.2.1.1.2" xref="S3.E1.m1.2.2.2.2.2.1.1.2.cmml"><mrow id="S3.E1.m1.2.2.2.2.2.1.1.2.2" xref="S3.E1.m1.2.2.2.2.2.1.1.2.2.cmml"><mi id="S3.E1.m1.2.2.2.2.2.1.1.2.2.2" xref="S3.E1.m1.2.2.2.2.2.1.1.2.2.2.cmml">arg</mi><mo lspace="0.330em" rspace="0em" id="S3.E1.m1.2.2.2.2.2.1.1.2.2.1" xref="S3.E1.m1.2.2.2.2.2.1.1.2.2.1.cmml">​</mo><mi id="S3.E1.m1.2.2.2.2.2.1.1.2.2.3" xref="S3.E1.m1.2.2.2.2.2.1.1.2.2.3.cmml">max</mi></mrow><msup id="S3.E1.m1.2.2.2.2.2.1.1.2.3" xref="S3.E1.m1.2.2.2.2.2.1.1.2.3.cmml"><mi id="S3.E1.m1.2.2.2.2.2.1.1.2.3.2" xref="S3.E1.m1.2.2.2.2.2.1.1.2.3.2.cmml">k</mi><mo id="S3.E1.m1.2.2.2.2.2.1.1.2.3.3" xref="S3.E1.m1.2.2.2.2.2.1.1.2.3.3.cmml">′</mo></msup></munder><mrow id="S3.E1.m1.2.2.2.2.2.1.1.1" xref="S3.E1.m1.2.2.2.2.2.1.1.1.cmml"><msub id="S3.E1.m1.2.2.2.2.2.1.1.1.3" xref="S3.E1.m1.2.2.2.2.2.1.1.1.3.cmml"><mi id="S3.E1.m1.2.2.2.2.2.1.1.1.3.2" xref="S3.E1.m1.2.2.2.2.2.1.1.1.3.2.cmml">p</mi><mi id="S3.E1.m1.2.2.2.2.2.1.1.1.3.3" xref="S3.E1.m1.2.2.2.2.2.1.1.1.3.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.2.2.2.2.2.1.1.1.2" xref="S3.E1.m1.2.2.2.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.2" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.cmml">(</mo><msup id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.2" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.2.cmml">k</mi><mo id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.3" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.3.cmml">′</mo></msup><mo stretchy="false" id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.3" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.2.2.2.2.2.1.2" xref="S3.E1.m1.2.2.2.2.2.1.2.cmml">∈</mo><msub id="S3.E1.m1.2.2.2.2.2.1.3" xref="S3.E1.m1.2.2.2.2.2.1.3.cmml"><mi id="S3.E1.m1.2.2.2.2.2.1.3.2" xref="S3.E1.m1.2.2.2.2.2.1.3.2.cmml">K</mi><mtext id="S3.E1.m1.2.2.2.2.2.1.3.3" xref="S3.E1.m1.2.2.2.2.2.1.3.3a.cmml">LID</mtext></msub></mrow></mtd></mtr><mtr id="S3.E1.m1.4.4.4ad" xref="S3.E1.m1.6.6.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E1.m1.4.4.4ae" xref="S3.E1.m1.6.6.1.1.3.1.cmml"><mrow id="S3.E1.m1.3.3.3.3.1.1" xref="S3.E1.m1.3.3.3.3.1.1.cmml"><msub id="S3.E1.m1.3.3.3.3.1.1.3" xref="S3.E1.m1.3.3.3.3.1.1.3.cmml"><mi id="S3.E1.m1.3.3.3.3.1.1.3.2" xref="S3.E1.m1.3.3.3.3.1.1.3.2.cmml">p</mi><mi id="S3.E1.m1.3.3.3.3.1.1.3.3" xref="S3.E1.m1.3.3.3.3.1.1.3.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.3.3.3.3.1.1.2" xref="S3.E1.m1.3.3.3.3.1.1.2.cmml">​</mo><mrow id="S3.E1.m1.3.3.3.3.1.1.4.2" xref="S3.E1.m1.3.3.3.3.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.3.3.3.3.1.1.4.2.1" xref="S3.E1.m1.3.3.3.3.1.1.cmml">(</mo><mi id="S3.E1.m1.3.3.3.3.1.1.1" xref="S3.E1.m1.3.3.3.3.1.1.1.cmml">k</mi><mo stretchy="false" id="S3.E1.m1.3.3.3.3.1.1.4.2.2" xref="S3.E1.m1.3.3.3.3.1.1.cmml">)</mo></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E1.m1.4.4.4af" xref="S3.E1.m1.6.6.1.1.3.1.cmml"><mtext id="S3.E1.m1.4.4.4.4.2.1" xref="S3.E1.m1.4.4.4.4.2.1a.cmml">otherwise</mtext></mtd></mtr></mtable></mrow></mrow><mo id="S3.E1.m1.6.6.1.2" xref="S3.E1.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.6b"><apply id="S3.E1.m1.6.6.1.1.cmml" xref="S3.E1.m1.6.6.1"><eq id="S3.E1.m1.6.6.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1"></eq><apply id="S3.E1.m1.6.6.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.2"><times id="S3.E1.m1.6.6.1.1.2.1.cmml" xref="S3.E1.m1.6.6.1.1.2.1"></times><apply id="S3.E1.m1.6.6.1.1.2.2.cmml" xref="S3.E1.m1.6.6.1.1.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.2.2.1.cmml" xref="S3.E1.m1.6.6.1.1.2.2">subscript</csymbol><apply id="S3.E1.m1.6.6.1.1.2.2.2.cmml" xref="S3.E1.m1.6.6.1.1.2.2.2"><ci id="S3.E1.m1.6.6.1.1.2.2.2.1.cmml" xref="S3.E1.m1.6.6.1.1.2.2.2.1">^</ci><ci id="S3.E1.m1.6.6.1.1.2.2.2.2.cmml" xref="S3.E1.m1.6.6.1.1.2.2.2.2">𝑝</ci></apply><ci id="S3.E1.m1.6.6.1.1.2.2.3.cmml" xref="S3.E1.m1.6.6.1.1.2.2.3">𝑡</ci></apply><ci id="S3.E1.m1.5.5.cmml" xref="S3.E1.m1.5.5">𝑘</ci></apply><apply id="S3.E1.m1.6.6.1.1.3.1.cmml" xref="S3.E1.m1.4.4a"><csymbol cd="latexml" id="S3.E1.m1.6.6.1.1.3.1.1.cmml" xref="S3.E1.m1.4.4a.5">cases</csymbol><apply id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1"><times id="S3.E1.m1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2"></times><ci id="S3.E1.m1.1.1.1.1.1.1.3a.cmml" xref="S3.E1.m1.1.1.1.1.1.1.3"><mtext id="S3.E1.m1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.3">OneHot</mtext></ci><apply id="S3.E1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.2">𝑘</ci><ci id="S3.E1.m1.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.E1.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1.1.1.3">target</mtext></ci></apply></apply><apply id="S3.E1.m1.2.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1"><in id="S3.E1.m1.2.2.2.2.2.1.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.2"></in><apply id="S3.E1.m1.2.2.2.2.2.1.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1"><apply id="S3.E1.m1.2.2.2.2.2.1.1.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.1.1.2.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2">subscript</csymbol><apply id="S3.E1.m1.2.2.2.2.2.1.1.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2.2"><times id="S3.E1.m1.2.2.2.2.2.1.1.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2.2.1"></times><ci id="S3.E1.m1.2.2.2.2.2.1.1.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2.2.2">arg</ci><ci id="S3.E1.m1.2.2.2.2.2.1.1.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2.2.3">max</ci></apply><apply id="S3.E1.m1.2.2.2.2.2.1.1.2.3.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.1.1.2.3.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2.3">superscript</csymbol><ci id="S3.E1.m1.2.2.2.2.2.1.1.2.3.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2.3.2">𝑘</ci><ci id="S3.E1.m1.2.2.2.2.2.1.1.2.3.3.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.2.3.3">′</ci></apply></apply><apply id="S3.E1.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1"><times id="S3.E1.m1.2.2.2.2.2.1.1.1.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1.2"></times><apply id="S3.E1.m1.2.2.2.2.2.1.1.1.3.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.1.1.1.3.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.2.2.2.2.2.1.1.1.3.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1.3.2">𝑝</ci><ci id="S3.E1.m1.2.2.2.2.2.1.1.1.3.3.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1.3.3">𝑡</ci></apply><apply id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1">superscript</csymbol><ci id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.2">𝑘</ci><ci id="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.2.2.2.2.2.1.1.1.1.1.1.3">′</ci></apply></apply></apply><apply id="S3.E1.m1.2.2.2.2.2.1.3.cmml" xref="S3.E1.m1.2.2.2.2.2.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.1.3.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1.3">subscript</csymbol><ci id="S3.E1.m1.2.2.2.2.2.1.3.2.cmml" xref="S3.E1.m1.2.2.2.2.2.1.3.2">𝐾</ci><ci id="S3.E1.m1.2.2.2.2.2.1.3.3a.cmml" xref="S3.E1.m1.2.2.2.2.2.1.3.3"><mtext mathsize="70%" id="S3.E1.m1.2.2.2.2.2.1.3.3.cmml" xref="S3.E1.m1.2.2.2.2.2.1.3.3">LID</mtext></ci></apply></apply><apply id="S3.E1.m1.3.3.3.3.1.1.cmml" xref="S3.E1.m1.3.3.3.3.1.1"><times id="S3.E1.m1.3.3.3.3.1.1.2.cmml" xref="S3.E1.m1.3.3.3.3.1.1.2"></times><apply id="S3.E1.m1.3.3.3.3.1.1.3.cmml" xref="S3.E1.m1.3.3.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.3.3.1.1.3.1.cmml" xref="S3.E1.m1.3.3.3.3.1.1.3">subscript</csymbol><ci id="S3.E1.m1.3.3.3.3.1.1.3.2.cmml" xref="S3.E1.m1.3.3.3.3.1.1.3.2">𝑝</ci><ci id="S3.E1.m1.3.3.3.3.1.1.3.3.cmml" xref="S3.E1.m1.3.3.3.3.1.1.3.3">𝑡</ci></apply><ci id="S3.E1.m1.3.3.3.3.1.1.1.cmml" xref="S3.E1.m1.3.3.3.3.1.1.1">𝑘</ci></apply><ci id="S3.E1.m1.4.4.4.4.2.1a.cmml" xref="S3.E1.m1.4.4.4.4.2.1"><mtext id="S3.E1.m1.4.4.4.4.2.1.cmml" xref="S3.E1.m1.4.4.4.4.2.1">otherwise</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.6c">\displaystyle\hat{p}_{t}(k)=\begin{cases}\text{OneHot}(k_{\text{target}})&amp;\mathop{\rm arg~{}max}\limits_{k^{\prime}}p_{t}(k^{\prime})\in K_{\text{LID}}\\
p_{t}(k)&amp;\text{otherwise}\end{cases},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p1.10" class="ltx_p">where <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="p_{t}(k)" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mrow id="S3.SS2.p1.1.m1.1.2" xref="S3.SS2.p1.1.m1.1.2.cmml"><msub id="S3.SS2.p1.1.m1.1.2.2" xref="S3.SS2.p1.1.m1.1.2.2.cmml"><mi id="S3.SS2.p1.1.m1.1.2.2.2" xref="S3.SS2.p1.1.m1.1.2.2.2.cmml">p</mi><mi id="S3.SS2.p1.1.m1.1.2.2.3" xref="S3.SS2.p1.1.m1.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.1.2.1" xref="S3.SS2.p1.1.m1.1.2.1.cmml">​</mo><mrow id="S3.SS2.p1.1.m1.1.2.3.2" xref="S3.SS2.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p1.1.m1.1.2.3.2.1" xref="S3.SS2.p1.1.m1.1.2.cmml">(</mo><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">k</mi><mo stretchy="false" id="S3.SS2.p1.1.m1.1.2.3.2.2" xref="S3.SS2.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.2"><times id="S3.SS2.p1.1.m1.1.2.1.cmml" xref="S3.SS2.p1.1.m1.1.2.1"></times><apply id="S3.SS2.p1.1.m1.1.2.2.cmml" xref="S3.SS2.p1.1.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.2.2.1.cmml" xref="S3.SS2.p1.1.m1.1.2.2">subscript</csymbol><ci id="S3.SS2.p1.1.m1.1.2.2.2.cmml" xref="S3.SS2.p1.1.m1.1.2.2.2">𝑝</ci><ci id="S3.SS2.p1.1.m1.1.2.2.3.cmml" xref="S3.SS2.p1.1.m1.1.2.2.3">𝑡</ci></apply><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">p_{t}(k)</annotation></semantics></math> is the intermediate layer's output probability for token <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">k</annotation></semantics></math> in time <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">t</annotation></semantics></math> and <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="\hat{p}_{t}(k)" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><mrow id="S3.SS2.p1.4.m4.1.2" xref="S3.SS2.p1.4.m4.1.2.cmml"><msub id="S3.SS2.p1.4.m4.1.2.2" xref="S3.SS2.p1.4.m4.1.2.2.cmml"><mover accent="true" id="S3.SS2.p1.4.m4.1.2.2.2" xref="S3.SS2.p1.4.m4.1.2.2.2.cmml"><mi id="S3.SS2.p1.4.m4.1.2.2.2.2" xref="S3.SS2.p1.4.m4.1.2.2.2.2.cmml">p</mi><mo id="S3.SS2.p1.4.m4.1.2.2.2.1" xref="S3.SS2.p1.4.m4.1.2.2.2.1.cmml">^</mo></mover><mi id="S3.SS2.p1.4.m4.1.2.2.3" xref="S3.SS2.p1.4.m4.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p1.4.m4.1.2.1" xref="S3.SS2.p1.4.m4.1.2.1.cmml">​</mo><mrow id="S3.SS2.p1.4.m4.1.2.3.2" xref="S3.SS2.p1.4.m4.1.2.cmml"><mo stretchy="false" id="S3.SS2.p1.4.m4.1.2.3.2.1" xref="S3.SS2.p1.4.m4.1.2.cmml">(</mo><mi id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">k</mi><mo stretchy="false" id="S3.SS2.p1.4.m4.1.2.3.2.2" xref="S3.SS2.p1.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.2.cmml" xref="S3.SS2.p1.4.m4.1.2"><times id="S3.SS2.p1.4.m4.1.2.1.cmml" xref="S3.SS2.p1.4.m4.1.2.1"></times><apply id="S3.SS2.p1.4.m4.1.2.2.cmml" xref="S3.SS2.p1.4.m4.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.2.2.1.cmml" xref="S3.SS2.p1.4.m4.1.2.2">subscript</csymbol><apply id="S3.SS2.p1.4.m4.1.2.2.2.cmml" xref="S3.SS2.p1.4.m4.1.2.2.2"><ci id="S3.SS2.p1.4.m4.1.2.2.2.1.cmml" xref="S3.SS2.p1.4.m4.1.2.2.2.1">^</ci><ci id="S3.SS2.p1.4.m4.1.2.2.2.2.cmml" xref="S3.SS2.p1.4.m4.1.2.2.2.2">𝑝</ci></apply><ci id="S3.SS2.p1.4.m4.1.2.2.3.cmml" xref="S3.SS2.p1.4.m4.1.2.2.3">𝑡</ci></apply><ci id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">\hat{p}_{t}(k)</annotation></semantics></math> is the modified probability after encoder prompting.
<math id="S3.SS2.p1.5.m5.1" class="ltx_Math" alttext="K_{\text{LID}}" display="inline"><semantics id="S3.SS2.p1.5.m5.1a"><msub id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml"><mi id="S3.SS2.p1.5.m5.1.1.2" xref="S3.SS2.p1.5.m5.1.1.2.cmml">K</mi><mtext id="S3.SS2.p1.5.m5.1.1.3" xref="S3.SS2.p1.5.m5.1.1.3a.cmml">LID</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><apply id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p1.5.m5.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.2">𝐾</ci><ci id="S3.SS2.p1.5.m5.1.1.3a.cmml" xref="S3.SS2.p1.5.m5.1.1.3"><mtext mathsize="70%" id="S3.SS2.p1.5.m5.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.3">LID</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">K_{\text{LID}}</annotation></semantics></math> is the set of tokens corresponding to the language ID and <math id="S3.SS2.p1.6.m6.1" class="ltx_Math" alttext="k_{\text{target}}" display="inline"><semantics id="S3.SS2.p1.6.m6.1a"><msub id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml"><mi id="S3.SS2.p1.6.m6.1.1.2" xref="S3.SS2.p1.6.m6.1.1.2.cmml">k</mi><mtext id="S3.SS2.p1.6.m6.1.1.3" xref="S3.SS2.p1.6.m6.1.1.3a.cmml">target</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.1b"><apply id="S3.SS2.p1.6.m6.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m6.1.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p1.6.m6.1.1.2.cmml" xref="S3.SS2.p1.6.m6.1.1.2">𝑘</ci><ci id="S3.SS2.p1.6.m6.1.1.3a.cmml" xref="S3.SS2.p1.6.m6.1.1.3"><mtext mathsize="70%" id="S3.SS2.p1.6.m6.1.1.3.cmml" xref="S3.SS2.p1.6.m6.1.1.3">target</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.1c">k_{\text{target}}</annotation></semantics></math> is the target language ID.
<math id="S3.SS2.p1.7.m7.1" class="ltx_Math" alttext="\text{OneHot}(k_{\text{target}})" display="inline"><semantics id="S3.SS2.p1.7.m7.1a"><mrow id="S3.SS2.p1.7.m7.1.1" xref="S3.SS2.p1.7.m7.1.1.cmml"><mtext id="S3.SS2.p1.7.m7.1.1.3" xref="S3.SS2.p1.7.m7.1.1.3a.cmml">OneHot</mtext><mo lspace="0em" rspace="0em" id="S3.SS2.p1.7.m7.1.1.2" xref="S3.SS2.p1.7.m7.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.7.m7.1.1.1.1" xref="S3.SS2.p1.7.m7.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.7.m7.1.1.1.1.2" xref="S3.SS2.p1.7.m7.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p1.7.m7.1.1.1.1.1" xref="S3.SS2.p1.7.m7.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.7.m7.1.1.1.1.1.2" xref="S3.SS2.p1.7.m7.1.1.1.1.1.2.cmml">k</mi><mtext id="S3.SS2.p1.7.m7.1.1.1.1.1.3" xref="S3.SS2.p1.7.m7.1.1.1.1.1.3a.cmml">target</mtext></msub><mo stretchy="false" id="S3.SS2.p1.7.m7.1.1.1.1.3" xref="S3.SS2.p1.7.m7.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.1b"><apply id="S3.SS2.p1.7.m7.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1"><times id="S3.SS2.p1.7.m7.1.1.2.cmml" xref="S3.SS2.p1.7.m7.1.1.2"></times><ci id="S3.SS2.p1.7.m7.1.1.3a.cmml" xref="S3.SS2.p1.7.m7.1.1.3"><mtext id="S3.SS2.p1.7.m7.1.1.3.cmml" xref="S3.SS2.p1.7.m7.1.1.3">OneHot</mtext></ci><apply id="S3.SS2.p1.7.m7.1.1.1.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.7.m7.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.7.m7.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.7.m7.1.1.1.1.1.2">𝑘</ci><ci id="S3.SS2.p1.7.m7.1.1.1.1.1.3a.cmml" xref="S3.SS2.p1.7.m7.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.SS2.p1.7.m7.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.7.m7.1.1.1.1.1.3">target</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.1c">\text{OneHot}(k_{\text{target}})</annotation></semantics></math> describes the Kronecker delta.
If <math id="S3.SS2.p1.8.m8.1" class="ltx_Math" alttext="k=k_{\text{target}}" display="inline"><semantics id="S3.SS2.p1.8.m8.1a"><mrow id="S3.SS2.p1.8.m8.1.1" xref="S3.SS2.p1.8.m8.1.1.cmml"><mi id="S3.SS2.p1.8.m8.1.1.2" xref="S3.SS2.p1.8.m8.1.1.2.cmml">k</mi><mo id="S3.SS2.p1.8.m8.1.1.1" xref="S3.SS2.p1.8.m8.1.1.1.cmml">=</mo><msub id="S3.SS2.p1.8.m8.1.1.3" xref="S3.SS2.p1.8.m8.1.1.3.cmml"><mi id="S3.SS2.p1.8.m8.1.1.3.2" xref="S3.SS2.p1.8.m8.1.1.3.2.cmml">k</mi><mtext id="S3.SS2.p1.8.m8.1.1.3.3" xref="S3.SS2.p1.8.m8.1.1.3.3a.cmml">target</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.1b"><apply id="S3.SS2.p1.8.m8.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1"><eq id="S3.SS2.p1.8.m8.1.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1.1"></eq><ci id="S3.SS2.p1.8.m8.1.1.2.cmml" xref="S3.SS2.p1.8.m8.1.1.2">𝑘</ci><apply id="S3.SS2.p1.8.m8.1.1.3.cmml" xref="S3.SS2.p1.8.m8.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.8.m8.1.1.3.1.cmml" xref="S3.SS2.p1.8.m8.1.1.3">subscript</csymbol><ci id="S3.SS2.p1.8.m8.1.1.3.2.cmml" xref="S3.SS2.p1.8.m8.1.1.3.2">𝑘</ci><ci id="S3.SS2.p1.8.m8.1.1.3.3a.cmml" xref="S3.SS2.p1.8.m8.1.1.3.3"><mtext mathsize="70%" id="S3.SS2.p1.8.m8.1.1.3.3.cmml" xref="S3.SS2.p1.8.m8.1.1.3.3">target</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.1c">k=k_{\text{target}}</annotation></semantics></math>, it will be <math id="S3.SS2.p1.9.m9.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S3.SS2.p1.9.m9.1a"><mn id="S3.SS2.p1.9.m9.1.1" xref="S3.SS2.p1.9.m9.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m9.1b"><cn type="integer" id="S3.SS2.p1.9.m9.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m9.1c">1</annotation></semantics></math>; otherwise it will be <math id="S3.SS2.p1.10.m10.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S3.SS2.p1.10.m10.1a"><mn id="S3.SS2.p1.10.m10.1.1" xref="S3.SS2.p1.10.m10.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m10.1b"><cn type="integer" id="S3.SS2.p1.10.m10.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1">0</cn></annotation-xml></semantics></math>.
In this approach, the CTC output frames representing the language information are overwritten by the appropriate target language using a one-hot vector.
We call this approach as <span id="S3.SS2.p1.10.1" class="ltx_text ltx_font_italic">Replacement</span>.
Although this approach requires minimal modification, it does not modify the linguistic information that would have remained in other frames.
This is because the probability of language IDs is maximal only at the beginning of an utterance.
However, language information that remains in other frames, even with low probability, may affect recognition performance.
</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">Therefore, we further propose <span id="S3.SS2.p2.1.1" class="ltx_text ltx_font_italic">Aggregation</span> approach that modifies Eq.(<a href="#S3.E1" title="In 3.2 Encoder prompting ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>) to aggregate the probabilities of the other language IDs to the appropriate language ID in all frames as:</p>
<table id="S5.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E2.m1.8" class="ltx_Math" alttext="\displaystyle\hat{p}_{t}(k)=\begin{cases}p_{t}(k)&amp;k\notin K_{\text{LID}}\\
\sum_{k^{\prime}\in K_{\text{LID}}}p_{t}(k^{\prime})&amp;k=k_{\text{target}}\\
0&amp;\text{otherwise}\end{cases}." display="inline"><semantics id="S3.E2.m1.8a"><mrow id="S3.E2.m1.8.8.1" xref="S3.E2.m1.8.8.1.1.cmml"><mrow id="S3.E2.m1.8.8.1.1" xref="S3.E2.m1.8.8.1.1.cmml"><mrow id="S3.E2.m1.8.8.1.1.2" xref="S3.E2.m1.8.8.1.1.2.cmml"><msub id="S3.E2.m1.8.8.1.1.2.2" xref="S3.E2.m1.8.8.1.1.2.2.cmml"><mover accent="true" id="S3.E2.m1.8.8.1.1.2.2.2" xref="S3.E2.m1.8.8.1.1.2.2.2.cmml"><mi id="S3.E2.m1.8.8.1.1.2.2.2.2" xref="S3.E2.m1.8.8.1.1.2.2.2.2.cmml">p</mi><mo id="S3.E2.m1.8.8.1.1.2.2.2.1" xref="S3.E2.m1.8.8.1.1.2.2.2.1.cmml">^</mo></mover><mi id="S3.E2.m1.8.8.1.1.2.2.3" xref="S3.E2.m1.8.8.1.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.8.8.1.1.2.1" xref="S3.E2.m1.8.8.1.1.2.1.cmml">​</mo><mrow id="S3.E2.m1.8.8.1.1.2.3.2" xref="S3.E2.m1.8.8.1.1.2.cmml"><mo stretchy="false" id="S3.E2.m1.8.8.1.1.2.3.2.1" xref="S3.E2.m1.8.8.1.1.2.cmml">(</mo><mi id="S3.E2.m1.7.7" xref="S3.E2.m1.7.7.cmml">k</mi><mo stretchy="false" id="S3.E2.m1.8.8.1.1.2.3.2.2" xref="S3.E2.m1.8.8.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.8.8.1.1.1" xref="S3.E2.m1.8.8.1.1.1.cmml">=</mo><mrow id="S3.E2.m1.6.6a" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mo id="S3.E2.m1.6.6a.7" xref="S3.E2.m1.8.8.1.1.3.1.1.cmml">{</mo><mtable columnspacing="5pt" rowspacing="0pt" id="S3.E2.m1.6.6.6a" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mtr id="S3.E2.m1.6.6.6aa" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.6.6.6ab" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mrow id="S3.E2.m1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.1.1.1.1.1.1.3.2.cmml">p</mi><mi id="S3.E2.m1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.1.1.1.1.1.1.3.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.1.1.1.1.1.1.4.2" xref="S3.E2.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.1.1.1.1.1.1.4.2.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E2.m1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.cmml">k</mi><mo stretchy="false" id="S3.E2.m1.1.1.1.1.1.1.4.2.2" xref="S3.E2.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.6.6.6ac" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mrow id="S3.E2.m1.2.2.2.2.2.1" xref="S3.E2.m1.2.2.2.2.2.1.cmml"><mi id="S3.E2.m1.2.2.2.2.2.1.2" xref="S3.E2.m1.2.2.2.2.2.1.2.cmml">k</mi><mo id="S3.E2.m1.2.2.2.2.2.1.1" xref="S3.E2.m1.2.2.2.2.2.1.1.cmml">∉</mo><msub id="S3.E2.m1.2.2.2.2.2.1.3" xref="S3.E2.m1.2.2.2.2.2.1.3.cmml"><mi id="S3.E2.m1.2.2.2.2.2.1.3.2" xref="S3.E2.m1.2.2.2.2.2.1.3.2.cmml">K</mi><mtext id="S3.E2.m1.2.2.2.2.2.1.3.3" xref="S3.E2.m1.2.2.2.2.2.1.3.3a.cmml">LID</mtext></msub></mrow></mtd></mtr><mtr id="S3.E2.m1.6.6.6ad" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.6.6.6ae" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mrow id="S3.E2.m1.3.3.3.3.1.1" xref="S3.E2.m1.3.3.3.3.1.1.cmml"><msub id="S3.E2.m1.3.3.3.3.1.1.2" xref="S3.E2.m1.3.3.3.3.1.1.2.cmml"><mo id="S3.E2.m1.3.3.3.3.1.1.2.2" xref="S3.E2.m1.3.3.3.3.1.1.2.2.cmml">∑</mo><mrow id="S3.E2.m1.3.3.3.3.1.1.2.3" xref="S3.E2.m1.3.3.3.3.1.1.2.3.cmml"><msup id="S3.E2.m1.3.3.3.3.1.1.2.3.2" xref="S3.E2.m1.3.3.3.3.1.1.2.3.2.cmml"><mi id="S3.E2.m1.3.3.3.3.1.1.2.3.2.2" xref="S3.E2.m1.3.3.3.3.1.1.2.3.2.2.cmml">k</mi><mo id="S3.E2.m1.3.3.3.3.1.1.2.3.2.3" xref="S3.E2.m1.3.3.3.3.1.1.2.3.2.3.cmml">′</mo></msup><mo id="S3.E2.m1.3.3.3.3.1.1.2.3.1" xref="S3.E2.m1.3.3.3.3.1.1.2.3.1.cmml">∈</mo><msub id="S3.E2.m1.3.3.3.3.1.1.2.3.3" xref="S3.E2.m1.3.3.3.3.1.1.2.3.3.cmml"><mi id="S3.E2.m1.3.3.3.3.1.1.2.3.3.2" xref="S3.E2.m1.3.3.3.3.1.1.2.3.3.2.cmml">K</mi><mtext id="S3.E2.m1.3.3.3.3.1.1.2.3.3.3" xref="S3.E2.m1.3.3.3.3.1.1.2.3.3.3a.cmml">LID</mtext></msub></mrow></msub><mrow id="S3.E2.m1.3.3.3.3.1.1.1" xref="S3.E2.m1.3.3.3.3.1.1.1.cmml"><msub id="S3.E2.m1.3.3.3.3.1.1.1.3" xref="S3.E2.m1.3.3.3.3.1.1.1.3.cmml"><mi id="S3.E2.m1.3.3.3.3.1.1.1.3.2" xref="S3.E2.m1.3.3.3.3.1.1.1.3.2.cmml">p</mi><mi id="S3.E2.m1.3.3.3.3.1.1.1.3.3" xref="S3.E2.m1.3.3.3.3.1.1.1.3.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.3.3.1.1.1.2" xref="S3.E2.m1.3.3.3.3.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.3.3.3.3.1.1.1.1.1" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.3.3.3.3.1.1.1.1.1.2" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.cmml">(</mo><msup id="S3.E2.m1.3.3.3.3.1.1.1.1.1.1" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.2" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.2.cmml">k</mi><mo id="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.3" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.3.cmml">′</mo></msup><mo stretchy="false" id="S3.E2.m1.3.3.3.3.1.1.1.1.1.3" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.6.6.6af" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mrow id="S3.E2.m1.4.4.4.4.2.1" xref="S3.E2.m1.4.4.4.4.2.1.cmml"><mi id="S3.E2.m1.4.4.4.4.2.1.2" xref="S3.E2.m1.4.4.4.4.2.1.2.cmml">k</mi><mo id="S3.E2.m1.4.4.4.4.2.1.1" xref="S3.E2.m1.4.4.4.4.2.1.1.cmml">=</mo><msub id="S3.E2.m1.4.4.4.4.2.1.3" xref="S3.E2.m1.4.4.4.4.2.1.3.cmml"><mi id="S3.E2.m1.4.4.4.4.2.1.3.2" xref="S3.E2.m1.4.4.4.4.2.1.3.2.cmml">k</mi><mtext id="S3.E2.m1.4.4.4.4.2.1.3.3" xref="S3.E2.m1.4.4.4.4.2.1.3.3a.cmml">target</mtext></msub></mrow></mtd></mtr><mtr id="S3.E2.m1.6.6.6ag" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.6.6.6ah" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mn id="S3.E2.m1.5.5.5.5.1.1" xref="S3.E2.m1.5.5.5.5.1.1.cmml">0</mn></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E2.m1.6.6.6ai" xref="S3.E2.m1.8.8.1.1.3.1.cmml"><mtext id="S3.E2.m1.6.6.6.6.2.1" xref="S3.E2.m1.6.6.6.6.2.1a.cmml">otherwise</mtext></mtd></mtr></mtable></mrow></mrow><mo lspace="0em" id="S3.E2.m1.8.8.1.2" xref="S3.E2.m1.8.8.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.8b"><apply id="S3.E2.m1.8.8.1.1.cmml" xref="S3.E2.m1.8.8.1"><eq id="S3.E2.m1.8.8.1.1.1.cmml" xref="S3.E2.m1.8.8.1.1.1"></eq><apply id="S3.E2.m1.8.8.1.1.2.cmml" xref="S3.E2.m1.8.8.1.1.2"><times id="S3.E2.m1.8.8.1.1.2.1.cmml" xref="S3.E2.m1.8.8.1.1.2.1"></times><apply id="S3.E2.m1.8.8.1.1.2.2.cmml" xref="S3.E2.m1.8.8.1.1.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.8.8.1.1.2.2.1.cmml" xref="S3.E2.m1.8.8.1.1.2.2">subscript</csymbol><apply id="S3.E2.m1.8.8.1.1.2.2.2.cmml" xref="S3.E2.m1.8.8.1.1.2.2.2"><ci id="S3.E2.m1.8.8.1.1.2.2.2.1.cmml" xref="S3.E2.m1.8.8.1.1.2.2.2.1">^</ci><ci id="S3.E2.m1.8.8.1.1.2.2.2.2.cmml" xref="S3.E2.m1.8.8.1.1.2.2.2.2">𝑝</ci></apply><ci id="S3.E2.m1.8.8.1.1.2.2.3.cmml" xref="S3.E2.m1.8.8.1.1.2.2.3">𝑡</ci></apply><ci id="S3.E2.m1.7.7.cmml" xref="S3.E2.m1.7.7">𝑘</ci></apply><apply id="S3.E2.m1.8.8.1.1.3.1.cmml" xref="S3.E2.m1.6.6a"><csymbol cd="latexml" id="S3.E2.m1.8.8.1.1.3.1.1.cmml" xref="S3.E2.m1.6.6a.7">cases</csymbol><apply id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1"><times id="S3.E2.m1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2"></times><apply id="S3.E2.m1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3.2">𝑝</ci><ci id="S3.E2.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3.3">𝑡</ci></apply><ci id="S3.E2.m1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1">𝑘</ci></apply><apply id="S3.E2.m1.2.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.2.1"><notin id="S3.E2.m1.2.2.2.2.2.1.1.cmml" xref="S3.E2.m1.2.2.2.2.2.1.1"></notin><ci id="S3.E2.m1.2.2.2.2.2.1.2.cmml" xref="S3.E2.m1.2.2.2.2.2.1.2">𝑘</ci><apply id="S3.E2.m1.2.2.2.2.2.1.3.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.2.1.3.1.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3">subscript</csymbol><ci id="S3.E2.m1.2.2.2.2.2.1.3.2.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3.2">𝐾</ci><ci id="S3.E2.m1.2.2.2.2.2.1.3.3a.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3.3"><mtext mathsize="70%" id="S3.E2.m1.2.2.2.2.2.1.3.3.cmml" xref="S3.E2.m1.2.2.2.2.2.1.3.3">LID</mtext></ci></apply></apply><apply id="S3.E2.m1.3.3.3.3.1.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1"><apply id="S3.E2.m1.3.3.3.3.1.1.2.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.3.1.1.2.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2">subscript</csymbol><sum id="S3.E2.m1.3.3.3.3.1.1.2.2.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.2"></sum><apply id="S3.E2.m1.3.3.3.3.1.1.2.3.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3"><in id="S3.E2.m1.3.3.3.3.1.1.2.3.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.1"></in><apply id="S3.E2.m1.3.3.3.3.1.1.2.3.2.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.3.1.1.2.3.2.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.2">superscript</csymbol><ci id="S3.E2.m1.3.3.3.3.1.1.2.3.2.2.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.2.2">𝑘</ci><ci id="S3.E2.m1.3.3.3.3.1.1.2.3.2.3.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.2.3">′</ci></apply><apply id="S3.E2.m1.3.3.3.3.1.1.2.3.3.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.3.1.1.2.3.3.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.3">subscript</csymbol><ci id="S3.E2.m1.3.3.3.3.1.1.2.3.3.2.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.3.2">𝐾</ci><ci id="S3.E2.m1.3.3.3.3.1.1.2.3.3.3a.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.3.3"><mtext mathsize="50%" id="S3.E2.m1.3.3.3.3.1.1.2.3.3.3.cmml" xref="S3.E2.m1.3.3.3.3.1.1.2.3.3.3">LID</mtext></ci></apply></apply></apply><apply id="S3.E2.m1.3.3.3.3.1.1.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1"><times id="S3.E2.m1.3.3.3.3.1.1.1.2.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1.2"></times><apply id="S3.E2.m1.3.3.3.3.1.1.1.3.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.3.1.1.1.3.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.3.3.3.3.1.1.1.3.2.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1.3.2">𝑝</ci><ci id="S3.E2.m1.3.3.3.3.1.1.1.3.3.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1.3.3">𝑡</ci></apply><apply id="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1">superscript</csymbol><ci id="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.2">𝑘</ci><ci id="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.3.3.1.1.1.1.1.1.3">′</ci></apply></apply></apply><apply id="S3.E2.m1.4.4.4.4.2.1.cmml" xref="S3.E2.m1.4.4.4.4.2.1"><eq id="S3.E2.m1.4.4.4.4.2.1.1.cmml" xref="S3.E2.m1.4.4.4.4.2.1.1"></eq><ci id="S3.E2.m1.4.4.4.4.2.1.2.cmml" xref="S3.E2.m1.4.4.4.4.2.1.2">𝑘</ci><apply id="S3.E2.m1.4.4.4.4.2.1.3.cmml" xref="S3.E2.m1.4.4.4.4.2.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.4.2.1.3.1.cmml" xref="S3.E2.m1.4.4.4.4.2.1.3">subscript</csymbol><ci id="S3.E2.m1.4.4.4.4.2.1.3.2.cmml" xref="S3.E2.m1.4.4.4.4.2.1.3.2">𝑘</ci><ci id="S3.E2.m1.4.4.4.4.2.1.3.3a.cmml" xref="S3.E2.m1.4.4.4.4.2.1.3.3"><mtext mathsize="70%" id="S3.E2.m1.4.4.4.4.2.1.3.3.cmml" xref="S3.E2.m1.4.4.4.4.2.1.3.3">target</mtext></ci></apply></apply><cn type="integer" id="S3.E2.m1.5.5.5.5.1.1.cmml" xref="S3.E2.m1.5.5.5.5.1.1">0</cn><ci id="S3.E2.m1.6.6.6.6.2.1a.cmml" xref="S3.E2.m1.6.6.6.6.2.1"><mtext id="S3.E2.m1.6.6.6.6.2.1.cmml" xref="S3.E2.m1.6.6.6.6.2.1">otherwise</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.8c">\displaystyle\hat{p}_{t}(k)=\begin{cases}p_{t}(k)&amp;k\notin K_{\text{LID}}\\
\sum_{k^{\prime}\in K_{\text{LID}}}p_{t}(k^{\prime})&amp;k=k_{\text{target}}\\
0&amp;\text{otherwise}\end{cases}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p2.2" class="ltx_p">This approach can correct the language information in all frames.
Since the same process is applied to all frames, the implementation is simple.
However, <span id="S3.SS2.p2.2.1" class="ltx_text ltx_font_italic">Aggregation</span> may result in the probability of language IDs being too high in unintended frames.
If this were the case, it would be an unnatural label for multilingual speech recognition.</p>
</div>
<figure id="S3.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Investigation of using soft prompting (Sec. 3.3) on Common Voice data in CER(%). In all conditions, encoder is SC-CTC and joint-decoding is used. The soft prompting is applied to 3 languages during inference (English, Chinese and Japanese). The ID of each row are unified with Table <a href="#S3.T1" title="Table 1 ‣ 3.1 Rapid language adaptation ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</figcaption>
<table id="S3.T3.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T3.2.3.1" class="ltx_tr">
<th id="S3.T3.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">ID</th>
<th id="S3.T3.2.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">decoder</th>
<th id="S3.T3.2.3.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">encoder</th>
<th id="S3.T3.2.3.1.4" class="ltx_td ltx_th ltx_th_column ltx_border_t"></th>
<th id="S3.T3.2.3.1.5" class="ltx_td ltx_th ltx_th_column ltx_border_t"></th>
<th id="S3.T3.2.3.1.6" class="ltx_td ltx_th ltx_th_column ltx_border_t"></th>
</tr>
<tr id="S3.T3.2.4.2" class="ltx_tr">
<th id="S3.T3.2.4.2.1" class="ltx_td ltx_th ltx_th_column ltx_border_r"></th>
<th id="S3.T3.2.4.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column">prompting</th>
<th id="S3.T3.2.4.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r">prompting</th>
<th id="S3.T3.2.4.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column">EN</th>
<th id="S3.T3.2.4.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column">CN</th>
<th id="S3.T3.2.4.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column">JA</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T3.1.1" class="ltx_tr">
<td id="S3.T3.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">(h)</td>
<td id="S3.T3.1.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S3.T3.1.1.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T3.1.1.1.m1.1a"><mi mathvariant="normal" id="S3.T3.1.1.1.m1.1.1" xref="S3.T3.1.1.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T3.1.1.1.m1.1b"><ci id="S3.T3.1.1.1.m1.1.1.cmml" xref="S3.T3.1.1.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.1.1.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T3.1.1.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S3.T3.1.1.4" class="ltx_td ltx_align_center ltx_border_t">8.5</td>
<td id="S3.T3.1.1.5" class="ltx_td ltx_align_center ltx_border_t">23.4</td>
<td id="S3.T3.1.1.6" class="ltx_td ltx_align_center ltx_border_t">48.2</td>
</tr>
<tr id="S3.T3.2.2" class="ltx_tr">
<td id="S3.T3.2.2.2" class="ltx_td ltx_align_left ltx_border_r">(j)</td>
<td id="S3.T3.2.2.1" class="ltx_td ltx_align_center"><math id="S3.T3.2.2.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T3.2.2.1.m1.1a"><mi mathvariant="normal" id="S3.T3.2.2.1.m1.1.1" xref="S3.T3.2.2.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T3.2.2.1.m1.1b"><ci id="S3.T3.2.2.1.m1.1.1.cmml" xref="S3.T3.2.2.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.2.2.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T3.2.2.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S3.T3.2.2.3.1" class="ltx_text ltx_font_italic">Aggregation</span></td>
<td id="S3.T3.2.2.4" class="ltx_td ltx_align_center">8.4</td>
<td id="S3.T3.2.2.5" class="ltx_td ltx_align_center">22.6</td>
<td id="S3.T3.2.2.6" class="ltx_td ltx_align_center">36.5</td>
</tr>
<tr id="S3.T3.2.5.1" class="ltx_tr">
<td id="S3.T3.2.5.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">(d)</td>
<td id="S3.T3.2.5.1.2" class="ltx_td ltx_border_t"></td>
<td id="S3.T3.2.5.1.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S3.T3.2.5.1.4" class="ltx_td ltx_align_center ltx_border_t">8.5</td>
<td id="S3.T3.2.5.1.5" class="ltx_td ltx_align_center ltx_border_t">25.0</td>
<td id="S3.T3.2.5.1.6" class="ltx_td ltx_align_center ltx_border_t">51.2</td>
</tr>
<tr id="S3.T3.2.6.2" class="ltx_tr">
<td id="S3.T3.2.6.2.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_r">(l)</td>
<td id="S3.T3.2.6.2.2" class="ltx_td ltx_border_b"></td>
<td id="S3.T3.2.6.2.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S3.T3.2.6.2.3.1" class="ltx_text ltx_font_italic">Soft aggregation</span></td>
<td id="S3.T3.2.6.2.4" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T3.2.6.2.4.1" class="ltx_text ltx_font_bold">8.4</span></td>
<td id="S3.T3.2.6.2.5" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T3.2.6.2.5.1" class="ltx_text ltx_font_bold">23.2</span></td>
<td id="S3.T3.2.6.2.6" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T3.2.6.2.6.1" class="ltx_text ltx_font_bold">43.4</span></td>
</tr>
</tbody>
</table>
</figure>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p">On the other hand, unlike decoder prompts, <span id="S3.SS2.p3.1.1" class="ltx_text ltx_font_italic">Replacement</span> and <span id="S3.SS2.p3.1.2" class="ltx_text ltx_font_italic">Aggregation</span> do not allow the input of natural language prompts of any length.
To mitigate this, as a third approach, we propose <span id="S3.SS2.p3.1.3" class="ltx_text ltx_font_italic">Prefix</span> method that overwrites only the minimum number of frames necessary to represent the prompt from the beginning of the utterance.
In our experiments, language ID requires only one frame.
Therefore, we modify Eq.(<a href="#S3.E1" title="In 3.2 Encoder prompting ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>) such that only the head frame is replaced as:</p>
<table id="S5.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E3.m1.2" class="ltx_Math" alttext="\displaystyle\hat{p}_{t=0}(k)=\text{OneHot}(k_{\text{target}})." display="inline"><semantics id="S3.E3.m1.2a"><mrow id="S3.E3.m1.2.2.1" xref="S3.E3.m1.2.2.1.1.cmml"><mrow id="S3.E3.m1.2.2.1.1" xref="S3.E3.m1.2.2.1.1.cmml"><mrow id="S3.E3.m1.2.2.1.1.3" xref="S3.E3.m1.2.2.1.1.3.cmml"><msub id="S3.E3.m1.2.2.1.1.3.2" xref="S3.E3.m1.2.2.1.1.3.2.cmml"><mover accent="true" id="S3.E3.m1.2.2.1.1.3.2.2" xref="S3.E3.m1.2.2.1.1.3.2.2.cmml"><mi id="S3.E3.m1.2.2.1.1.3.2.2.2" xref="S3.E3.m1.2.2.1.1.3.2.2.2.cmml">p</mi><mo id="S3.E3.m1.2.2.1.1.3.2.2.1" xref="S3.E3.m1.2.2.1.1.3.2.2.1.cmml">^</mo></mover><mrow id="S3.E3.m1.2.2.1.1.3.2.3" xref="S3.E3.m1.2.2.1.1.3.2.3.cmml"><mi id="S3.E3.m1.2.2.1.1.3.2.3.2" xref="S3.E3.m1.2.2.1.1.3.2.3.2.cmml">t</mi><mo id="S3.E3.m1.2.2.1.1.3.2.3.1" xref="S3.E3.m1.2.2.1.1.3.2.3.1.cmml">=</mo><mn id="S3.E3.m1.2.2.1.1.3.2.3.3" xref="S3.E3.m1.2.2.1.1.3.2.3.3.cmml">0</mn></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.2.1.1.3.1" xref="S3.E3.m1.2.2.1.1.3.1.cmml">​</mo><mrow id="S3.E3.m1.2.2.1.1.3.3.2" xref="S3.E3.m1.2.2.1.1.3.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.1.1.3.3.2.1" xref="S3.E3.m1.2.2.1.1.3.cmml">(</mo><mi id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">k</mi><mo stretchy="false" id="S3.E3.m1.2.2.1.1.3.3.2.2" xref="S3.E3.m1.2.2.1.1.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.2.2.1.1.2" xref="S3.E3.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E3.m1.2.2.1.1.1" xref="S3.E3.m1.2.2.1.1.1.cmml"><mtext id="S3.E3.m1.2.2.1.1.1.3" xref="S3.E3.m1.2.2.1.1.1.3a.cmml">OneHot</mtext><mo lspace="0em" rspace="0em" id="S3.E3.m1.2.2.1.1.1.2" xref="S3.E3.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.2.2.1.1.1.1.1" xref="S3.E3.m1.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.1.1.1.1.1.2" xref="S3.E3.m1.2.2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E3.m1.2.2.1.1.1.1.1.1" xref="S3.E3.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.2.2.1.1.1.1.1.1.2" xref="S3.E3.m1.2.2.1.1.1.1.1.1.2.cmml">k</mi><mtext id="S3.E3.m1.2.2.1.1.1.1.1.1.3" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3a.cmml">target</mtext></msub><mo stretchy="false" id="S3.E3.m1.2.2.1.1.1.1.1.3" xref="S3.E3.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S3.E3.m1.2.2.1.2" xref="S3.E3.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.2b"><apply id="S3.E3.m1.2.2.1.1.cmml" xref="S3.E3.m1.2.2.1"><eq id="S3.E3.m1.2.2.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.2"></eq><apply id="S3.E3.m1.2.2.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.3"><times id="S3.E3.m1.2.2.1.1.3.1.cmml" xref="S3.E3.m1.2.2.1.1.3.1"></times><apply id="S3.E3.m1.2.2.1.1.3.2.cmml" xref="S3.E3.m1.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.3.2.1.cmml" xref="S3.E3.m1.2.2.1.1.3.2">subscript</csymbol><apply id="S3.E3.m1.2.2.1.1.3.2.2.cmml" xref="S3.E3.m1.2.2.1.1.3.2.2"><ci id="S3.E3.m1.2.2.1.1.3.2.2.1.cmml" xref="S3.E3.m1.2.2.1.1.3.2.2.1">^</ci><ci id="S3.E3.m1.2.2.1.1.3.2.2.2.cmml" xref="S3.E3.m1.2.2.1.1.3.2.2.2">𝑝</ci></apply><apply id="S3.E3.m1.2.2.1.1.3.2.3.cmml" xref="S3.E3.m1.2.2.1.1.3.2.3"><eq id="S3.E3.m1.2.2.1.1.3.2.3.1.cmml" xref="S3.E3.m1.2.2.1.1.3.2.3.1"></eq><ci id="S3.E3.m1.2.2.1.1.3.2.3.2.cmml" xref="S3.E3.m1.2.2.1.1.3.2.3.2">𝑡</ci><cn type="integer" id="S3.E3.m1.2.2.1.1.3.2.3.3.cmml" xref="S3.E3.m1.2.2.1.1.3.2.3.3">0</cn></apply></apply><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">𝑘</ci></apply><apply id="S3.E3.m1.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1"><times id="S3.E3.m1.2.2.1.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.1.2"></times><ci id="S3.E3.m1.2.2.1.1.1.3a.cmml" xref="S3.E3.m1.2.2.1.1.1.3"><mtext id="S3.E3.m1.2.2.1.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.1.3">OneHot</mtext></ci><apply id="S3.E3.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.2">𝑘</ci><ci id="S3.E3.m1.2.2.1.1.1.1.1.1.3a.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.E3.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.1.1.1.1.3">target</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.2c">\displaystyle\hat{p}_{t=0}(k)=\text{OneHot}(k_{\text{target}}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<figure id="S3.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>Comparison on FLEURS evaluation set for each language group in CER(%). </figcaption>
<table id="S3.T4.5" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T4.5.6.1" class="ltx_tr">
<th id="S3.T4.5.6.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">ID</th>
<th id="S3.T4.5.6.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<table id="S3.T4.5.6.1.2.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T4.5.6.1.2.1.1" class="ltx_tr">
<td id="S3.T4.5.6.1.2.1.1.1" class="ltx_td ltx_align_center">joint</td>
</tr>
<tr id="S3.T4.5.6.1.2.1.2" class="ltx_tr">
<td id="S3.T4.5.6.1.2.1.2.1" class="ltx_td ltx_align_center">decoding</td>
</tr>
</table>
</th>
<th id="S3.T4.5.6.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">
<table id="S3.T4.5.6.1.3.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T4.5.6.1.3.1.1" class="ltx_tr">
<td id="S3.T4.5.6.1.3.1.1.1" class="ltx_td ltx_align_center">decoder</td>
</tr>
<tr id="S3.T4.5.6.1.3.1.2" class="ltx_tr">
<td id="S3.T4.5.6.1.3.1.2.1" class="ltx_td ltx_align_center">prompting</td>
</tr>
</table>
</th>
<th id="S3.T4.5.6.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">
<table id="S3.T4.5.6.1.4.1" class="ltx_tabular ltx_align_middle">
<tr id="S3.T4.5.6.1.4.1.1" class="ltx_tr">
<td id="S3.T4.5.6.1.4.1.1.1" class="ltx_td ltx_align_center">encoder</td>
</tr>
<tr id="S3.T4.5.6.1.4.1.2" class="ltx_tr">
<td id="S3.T4.5.6.1.4.1.2.1" class="ltx_td ltx_align_center">prompting</td>
</tr>
</table>
</th>
<th id="S3.T4.5.6.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">WE</th>
<th id="S3.T4.5.6.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">EE</th>
<th id="S3.T4.5.6.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">CMN</th>
<th id="S3.T4.5.6.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">SSA</th>
<th id="S3.T4.5.6.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">SA</th>
<th id="S3.T4.5.6.1.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">SEA</th>
<th id="S3.T4.5.6.1.11" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">CJK</th>
<th id="S3.T4.5.6.1.12" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">avg.</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T4.1.1" class="ltx_tr">
<td id="S3.T4.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">(d)</td>
<td id="S3.T4.1.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S3.T4.1.1.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T4.1.1.1.m1.1a"><mi mathvariant="normal" id="S3.T4.1.1.1.m1.1.1" xref="S3.T4.1.1.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T4.1.1.1.m1.1b"><ci id="S3.T4.1.1.1.m1.1.1.cmml" xref="S3.T4.1.1.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.1.1.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T4.1.1.3" class="ltx_td ltx_border_t"></td>
<td id="S3.T4.1.1.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S3.T4.1.1.5" class="ltx_td ltx_align_center ltx_border_t">14.2</td>
<td id="S3.T4.1.1.6" class="ltx_td ltx_align_center ltx_border_t">11.6</td>
<td id="S3.T4.1.1.7" class="ltx_td ltx_align_center ltx_border_t">12.0</td>
<td id="S3.T4.1.1.8" class="ltx_td ltx_align_center ltx_border_t">16.4</td>
<td id="S3.T4.1.1.9" class="ltx_td ltx_align_center ltx_border_t">18.5</td>
<td id="S3.T4.1.1.10" class="ltx_td ltx_align_center ltx_border_t">18.0</td>
<td id="S3.T4.1.1.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">19.5</td>
<td id="S3.T4.1.1.12" class="ltx_td ltx_align_center ltx_border_t">15.2</td>
</tr>
<tr id="S3.T4.3.3" class="ltx_tr">
<td id="S3.T4.3.3.3" class="ltx_td ltx_align_left ltx_border_r">(h)</td>
<td id="S3.T4.2.2.1" class="ltx_td ltx_align_center"><math id="S3.T4.2.2.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T4.2.2.1.m1.1a"><mi mathvariant="normal" id="S3.T4.2.2.1.m1.1.1" xref="S3.T4.2.2.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T4.2.2.1.m1.1b"><ci id="S3.T4.2.2.1.m1.1.1.cmml" xref="S3.T4.2.2.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.2.2.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T4.3.3.2" class="ltx_td ltx_align_center"><math id="S3.T4.3.3.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T4.3.3.2.m1.1a"><mi mathvariant="normal" id="S3.T4.3.3.2.m1.1.1" xref="S3.T4.3.3.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T4.3.3.2.m1.1b"><ci id="S3.T4.3.3.2.m1.1.1.cmml" xref="S3.T4.3.3.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.3.3.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T4.3.3.4" class="ltx_td ltx_border_r"></td>
<td id="S3.T4.3.3.5" class="ltx_td ltx_align_center">13.9</td>
<td id="S3.T4.3.3.6" class="ltx_td ltx_align_center">10.9</td>
<td id="S3.T4.3.3.7" class="ltx_td ltx_align_center">11.9</td>
<td id="S3.T4.3.3.8" class="ltx_td ltx_align_center">16.2</td>
<td id="S3.T4.3.3.9" class="ltx_td ltx_align_center">17.8</td>
<td id="S3.T4.3.3.10" class="ltx_td ltx_align_center">17.7</td>
<td id="S3.T4.3.3.11" class="ltx_td ltx_align_center ltx_border_r">19.5</td>
<td id="S3.T4.3.3.12" class="ltx_td ltx_align_center">14.8</td>
</tr>
<tr id="S3.T4.5.5" class="ltx_tr">
<td id="S3.T4.5.5.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r">(j)</td>
<td id="S3.T4.4.4.1" class="ltx_td ltx_align_center ltx_border_b"><math id="S3.T4.4.4.1.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T4.4.4.1.m1.1a"><mi mathvariant="normal" id="S3.T4.4.4.1.m1.1.1" xref="S3.T4.4.4.1.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T4.4.4.1.m1.1b"><ci id="S3.T4.4.4.1.m1.1.1.cmml" xref="S3.T4.4.4.1.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.4.4.1.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T4.5.5.2" class="ltx_td ltx_align_center ltx_border_b"><math id="S3.T4.5.5.2.m1.1" class="ltx_Math" alttext="\checkmark" display="inline"><semantics id="S3.T4.5.5.2.m1.1a"><mi mathvariant="normal" id="S3.T4.5.5.2.m1.1.1" xref="S3.T4.5.5.2.m1.1.1.cmml">✓</mi><annotation-xml encoding="MathML-Content" id="S3.T4.5.5.2.m1.1b"><ci id="S3.T4.5.5.2.m1.1.1.cmml" xref="S3.T4.5.5.2.m1.1.1">✓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T4.5.5.2.m1.1c">\checkmark</annotation></semantics></math></td>
<td id="S3.T4.5.5.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S3.T4.5.5.4.1" class="ltx_text ltx_font_italic">Aggregation</span></td>
<td id="S3.T4.5.5.5" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T4.5.5.5.1" class="ltx_text ltx_font_bold">13.7</span></td>
<td id="S3.T4.5.5.6" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T4.5.5.6.1" class="ltx_text ltx_font_bold">10.4</span></td>
<td id="S3.T4.5.5.7" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T4.5.5.7.1" class="ltx_text ltx_font_bold">11.7</span></td>
<td id="S3.T4.5.5.8" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T4.5.5.8.1" class="ltx_text ltx_font_bold">16.1</span></td>
<td id="S3.T4.5.5.9" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T4.5.5.9.1" class="ltx_text ltx_font_bold">15.8</span></td>
<td id="S3.T4.5.5.10" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T4.5.5.10.1" class="ltx_text ltx_font_bold">16.8</span></td>
<td id="S3.T4.5.5.11" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S3.T4.5.5.11.1" class="ltx_text ltx_font_bold">19.4</span></td>
<td id="S3.T4.5.5.12" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T4.5.5.12.1" class="ltx_text ltx_font_bold">14.2</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Soft prompting</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.3" class="ltx_p">There may be applications where it is not necessary to recognize all languages, but only a few.
For example, in a service where three languages (e.g. English, Chinese and Japanese) are assumed to be input, it is necessary to perform language identification among the three languages.
The condition that only three languages are input out of more than a hundred language candidates is beneficial for speech recognition.
Our encoder prompting can provide this information to the model.
We propose to extend the encoder prompting approach, <span id="S3.SS3.p1.3.1" class="ltx_text ltx_font_italic">Aggregation</span> (Eq.(<a href="#S3.E2" title="In 3.2 Encoder prompting ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>)), specifically to multiple languages as:</p>
<table id="S5.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4.m1.8" class="ltx_Math" alttext="\displaystyle\hat{p}_{t}(k)=\begin{cases}p_{t}(k)&amp;k\notin K_{\text{LID}}\\
\frac{\sum_{k^{\prime}\in K_{\text{LID}}}p_{t}(k^{\prime})}{\sum_{k^{\prime}\in K_{\text{target}}}p_{t}(k^{\prime})}p(k)&amp;k\in K_{\text{target}}\\
0&amp;\text{otherwise}\end{cases}," display="inline"><semantics id="S3.E4.m1.8a"><mrow id="S3.E4.m1.8.8.1" xref="S3.E4.m1.8.8.1.1.cmml"><mrow id="S3.E4.m1.8.8.1.1" xref="S3.E4.m1.8.8.1.1.cmml"><mrow id="S3.E4.m1.8.8.1.1.2" xref="S3.E4.m1.8.8.1.1.2.cmml"><msub id="S3.E4.m1.8.8.1.1.2.2" xref="S3.E4.m1.8.8.1.1.2.2.cmml"><mover accent="true" id="S3.E4.m1.8.8.1.1.2.2.2" xref="S3.E4.m1.8.8.1.1.2.2.2.cmml"><mi id="S3.E4.m1.8.8.1.1.2.2.2.2" xref="S3.E4.m1.8.8.1.1.2.2.2.2.cmml">p</mi><mo id="S3.E4.m1.8.8.1.1.2.2.2.1" xref="S3.E4.m1.8.8.1.1.2.2.2.1.cmml">^</mo></mover><mi id="S3.E4.m1.8.8.1.1.2.2.3" xref="S3.E4.m1.8.8.1.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.8.8.1.1.2.1" xref="S3.E4.m1.8.8.1.1.2.1.cmml">​</mo><mrow id="S3.E4.m1.8.8.1.1.2.3.2" xref="S3.E4.m1.8.8.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.8.8.1.1.2.3.2.1" xref="S3.E4.m1.8.8.1.1.2.cmml">(</mo><mi id="S3.E4.m1.7.7" xref="S3.E4.m1.7.7.cmml">k</mi><mo stretchy="false" id="S3.E4.m1.8.8.1.1.2.3.2.2" xref="S3.E4.m1.8.8.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.8.8.1.1.1" xref="S3.E4.m1.8.8.1.1.1.cmml">=</mo><mrow id="S3.E4.m1.6.6a" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mo id="S3.E4.m1.6.6a.7" xref="S3.E4.m1.8.8.1.1.3.1.1.cmml">{</mo><mtable columnspacing="5pt" rowspacing="0pt" id="S3.E4.m1.6.6.6a" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mtr id="S3.E4.m1.6.6.6aa" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.6.6.6ab" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.cmml"><msub id="S3.E4.m1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.1.1.3.2.cmml">p</mi><mi id="S3.E4.m1.1.1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.1.1.3.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.4.2" xref="S3.E4.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.4.2.1" xref="S3.E4.m1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E4.m1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml">k</mi><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.4.2.2" xref="S3.E4.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.6.6.6ac" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mrow id="S3.E4.m1.2.2.2.2.2.1" xref="S3.E4.m1.2.2.2.2.2.1.cmml"><mi id="S3.E4.m1.2.2.2.2.2.1.2" xref="S3.E4.m1.2.2.2.2.2.1.2.cmml">k</mi><mo id="S3.E4.m1.2.2.2.2.2.1.1" xref="S3.E4.m1.2.2.2.2.2.1.1.cmml">∉</mo><msub id="S3.E4.m1.2.2.2.2.2.1.3" xref="S3.E4.m1.2.2.2.2.2.1.3.cmml"><mi id="S3.E4.m1.2.2.2.2.2.1.3.2" xref="S3.E4.m1.2.2.2.2.2.1.3.2.cmml">K</mi><mtext id="S3.E4.m1.2.2.2.2.2.1.3.3" xref="S3.E4.m1.2.2.2.2.2.1.3.3a.cmml">LID</mtext></msub></mrow></mtd></mtr><mtr id="S3.E4.m1.6.6.6ad" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.6.6.6ae" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mrow id="S3.E4.m1.3.3.3.3.1.1" xref="S3.E4.m1.3.3.3.3.1.1.cmml"><mfrac id="S3.E4.m1.3.3.3.3.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.2.cmml"><mrow id="S3.E4.m1.3.3.3.3.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.cmml"><mstyle displaystyle="false" id="S3.E4.m1.3.3.3.3.1.1.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.cmml"><msub id="S3.E4.m1.3.3.3.3.1.1.1.1.2a" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.cmml"><mo id="S3.E4.m1.3.3.3.3.1.1.1.1.2.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.cmml">∑</mo><mrow id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.cmml"><msup id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.2.cmml">k</mi><mo id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.3.cmml">′</mo></msup><mo id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.1.cmml">∈</mo><msub id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.2.cmml">K</mi><mtext id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.3a.cmml">LID</mtext></msub></mrow></msub></mstyle><mrow id="S3.E4.m1.3.3.3.3.1.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.cmml"><msub id="S3.E4.m1.3.3.3.3.1.1.1.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.2.cmml">p</mi><mi id="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.3.3.3.3.1.1.1.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.2.cmml">k</mi><mo id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo stretchy="false" id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mrow id="S3.E4.m1.3.3.3.3.1.1.2.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.cmml"><mstyle displaystyle="false" id="S3.E4.m1.3.3.3.3.1.1.2.2.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.cmml"><msub id="S3.E4.m1.3.3.3.3.1.1.2.2.2a" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.cmml"><mo id="S3.E4.m1.3.3.3.3.1.1.2.2.2.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.2.cmml">∑</mo><mrow id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.cmml"><msup id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.2.cmml">k</mi><mo id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.3" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.3.cmml">′</mo></msup><mo id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.1" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.1.cmml">∈</mo><msub id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.2.cmml">K</mi><mtext id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.3" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.3a.cmml">target</mtext></msub></mrow></msub></mstyle><mrow id="S3.E4.m1.3.3.3.3.1.1.2.2.1" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.cmml"><msub id="S3.E4.m1.3.3.3.3.1.1.2.2.1.3" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.2.cmml">p</mi><mi id="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.3" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.3.3.3.3.1.1.2.2.1.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.2.cmml">​</mo><mrow id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.cmml">(</mo><msup id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.cmml"><mi id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.2" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.2.cmml">k</mi><mo id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.3.cmml">′</mo></msup><mo stretchy="false" id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac><mo lspace="0em" rspace="0em" id="S3.E4.m1.3.3.3.3.1.1.4" xref="S3.E4.m1.3.3.3.3.1.1.4.cmml">​</mo><mi id="S3.E4.m1.3.3.3.3.1.1.5" xref="S3.E4.m1.3.3.3.3.1.1.5.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.3.3.3.3.1.1.4a" xref="S3.E4.m1.3.3.3.3.1.1.4.cmml">​</mo><mrow id="S3.E4.m1.3.3.3.3.1.1.6.2" xref="S3.E4.m1.3.3.3.3.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.3.3.3.3.1.1.6.2.1" xref="S3.E4.m1.3.3.3.3.1.1.cmml">(</mo><mi id="S3.E4.m1.3.3.3.3.1.1.3" xref="S3.E4.m1.3.3.3.3.1.1.3.cmml">k</mi><mo stretchy="false" id="S3.E4.m1.3.3.3.3.1.1.6.2.2" xref="S3.E4.m1.3.3.3.3.1.1.cmml">)</mo></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.6.6.6af" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mrow id="S3.E4.m1.4.4.4.4.2.1" xref="S3.E4.m1.4.4.4.4.2.1.cmml"><mi id="S3.E4.m1.4.4.4.4.2.1.2" xref="S3.E4.m1.4.4.4.4.2.1.2.cmml">k</mi><mo id="S3.E4.m1.4.4.4.4.2.1.1" xref="S3.E4.m1.4.4.4.4.2.1.1.cmml">∈</mo><msub id="S3.E4.m1.4.4.4.4.2.1.3" xref="S3.E4.m1.4.4.4.4.2.1.3.cmml"><mi id="S3.E4.m1.4.4.4.4.2.1.3.2" xref="S3.E4.m1.4.4.4.4.2.1.3.2.cmml">K</mi><mtext id="S3.E4.m1.4.4.4.4.2.1.3.3" xref="S3.E4.m1.4.4.4.4.2.1.3.3a.cmml">target</mtext></msub></mrow></mtd></mtr><mtr id="S3.E4.m1.6.6.6ag" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.6.6.6ah" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mn id="S3.E4.m1.5.5.5.5.1.1" xref="S3.E4.m1.5.5.5.5.1.1.cmml">0</mn></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E4.m1.6.6.6ai" xref="S3.E4.m1.8.8.1.1.3.1.cmml"><mtext id="S3.E4.m1.6.6.6.6.2.1" xref="S3.E4.m1.6.6.6.6.2.1a.cmml">otherwise</mtext></mtd></mtr></mtable></mrow></mrow><mo id="S3.E4.m1.8.8.1.2" xref="S3.E4.m1.8.8.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.8b"><apply id="S3.E4.m1.8.8.1.1.cmml" xref="S3.E4.m1.8.8.1"><eq id="S3.E4.m1.8.8.1.1.1.cmml" xref="S3.E4.m1.8.8.1.1.1"></eq><apply id="S3.E4.m1.8.8.1.1.2.cmml" xref="S3.E4.m1.8.8.1.1.2"><times id="S3.E4.m1.8.8.1.1.2.1.cmml" xref="S3.E4.m1.8.8.1.1.2.1"></times><apply id="S3.E4.m1.8.8.1.1.2.2.cmml" xref="S3.E4.m1.8.8.1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.8.8.1.1.2.2.1.cmml" xref="S3.E4.m1.8.8.1.1.2.2">subscript</csymbol><apply id="S3.E4.m1.8.8.1.1.2.2.2.cmml" xref="S3.E4.m1.8.8.1.1.2.2.2"><ci id="S3.E4.m1.8.8.1.1.2.2.2.1.cmml" xref="S3.E4.m1.8.8.1.1.2.2.2.1">^</ci><ci id="S3.E4.m1.8.8.1.1.2.2.2.2.cmml" xref="S3.E4.m1.8.8.1.1.2.2.2.2">𝑝</ci></apply><ci id="S3.E4.m1.8.8.1.1.2.2.3.cmml" xref="S3.E4.m1.8.8.1.1.2.2.3">𝑡</ci></apply><ci id="S3.E4.m1.7.7.cmml" xref="S3.E4.m1.7.7">𝑘</ci></apply><apply id="S3.E4.m1.8.8.1.1.3.1.cmml" xref="S3.E4.m1.6.6a"><csymbol cd="latexml" id="S3.E4.m1.8.8.1.1.3.1.1.cmml" xref="S3.E4.m1.6.6a.7">cases</csymbol><apply id="S3.E4.m1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1"><times id="S3.E4.m1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.2"></times><apply id="S3.E4.m1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3.2">𝑝</ci><ci id="S3.E4.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.3.3">𝑡</ci></apply><ci id="S3.E4.m1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1">𝑘</ci></apply><apply id="S3.E4.m1.2.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.2.2.2.1"><notin id="S3.E4.m1.2.2.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.2.2.2.1.1"></notin><ci id="S3.E4.m1.2.2.2.2.2.1.2.cmml" xref="S3.E4.m1.2.2.2.2.2.1.2">𝑘</ci><apply id="S3.E4.m1.2.2.2.2.2.1.3.cmml" xref="S3.E4.m1.2.2.2.2.2.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.2.2.1.3.1.cmml" xref="S3.E4.m1.2.2.2.2.2.1.3">subscript</csymbol><ci id="S3.E4.m1.2.2.2.2.2.1.3.2.cmml" xref="S3.E4.m1.2.2.2.2.2.1.3.2">𝐾</ci><ci id="S3.E4.m1.2.2.2.2.2.1.3.3a.cmml" xref="S3.E4.m1.2.2.2.2.2.1.3.3"><mtext mathsize="70%" id="S3.E4.m1.2.2.2.2.2.1.3.3.cmml" xref="S3.E4.m1.2.2.2.2.2.1.3.3">LID</mtext></ci></apply></apply><apply id="S3.E4.m1.3.3.3.3.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1"><times id="S3.E4.m1.3.3.3.3.1.1.4.cmml" xref="S3.E4.m1.3.3.3.3.1.1.4"></times><apply id="S3.E4.m1.3.3.3.3.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2"><divide id="S3.E4.m1.3.3.3.3.1.1.2.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2"></divide><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1"><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.1.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2">subscript</csymbol><sum id="S3.E4.m1.3.3.3.3.1.1.1.1.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.2"></sum><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3"><in id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.1"></in><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2">superscript</csymbol><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.2">𝑘</ci><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.2.3">′</ci></apply><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3">subscript</csymbol><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.2">𝐾</ci><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.3a.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.3"><mtext mathsize="50%" id="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.2.3.3.3">LID</mtext></ci></apply></apply></apply><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1"><times id="S3.E4.m1.3.3.3.3.1.1.1.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.2"></times><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.2">𝑝</ci><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.3.3">𝑡</ci></apply><apply id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.2">𝑘</ci><ci id="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.1.1.1.1.1.1.3">′</ci></apply></apply></apply><apply id="S3.E4.m1.3.3.3.3.1.1.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2"><apply id="S3.E4.m1.3.3.3.3.1.1.2.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.2.2.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2">subscript</csymbol><sum id="S3.E4.m1.3.3.3.3.1.1.2.2.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.2"></sum><apply id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3"><in id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.1"></in><apply id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2">superscript</csymbol><ci id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.2">𝑘</ci><ci id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.2.3">′</ci></apply><apply id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3">subscript</csymbol><ci id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.2">𝐾</ci><ci id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.3a.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.3"><mtext mathsize="50%" id="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.2.3.3.3">target</mtext></ci></apply></apply></apply><apply id="S3.E4.m1.3.3.3.3.1.1.2.2.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1"><times id="S3.E4.m1.3.3.3.3.1.1.2.2.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.2"></times><apply id="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.3">subscript</csymbol><ci id="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.2">𝑝</ci><ci id="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.3.3">𝑡</ci></apply><apply id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.1.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1">superscript</csymbol><ci id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.2.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.2">𝑘</ci><ci id="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.2.2.1.1.1.1.3">′</ci></apply></apply></apply></apply><ci id="S3.E4.m1.3.3.3.3.1.1.5.cmml" xref="S3.E4.m1.3.3.3.3.1.1.5">𝑝</ci><ci id="S3.E4.m1.3.3.3.3.1.1.3.cmml" xref="S3.E4.m1.3.3.3.3.1.1.3">𝑘</ci></apply><apply id="S3.E4.m1.4.4.4.4.2.1.cmml" xref="S3.E4.m1.4.4.4.4.2.1"><in id="S3.E4.m1.4.4.4.4.2.1.1.cmml" xref="S3.E4.m1.4.4.4.4.2.1.1"></in><ci id="S3.E4.m1.4.4.4.4.2.1.2.cmml" xref="S3.E4.m1.4.4.4.4.2.1.2">𝑘</ci><apply id="S3.E4.m1.4.4.4.4.2.1.3.cmml" xref="S3.E4.m1.4.4.4.4.2.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.4.4.2.1.3.1.cmml" xref="S3.E4.m1.4.4.4.4.2.1.3">subscript</csymbol><ci id="S3.E4.m1.4.4.4.4.2.1.3.2.cmml" xref="S3.E4.m1.4.4.4.4.2.1.3.2">𝐾</ci><ci id="S3.E4.m1.4.4.4.4.2.1.3.3a.cmml" xref="S3.E4.m1.4.4.4.4.2.1.3.3"><mtext mathsize="70%" id="S3.E4.m1.4.4.4.4.2.1.3.3.cmml" xref="S3.E4.m1.4.4.4.4.2.1.3.3">target</mtext></ci></apply></apply><cn type="integer" id="S3.E4.m1.5.5.5.5.1.1.cmml" xref="S3.E4.m1.5.5.5.5.1.1">0</cn><ci id="S3.E4.m1.6.6.6.6.2.1a.cmml" xref="S3.E4.m1.6.6.6.6.2.1"><mtext id="S3.E4.m1.6.6.6.6.2.1.cmml" xref="S3.E4.m1.6.6.6.6.2.1">otherwise</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.8c">\displaystyle\hat{p}_{t}(k)=\begin{cases}p_{t}(k)&amp;k\notin K_{\text{LID}}\\
\frac{\sum_{k^{\prime}\in K_{\text{LID}}}p_{t}(k^{\prime})}{\sum_{k^{\prime}\in K_{\text{target}}}p_{t}(k^{\prime})}p(k)&amp;k\in K_{\text{target}}\\
0&amp;\text{otherwise}\end{cases},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p1.2" class="ltx_p">where <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="K_{\text{target}}\subseteq K_{\text{LID}}" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mrow id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><msub id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2.2" xref="S3.SS3.p1.1.m1.1.1.2.2.cmml">K</mi><mtext id="S3.SS3.p1.1.m1.1.1.2.3" xref="S3.SS3.p1.1.m1.1.1.2.3a.cmml">target</mtext></msub><mo id="S3.SS3.p1.1.m1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.cmml">⊆</mo><msub id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml"><mi id="S3.SS3.p1.1.m1.1.1.3.2" xref="S3.SS3.p1.1.m1.1.1.3.2.cmml">K</mi><mtext id="S3.SS3.p1.1.m1.1.1.3.3" xref="S3.SS3.p1.1.m1.1.1.3.3a.cmml">LID</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><subset id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1"></subset><apply id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.2.1.cmml" xref="S3.SS3.p1.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2.2">𝐾</ci><ci id="S3.SS3.p1.1.m1.1.1.2.3a.cmml" xref="S3.SS3.p1.1.m1.1.1.2.3"><mtext mathsize="70%" id="S3.SS3.p1.1.m1.1.1.2.3.cmml" xref="S3.SS3.p1.1.m1.1.1.2.3">target</mtext></ci></apply><apply id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.2">𝐾</ci><ci id="S3.SS3.p1.1.m1.1.1.3.3a.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3"><mtext mathsize="70%" id="S3.SS3.p1.1.m1.1.1.3.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3">LID</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">K_{\text{target}}\subseteq K_{\text{LID}}</annotation></semantics></math> represents the set of target language candidates.
If the number of candidates is <math id="S3.SS3.p1.2.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S3.SS3.p1.2.m2.1a"><mn id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><cn type="integer" id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">1</annotation></semantics></math> then this is equivalent to Eq.(<a href="#S3.E2" title="In 3.2 Encoder prompting ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).
There is an approach to input language code in multiple languages in prior work, though, but it requires specialized structure for adaptation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>.
They use the one-hot-vectors assigned to each language, normalized to add up to a total of 1.
However, it requires the network to be trained to input language codes.
Our approach can be realized simply by using the general SC-CTC at training time and adapting it using Eq. 4 during inference.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental evaluation</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Common Voice + VoxForge</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">We evaluated the effectiveness of the proposed method through experiments on various large scale multilingual datasets.
First, we used Common Voice and VoxForge data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>.
There were 52 languages in total and 6,000 hours of data in all.
In this paper, we categorized the Common Voice evaluation data into four groups of languages based on the amount of data per language.
High is for languages with more than 100 hours of data, middle is for 20-100 hours, low is for 5-20 hours, and extremely low is for less than 5 hours.
The model sizes used in our experiments were the same except for the intermediate layers.
The encoder was a 12-layer transformer, each with 512 dimensions.
The number of heads of the attention was 4.
The intermediate layer was added at the 6th layer of the encoder, and the weight of the InterCTC was set to 0.3.
The number of tokens in the output was 7000, including 52 language tokens.
Training was further performed by multi-task training of the CTC and the attention decoder <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>.
The CTC weights of the multi-task training were also set to 0.3.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">Table <a href="#S3.T1" title="Table 1 ‣ 3.1 Rapid language adaptation ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the results.
First, we compared the performance of multilingual models without any prompting ((a) to (d)).
Comparing (a) and (b) confirmed that CTC's joint-decoding was also effective in multilingual speech recognition.
On the other hand, InterCTC (c) and SC-CTC (d) showed a slight performance degradation.
Next, we compared the use of decoder prompting, assuming that the model is being used for a specific language ((e) to (h)).
Decoder prompting improved the performance of the multilingual model, and in all cases, performance was improved over the model without decoder prompting.
Therefore, as mentioned before, it was confirmed that it was benefical to use decoder prompting appropriately when the input language was known.
It was quite interesting to note that when decoder prompting was used as opposed to when not used, the joint decoding degraded the recognition performance.
This provides evidence for our hypothesis that the CTC branch was not appropriately controlled by language IDs.
Finally, we compared the performance of the proposed encoder prompting ((i) to (k)).
<span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_italic">Replacement</span> (i) and <span id="S4.SS1.p2.1.2" class="ltx_text ltx_font_italic">Aggregation</span> (j) had almost identical results.
Since the output of CTC tends to be sparse, aggregating probabilities and replacing them with one-hot vectors were almost the same operations.
On the other hand, <span id="S4.SS1.p2.1.3" class="ltx_text ltx_font_italic">Prefix</span> (k) had almost no improvement over the model without encoder prompting (h).
This was because the original incorrectly estimated language IDs remained in the token sequence by simply modifying the first frame of the utterance.
In particular, encoder prompting with <span id="S4.SS1.p2.1.4" class="ltx_text ltx_font_italic">Replacement</span> and <span id="S4.SS1.p2.1.5" class="ltx_text ltx_font_italic">Aggregation</span> was able to significantly improve the performance of low-resource languages with relatively poor baseline performance.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">Table <a href="#S3.T2" title="Table 2 ‣ 3.1 Rapid language adaptation ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the language identification accuracy.
There were no significant differences in performance between the encoder types.
However, we observed a tendency for language identification accuracy to decrease with less data.
When the language identification performance was low, the impact of encoder prompting was large because the amount of modification by encoder prompting increased.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.1" class="ltx_p">Table 3 shows the results of the soft prompting.
In this experiment, as described in Sec. 3.3, we assumed a situation in which three languages (English, Chinese, and Japanese) were input.
In this corpus, English, Chinese, and Japanese are classified as high-, middle-, and low-resource, respectively.
The soft prompting was applied to target these three languages.
We found that soft prompting reduced errors without explicitly providing language information to decoder prompting.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>FLEURS</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">We also evaluated on the FLEURS corpus <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>.
FLEURS included 102 languages, with a total of 1.4k hours.
Therefore, on average, it contained a little over 10 hours of data for each language.
In this corpus we also trained a conformer-based SC-CTC.
The conformer encoder was a 12-layer, each with 512 dimensions.
The number of tokens in the output was 6500, including 102 language tokens.
The other settings were same as in Sec. 4.1.
Note that the SSL model was not used since we evaluated the correlation of model performance with the amount of data.
In this experiments, we used <span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_italic">Aggregation</span> as encoder prompting, which is simpler to implement than <span id="S4.SS2.p1.1.2" class="ltx_text ltx_font_italic">Replacement</span>.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">Table 2 shows the experimental results.
The languages were divided into seven groups as in the previous study <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.
The improvement using the proposed method was smaller for this corpus than for Common Voice.
This was partly because the domain of the Common Voice data was open domain, while FLEURS was based on Wikipedia.
In this experiment, the average language identification accuracy was <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="94.2\%" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mrow id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mn id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">94.2</mn><mo id="S4.SS2.p2.1.m1.1.1.1" xref="S4.SS2.p2.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><csymbol cd="latexml" id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1.1">percent</csymbol><cn type="float" id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">94.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">94.2\%</annotation></semantics></math>.
This was higher than that of low-resource (5-20 hours) in Table <a href="#S3.T2" title="Table 2 ‣ 3.1 Rapid language adaptation ‣ 3 Proposed method ‣ Rapid Language Adaptation for Multilingual E2E Speech Recognition Using Encoder Prompting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, which had a similar amount of data for each language.
Therefore, the domain difference made language identification relatively easy.
However, we still observed consistent improvements across all language groups, showing the efficacy of our approach.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this paper, we proposed a new multilingual speech recognition adaptation technique using encoder prompting.
Encoder prompting allows flexible adaptation during inference in a human-interpretable discrete domain within the encoder.
Our approach, built using SC-CTC, improved recognition performance in situations where the language was predefined.
Also, unlike decoder prompting, soft prompting can be applied to the encoder even in cases where input can be in any one of multiple languages.
We confirmed that recognition performance was also improved in such a setting using soft prompting.
There is still a limitation that encoder prompting must maintain the estimated token sequence length, which is CTC-dependent.
It may be possible to mitigate this constraint by using the attention decoder to output the token sequence and return it to the intermediate layer.
We believe that controlling the encoder as well as the decoder with prompts should receive more attention.
</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
S. Watanabe, T. Hori, and J. R. Hershey, ``Language independent end-to-end architecture for joint language identification and speech recognition,'' in <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">2017 IEEE Automatic Speech Recognition and Understanding Workshop (ASRU)</em>.   IEEE, 2017, pp. 265–271.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
S. Toshniwal, T. N. Sainath, R. J. Weiss, B. Li, P. Moreno, E. Weinstein, and K. Rao, ``Multilingual speech recognition with a single end-to-end model,'' in <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">2018 IEEE international conference on acoustics, speech and signal processing (ICASSP)</em>.   IEEE, 2018, pp. 4904–4908.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
A. Radford, J. W. Kim, T. Xu, G. Brockman, C. McLeavey, and I. Sutskever, ``Robust speech recognition via large-scale weak supervision,'' in <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>.   PMLR, 2023, pp. 28 492–28 518.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Y. Peng, J. Tian, B. Yan, D. Berrebbi, X. Chang, X. Li, J. Shi, S. Arora, W. Chen, R. Sharma <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">et al.</em>, ``Reproducing Whisper-style training using an open-source toolkit and publicly available data,'' in <em id="bib.bib4.2.2" class="ltx_emph ltx_font_italic">2023 IEEE Automatic Speech Recognition and Understanding Workshop (ASRU)</em>.   IEEE, 2023, pp. 1–8.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Y. Peng, J. Tian, W. Chen, S. Arora, B. Yan, Y. Sudo, M. Shakeel, K. Choi, J. Shi, X. Chang <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">et al.</em>, ``OWSM v3. 1: Better and faster open whisper-style speech models based on e-branchformer,'' <em id="bib.bib5.2.2" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2401.16658</em>, 2024.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Y. Zhang, W. Han, J. Qin, Y. Wang, A. Bapna, Z. Chen, N. Chen, B. Li, V. Axelrod, G. Wang <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">et al.</em>, ``Google USM: Scaling automatic speech recognition beyond 100 languages,'' <em id="bib.bib6.2.2" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2303.01037</em>, 2023.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
A. Tjandra, N. Singhal, D. Zhang, O. Kalinli, A. Mohamed, D. Le, and M. L. Seltzer, ``Massively multilingual ASR on 70 languages: Tokenization, architecture, and generalization capabilities,'' in <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">ICASSP 2023-2023 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</em>.   IEEE, 2023, pp. 1–5.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
V. Pratap, A. Tjandra, B. Shi, P. Tomasello, A. Babu, S. Kundu, A. Elkahky, Z. Ni, A. Vyas, M. Fazel-Zarandi, A. Baevski, Y. Adi, X. Zhang, W.-N. Hsu, A. Conneau, and M. Auli, ``Scaling speech technology to 1,000+ languages,'' <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2305.13516</em>, 2023.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
S. Dalmia, R. Sanabria, F. Metze, and A. W. Black, ``Sequence-based multi-lingual low resource speech recognition,'' in <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">2018 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</em>.   IEEE, 2018, pp. 4909–4913.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
S. Zhou, S. Xu, and B. Xu, ``Multilingual end-to-end speech recognition with a single transformer on low-resource languages,'' <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1806.05059</em>, 2018.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
H. Seki, T. Hori, S. Watanabe, J. Le Roux, and J. R. Hershey, ``End-to-end multilingual multi-speaker speech recognition,'' in <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Annual Conference of the International Speech Communication Association, INTERSPEECH</em>, vol. 2019, 2019, pp. 3755–3759.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
A. Waters, N. Gaur, P. Haghani, P. Moreno, and Z. Qu, ``Leveraging language id in multilingual end-to-end speech recognition,'' in <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">2019 IEEE Automatic Speech Recognition and Understanding Workshop (ASRU)</em>, 2019, pp. 928–935.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
B. Li, T. N. Sainath, K. C. Sim, M. Bacchiani, E. Weinstein, P. Nguyen, Z. Chen, Y. Wu, and K. Rao, ``Multi-dialect speech recognition with a single sequence-to-sequence model,'' in <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">2018 IEEE international conference on acoustics, speech and signal processing (ICASSP)</em>.   IEEE, 2018, pp. 4749–4753.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Y. Yang, Y. Peng, X. Zhong, H. Huang, and E. S. Chng, ``Adapting OpenAI's Whisper for speech recognition on code-switch mandarin-english seame and asru2019 datasets,'' <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2311.17382</em>, 2023.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
K. Li, J. Li, G. Ye, R. Zhao, and Y. Gong, ``Towards code-switching ASR for end-to-end CTC models,'' in <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">ICASSP 2019-2019 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</em>.   IEEE, 2019, pp. 6076–6080.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
G. I. Winata, S. Cahyawijaya, Z. Lin, Z. Liu, P. Xu, and P. Fung, ``Meta-transfer learning for code-switched speech recognition,'' in <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics</em>, 2020, pp. 3770–3776.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
S. Dalmia, Y. Liu, S. Ronanki, and K. Kirchhoff, ``Transformer-transducers for code-switched speech recognition,'' in <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">ICASSP 2021-2021 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</em>.   IEEE, 2021, pp. 5859–5863.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
A. Graves, S. Fernández, F. Gomez, and J. Schmidhuber, ``Connectionist temporal classification: labelling unsegmented sequence data with recurrent neural networks,'' in <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 23rd international conference on Machine learning</em>, 2006, pp. 369–376.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
T. Hori, S. Watanabe, and J. R. Hershey, ``Joint CTC/attention decoding for end-to-end speech recognition,'' in <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, 2017, pp. 518–529.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
J. Nozaki and T. Komatsu, ``Relaxing the conditional independence assumption of CTC-based ASR by conditioning on intermediate predictions,'' in <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Annual Conference of the International Speech Communication Association, INTERSPEECH</em>, vol. 2021.   ISCA, 2021, pp. 3735–3739.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
T. Komatsu, Y. Fujita, J. Lee, L. Lee, S. Watanabe, and Y. Kida, ``Better intermediates improve CTC inference,'' in <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Annual Conference of the International Speech Communication Association, INTERSPEECH</em>, vol. 2022, 2022, pp. 4965–4969.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Y. Nakagome, T. Komatsu, Y. Fujita, S. Ichimura, and Y. Kida, ``InterAug: Augmenting noisy intermediate predictions for CTC-based ASR,'' <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2204.00174</em>, 2022.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
S. Li, Y. You, X. Wang, K. Ding, and G. Wan, ``Enhancing multilingual speech recognition through language prompt tuning and frame-level language adapter,'' <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2309.09443</em>, 2023.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
W. Chen, B. Yan, J. Shi, Y. Peng, S. Maiti, and S. Watanabe, ``Improving massively multilingual ASR with auxiliary CTC objectives,'' in <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">ICASSP 2023-2023 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</em>.   IEEE, 2023, pp. 1–5.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
R. Ardila, M. Branson, K. Davis, M. Kohler, J. Meyer, M. Henretty, R. Morais, L. Saunders, F. Tyers, and G. Weber, ``Common Voice: A massively-multilingual speech corpus,'' in <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Twelfth Language Resources and Evaluation Conference</em>, 2020, pp. 4218–4222.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
``Free speech recognition: voxforge.org,'' <a target="_blank" href="https://www.voxforge.org/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.voxforge.org/</a>.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
A. Conneau, M. Ma, S. Khanuja, Y. Zhang, V. Axelrod, S. Dalmia, J. Riesa, C. Rivera, and A. Bapna, ``FLEURS: Few-shot learning evaluation of universal representations of speech,'' in <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">2022 IEEE Spoken Language Technology Workshop (SLT)</em>.   IEEE, 2023, pp. 798–805.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
J. Lee and S. Watanabe, ``Intermediate loss regularization for CTC-based speech recognition,'' in <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">ICASSP 2021-2021 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</em>.   IEEE, 2021, pp. 6224–6228.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
L. Zhou, J. Li, E. Sun, and S. Liu, ``A configurable multilingual model is all you need to recognize all languages,'' in <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">ICASSP 2022 - 2022 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</em>, 2022, pp. 6422–6426.

</span>
</li>
</ul>
</section><div class="ltx_rdf" about="" property="dcterms:title" content="{Under review}"></div>

</article>
</div>
<div class="ar5iv-footer"><a href="/html/2406.12610" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2406.12611" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2406.12611">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2406.12611" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2406.12612" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Jul  5 23:21:04 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
