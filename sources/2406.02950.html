<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2406.02950] 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders</title><meta property="og:description" content="End-to-end automatic speech recognition (E2E-ASR) can be classified into several network architectures, such as connectionist temporal classification (CTC), recurrent neural network transducer (RNN-T), attention-based …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2406.02950">

<!--Generated on Fri Jul  5 23:16:16 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="
Speech recognition,  CTC,  attention-based encoder-decoder,  RNN-T,  beam search
">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yui Sudo, 
Muhammad Shakeel, 
Yosuke Fukumoto, 
<br class="ltx_break">Brian Yan, 
Jiatong Shi, 
Yifan Peng, 
Shinji Watanabe
</span><span class="ltx_author_notes">This paper was produced by the IEEE Publication Technology Group. They are in Piscataway, NJ.Manuscript received May 23, 2024.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">End-to-end automatic speech recognition (E2E-ASR) can be classified into several network architectures, such as connectionist temporal classification (CTC), recurrent neural network transducer (RNN-T), attention-based encoder-decoder, and mask-predict models.
Each network architecture has advantages and disadvantages, leading practitioners to switch between these different models depending on application requirements.
Instead of building separate models, we propose a joint modeling scheme where four decoders (CTC, RNN-T, attention, and mask-predict) share the same encoder – we refer to this as 4D modeling. The 4D model is trained using multitask learning, which will bring model regularization and maximize the model robustness thanks to their complementary properties.
To efficiently train the 4D model, we introduce a two-stage training strategy that stabilizes multitask learning.
In addition, we propose three novel one-pass beam search algorithms by combining three decoders (CTC, RNN-T, and attention) to further improve performance.
These three beam search algorithms differ in which decoder is used as the primary decoder. We carefully evaluate the performance and computational tradeoffs associated with each algorithm.
Experimental results demonstrate that the jointly trained 4D model outperforms the E2E-ASR models trained with only one individual decoder.
Furthermore, we demonstrate that the proposed one-pass beam search algorithm outperforms the previously proposed CTC/attention decoding.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
Speech recognition, CTC, attention-based encoder-decoder, RNN-T, beam search

</div>
<span id="id1" class="ltx_note ltx_note_frontmatter ltx_role_publicationid"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">publicationid: </span>pubid: 0000–0000/00$00.00</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">End-to-end automatic speech recognition (E2E-ASR) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> has been a subject of active research.
Existing E2E-ASR systems include four main network architectures: connectionist temporal classification (CTC) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, recurrent neural network transducer (RNN-T) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, attention-based encoder-decoder <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>, and non-autoregressive (NAR) methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>.
These architectures align speech signals and token sequences in various ways, each with different strengths and weaknesses, as follows:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">CTC predicts a monotonic alignment of output tokens with input speech frames efficiently with the conditional independence assumption. While its parallelized inference across frames is fast, the conditional independence assumption results in suboptimal performance. CTC is also valuable for segmenting long recordings <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">RNN-T shares a monotonic alignment property with CTC but relaxes the conditional independence assumption. It typically outperforms CTC thanks to this relaxation and is particularly adept for streaming ASR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>. However, due to its flexible alignment paths, its larger modeling space usually leads to additional training difficulties <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">Attention-based encoder-decoder employs a cross-attention mechanism to enable flexible alignments between input and output sequences, making it useful for various tasks such as translation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>. However, it may be susceptible to alignment errors in ASR tasks due to the lack of a monotonicity constraint <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p">NAR methods, as exemplified by Mask-CTC <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, estimate the token sequence using the entire input sequence. The mask-based approach <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> maintains fast parallelized inference across frames, but unlike CTC, it accounts for label dependencies. It is also applicable in two-pass rescoring approaches for ASR error correction <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.</p>
</div>
</li>
</ul>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Owing to distinct characteristics in each network architecture, it is common to use corresponding models according to different application scenarios. For example, CTC is suitable for on-device systems with lower computational demands, whereas attention-based encoder-decoder is preferred for offline systems with less stringent latency requirements. However, maintaining multiple models for different application scenarios creates additional maintenance overhead for system administrators.
Thus, several initiatives have attempted to integrate these models, such as hybrid CTC/attention, to mitigate their shortcomings <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>. The multitask learning in hybrid CTC/attention, achieved by sharing an encoder, helps to regularize the over-flexibility of the attention mechanism and the conditional independence assumption of the CTC model. During decoding, a one-pass beam search involving both CTC and attention decoders is employed to enhance performance further <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>. Such joint modeling has also been applied to large-scale E2E-ASR models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>. Other integrated models, utilizing two-pass decoding of RNN-T/attention, NAR/attention, and RNN-T/NAR, have also been proposed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib34" title="" class="ltx_ref">34</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>. These methods attempt to combine a streaming decoder with an offline decoder to achieve both low latency and high accuracy.
In addition, several approaches have been explored to combine dual RNN-T models with different context lengths to optimize both latency and accuracy in ASR systems <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib41" title="" class="ltx_ref">41</a>]</cite>.
While integrating two of these models has shown effectiveness, a more comprehensive integration of multiple models can exploit their complementary features to a greater extent. A single model can realize broader applications by minimizing the overhead of maintaining separate models.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this study, we seek to jointly model four decoders (4D) with a shared encoder: CTC, attention, RNN-T, and Mask-CTC.
The 4D model is trained using multitask learning, which will bring model regularization and maximize the model robustness thanks to their complementary properties.
The jointly trained 4D model allows the selection of an appropriate decoder depending on different application scenarios.
In addition, we propose three novel one-pass beam search algorithms using CTC, RNN-T, and attention to further enhance the complementarity of each decoder during inference.
</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">The remainder of the manuscript is organized as follows:
Section <a href="#S2" title="II Related work ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a> describes the related work with a focus on the joint modeling of multiple decoders, highlighting the main contributions of this paper.
Section <a href="#S3" title="III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a> provides an overview of the four decoders, which are extended to the proposed 4D model in Section <a href="#S4" title="IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a>.
Sections <a href="#S5" title="V Experimental setup ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">V</span></a> and <a href="#S6" title="VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VI</span></a> describe the experimental setup and results. Section <a href="#S7" title="VII Discussion ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VII</span></a> discusses the practicality of the proposed method based on the experimental results, and Section <a href="#S8" title="VIII Conclusion ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VIII</span></a> concludes the paper.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Related work</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">This section describes the joint modeling approach employing multiple decoders, especially in terms of the decoding approach.
The joint decoding methods mainly fall into two categories: two-pass rescoring and one-pass beam search.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">In the two-pass rescoring methods, the primary decoder generates complete hypotheses, followed by the other decoder rescoring those hypotheses to produce a more probable token sequence <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib34" title="" class="ltx_ref">34</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>.
For example, in the two-pass rescoring of RNN-T/attention <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>, the RNN-T decoder generates complete n-best hypotheses, and the attention decoder subsequently rescores them, leading to enhanced performance. However, the effectiveness of two-pass rescoring heavily relies on the first pass, because the second pass cannot correct the hypothesis unless the first pass contains the correct one <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">Conversely, the one-pass beam search approach performs joint rescoring using the secondary decoder during the beam search process, without waiting for the primary decoder to complete hypothesis expansion.
A typical example is the attention-driven one-pass beam search based on the hybrid CTC/attention <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>. In this method, the attention decoder serves as the primary decoder, and the CTC decoder scores the hypotheses generated by the attention decoder in a label-synchronous manner. This method integrates the two decoders more tightly, resulting in more accurate decoding than two-pass rescoring.
This method has been extended to a CTC-driven one-pass beam search algorithm based on the CTC/attention architecture for speech translation tasks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite>. This method is computationally faster than the attention-driven one-pass beam search algorithm with almost comparable performance.
Note that while both methods use the same CTC/attention architecture, the choice of primary decoder affects their performance and computational cost.
Other method includes the integration of time- and label-synchronous beam search using the streaming CTC/attention and the time-synchronous one-pass beam search using online/offline RNN-T decoders <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>, <a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite>.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">While these methods have been successful with combinations of two decoders, there are still limited efforts in integrating three or more decoders. Additionally, only limited combinations of decoders have been considered for one-pass beam search (e.g., CTC/attention and online/offline RNN-T). Given that different primary decoders result in differences in performance and computational cost <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite>, a more comprehensive analysis is required.</p>
</div>
<div id="S2.p5" class="ltx_para">
<p id="S2.p5.1" class="ltx_p">Therefore, this paper proposes the 4D model consisting of CTC, attention, RNN-T, and Mask-CTC with a shared encoder.
The jointly trained 4D model will bring model regularization and allow flexible choices of each decoder depending on different application scenarios.
Furthermore, we introduce three novel one-pass beam search algorithms using CTC, RNN-T, and attention to enhance the complementarity of each decoder during inference.
A comprehensive evaluation of the joint decoding is conducted by meticulously comparing the one-pass beam search algorithms of three different primary decoders. Specifically, we</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.1" class="ltx_p">Demonstrate that each single-decoder of the 4D model is improved over counterparts without joint training with the efficient two-stage optimization strategy.</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.1" class="ltx_p">Introduce novel one-pass beam search algorithms for joint CTC/RNN-T/attention decoding, showcasing superior performance on average compared to CTC/attention decoding.</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.1" class="ltx_p">Analyze the effect of integrating multiple decoders in the beam search by carefully comparing the three one-pass beam search algorithms.</p>
</div>
</li>
</ul>
<p id="S2.p5.2" class="ltx_p">This paper extends our previous study on the 4D model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite> by newly proposing the attention-driven one-pass bean search for CTC/RNN-T/attention decoders (Section <a href="#S4" title="IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a>).
We also analyze the effect of integrating multiple decoders by carefully comparing the three one-pass beam search algorithms including a more comprehensive set of experiments (Section <a href="#S6" title="VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VI</span></a>).
In addition, we provide detailed formulations of the four decoders (Section <a href="#S3" title="III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>).</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Preliminary</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">This section describes the conformer-based encoder, commonly used across the four network architectures: CTC, RNN-T, attention, and Mask-CTC. Subsequently, we provide a detailed description of each decoder.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS1.4.1.1" class="ltx_text">III-A</span> </span><span id="S3.SS1.5.2" class="ltx_text ltx_font_italic">Encoder</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.5" class="ltx_p">We adopt the conformer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite> as the shared encoder in this study.
The encoder comprises two convolutional layers and <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">N</annotation></semantics></math> conformer layers.
The convolutional layers subsample a <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">L</annotation></semantics></math>-length audio feature sequence, <math id="S3.SS1.p1.3.m3.3" class="ltx_math_unparsed" alttext="X=(\bm{x}_{l}\in\mathbb{R}^{d}|l=1,...,L)" display="inline"><semantics id="S3.SS1.p1.3.m3.3a"><mrow id="S3.SS1.p1.3.m3.3b"><mi id="S3.SS1.p1.3.m3.3.4">X</mi><mo id="S3.SS1.p1.3.m3.3.5">=</mo><mrow id="S3.SS1.p1.3.m3.3.6"><mo stretchy="false" id="S3.SS1.p1.3.m3.3.6.1">(</mo><msub id="S3.SS1.p1.3.m3.3.6.2"><mi id="S3.SS1.p1.3.m3.3.6.2.2">𝒙</mi><mi id="S3.SS1.p1.3.m3.3.6.2.3">l</mi></msub><mo id="S3.SS1.p1.3.m3.3.6.3">∈</mo><msup id="S3.SS1.p1.3.m3.3.6.4"><mi id="S3.SS1.p1.3.m3.3.6.4.2">ℝ</mi><mi id="S3.SS1.p1.3.m3.3.6.4.3">d</mi></msup><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS1.p1.3.m3.3.6.5">|</mo><mi id="S3.SS1.p1.3.m3.3.6.6">l</mi><mo id="S3.SS1.p1.3.m3.3.6.7">=</mo><mn id="S3.SS1.p1.3.m3.1.1">1</mn><mo id="S3.SS1.p1.3.m3.3.6.8">,</mo><mi mathvariant="normal" id="S3.SS1.p1.3.m3.2.2">…</mi><mo id="S3.SS1.p1.3.m3.3.6.9">,</mo><mi id="S3.SS1.p1.3.m3.3.3">L</mi><mo stretchy="false" id="S3.SS1.p1.3.m3.3.6.10">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.3c">X=(\bm{x}_{l}\in\mathbb{R}^{d}|l=1,...,L)</annotation></semantics></math> into a <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="T(&lt;L)" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><mrow id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">T</mi><mspace width="0.3888888888888889em" id="S3.SS1.p1.4.m4.1.1a" xref="S3.SS1.p1.4.m4.1.1.cmml"></mspace><mrow id="S3.SS1.p1.4.m4.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p1.4.m4.1.1.1.1.2" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p1.4.m4.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.2" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml"></mi><mo id="S3.SS1.p1.4.m4.1.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml">&lt;</mo><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.3.cmml">L</mi></mrow><mo stretchy="false" id="S3.SS1.p1.4.m4.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="latexml" id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1">annotated</csymbol><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑇</ci><apply id="S3.SS1.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1"><lt id="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.1"></lt><csymbol cd="latexml" id="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2">absent</csymbol><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.3">𝐿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">T(&lt;L)</annotation></semantics></math>-length subsampled feature sequence, <math id="S3.SS1.p1.5.m5.3" class="ltx_math_unparsed" alttext="U=(\bm{u}_{t}\in\mathbb{R}^{d^{\prime}}|t=1,...,T)" display="inline"><semantics id="S3.SS1.p1.5.m5.3a"><mrow id="S3.SS1.p1.5.m5.3b"><mi id="S3.SS1.p1.5.m5.3.4">U</mi><mo id="S3.SS1.p1.5.m5.3.5">=</mo><mrow id="S3.SS1.p1.5.m5.3.6"><mo stretchy="false" id="S3.SS1.p1.5.m5.3.6.1">(</mo><msub id="S3.SS1.p1.5.m5.3.6.2"><mi id="S3.SS1.p1.5.m5.3.6.2.2">𝒖</mi><mi id="S3.SS1.p1.5.m5.3.6.2.3">t</mi></msub><mo id="S3.SS1.p1.5.m5.3.6.3">∈</mo><msup id="S3.SS1.p1.5.m5.3.6.4"><mi id="S3.SS1.p1.5.m5.3.6.4.2">ℝ</mi><msup id="S3.SS1.p1.5.m5.3.6.4.3"><mi id="S3.SS1.p1.5.m5.3.6.4.3.2">d</mi><mo id="S3.SS1.p1.5.m5.3.6.4.3.3">′</mo></msup></msup><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS1.p1.5.m5.3.6.5">|</mo><mi id="S3.SS1.p1.5.m5.3.6.6">t</mi><mo id="S3.SS1.p1.5.m5.3.6.7">=</mo><mn id="S3.SS1.p1.5.m5.1.1">1</mn><mo id="S3.SS1.p1.5.m5.3.6.8">,</mo><mi mathvariant="normal" id="S3.SS1.p1.5.m5.2.2">…</mi><mo id="S3.SS1.p1.5.m5.3.6.9">,</mo><mi id="S3.SS1.p1.5.m5.3.3">T</mi><mo stretchy="false" id="S3.SS1.p1.5.m5.3.6.10">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.3c">U=(\bm{u}_{t}\in\mathbb{R}^{d^{\prime}}|t=1,...,T)</annotation></semantics></math>, as follows:</p>
<table id="S8.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E1.m1.2" class="ltx_Math" alttext="\displaystyle U=\mathrm{ConvSubsamp}(X)." display="inline"><semantics id="S3.E1.m1.2a"><mrow id="S3.E1.m1.2.2.1" xref="S3.E1.m1.2.2.1.1.cmml"><mrow id="S3.E1.m1.2.2.1.1" xref="S3.E1.m1.2.2.1.1.cmml"><mi id="S3.E1.m1.2.2.1.1.2" xref="S3.E1.m1.2.2.1.1.2.cmml">U</mi><mo id="S3.E1.m1.2.2.1.1.1" xref="S3.E1.m1.2.2.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.2.2.1.1.3" xref="S3.E1.m1.2.2.1.1.3.cmml"><mi id="S3.E1.m1.2.2.1.1.3.2" xref="S3.E1.m1.2.2.1.1.3.2.cmml">ConvSubsamp</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.2.2.1.1.3.1" xref="S3.E1.m1.2.2.1.1.3.1.cmml">​</mo><mrow id="S3.E1.m1.2.2.1.1.3.3.2" xref="S3.E1.m1.2.2.1.1.3.cmml"><mo stretchy="false" id="S3.E1.m1.2.2.1.1.3.3.2.1" xref="S3.E1.m1.2.2.1.1.3.cmml">(</mo><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">X</mi><mo stretchy="false" id="S3.E1.m1.2.2.1.1.3.3.2.2" xref="S3.E1.m1.2.2.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S3.E1.m1.2.2.1.2" xref="S3.E1.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.2b"><apply id="S3.E1.m1.2.2.1.1.cmml" xref="S3.E1.m1.2.2.1"><eq id="S3.E1.m1.2.2.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1"></eq><ci id="S3.E1.m1.2.2.1.1.2.cmml" xref="S3.E1.m1.2.2.1.1.2">𝑈</ci><apply id="S3.E1.m1.2.2.1.1.3.cmml" xref="S3.E1.m1.2.2.1.1.3"><times id="S3.E1.m1.2.2.1.1.3.1.cmml" xref="S3.E1.m1.2.2.1.1.3.1"></times><ci id="S3.E1.m1.2.2.1.1.3.2.cmml" xref="S3.E1.m1.2.2.1.1.3.2">ConvSubsamp</ci><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝑋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.2c">\displaystyle U=\mathrm{ConvSubsamp}(X).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.13" class="ltx_p">Here, <math id="S3.SS1.p1.6.m1.1" class="ltx_Math" alttext="\bm{x}_{l}" display="inline"><semantics id="S3.SS1.p1.6.m1.1a"><msub id="S3.SS1.p1.6.m1.1.1" xref="S3.SS1.p1.6.m1.1.1.cmml"><mi id="S3.SS1.p1.6.m1.1.1.2" xref="S3.SS1.p1.6.m1.1.1.2.cmml">𝒙</mi><mi id="S3.SS1.p1.6.m1.1.1.3" xref="S3.SS1.p1.6.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m1.1b"><apply id="S3.SS1.p1.6.m1.1.1.cmml" xref="S3.SS1.p1.6.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m1.1.1.1.cmml" xref="S3.SS1.p1.6.m1.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m1.1.1.2.cmml" xref="S3.SS1.p1.6.m1.1.1.2">𝒙</ci><ci id="S3.SS1.p1.6.m1.1.1.3.cmml" xref="S3.SS1.p1.6.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m1.1c">\bm{x}_{l}</annotation></semantics></math> and <math id="S3.SS1.p1.7.m2.1" class="ltx_Math" alttext="\bm{u}_{t}" display="inline"><semantics id="S3.SS1.p1.7.m2.1a"><msub id="S3.SS1.p1.7.m2.1.1" xref="S3.SS1.p1.7.m2.1.1.cmml"><mi id="S3.SS1.p1.7.m2.1.1.2" xref="S3.SS1.p1.7.m2.1.1.2.cmml">𝒖</mi><mi id="S3.SS1.p1.7.m2.1.1.3" xref="S3.SS1.p1.7.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m2.1b"><apply id="S3.SS1.p1.7.m2.1.1.cmml" xref="S3.SS1.p1.7.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m2.1.1.1.cmml" xref="S3.SS1.p1.7.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.7.m2.1.1.2.cmml" xref="S3.SS1.p1.7.m2.1.1.2">𝒖</ci><ci id="S3.SS1.p1.7.m2.1.1.3.cmml" xref="S3.SS1.p1.7.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m2.1c">\bm{u}_{t}</annotation></semantics></math> are a <math id="S3.SS1.p1.8.m3.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS1.p1.8.m3.1a"><mi id="S3.SS1.p1.8.m3.1.1" xref="S3.SS1.p1.8.m3.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m3.1b"><ci id="S3.SS1.p1.8.m3.1.1.cmml" xref="S3.SS1.p1.8.m3.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m3.1c">d</annotation></semantics></math>-dimensional speech feature vector (e.g., log Mel filterbanks) and <math id="S3.SS1.p1.9.m4.1" class="ltx_Math" alttext="d^{\prime}" display="inline"><semantics id="S3.SS1.p1.9.m4.1a"><msup id="S3.SS1.p1.9.m4.1.1" xref="S3.SS1.p1.9.m4.1.1.cmml"><mi id="S3.SS1.p1.9.m4.1.1.2" xref="S3.SS1.p1.9.m4.1.1.2.cmml">d</mi><mo id="S3.SS1.p1.9.m4.1.1.3" xref="S3.SS1.p1.9.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m4.1b"><apply id="S3.SS1.p1.9.m4.1.1.cmml" xref="S3.SS1.p1.9.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m4.1.1.1.cmml" xref="S3.SS1.p1.9.m4.1.1">superscript</csymbol><ci id="S3.SS1.p1.9.m4.1.1.2.cmml" xref="S3.SS1.p1.9.m4.1.1.2">𝑑</ci><ci id="S3.SS1.p1.9.m4.1.1.3.cmml" xref="S3.SS1.p1.9.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m4.1c">d^{\prime}</annotation></semantics></math>-dimensional hidden state vector, respectively.
Subsequently, the <math id="S3.SS1.p1.10.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.p1.10.m5.1a"><mi id="S3.SS1.p1.10.m5.1.1" xref="S3.SS1.p1.10.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m5.1b"><ci id="S3.SS1.p1.10.m5.1.1.cmml" xref="S3.SS1.p1.10.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m5.1c">N</annotation></semantics></math> conformer blocks transform the subsampled feature sequence <math id="S3.SS1.p1.11.m6.1" class="ltx_Math" alttext="U" display="inline"><semantics id="S3.SS1.p1.11.m6.1a"><mi id="S3.SS1.p1.11.m6.1.1" xref="S3.SS1.p1.11.m6.1.1.cmml">U</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m6.1b"><ci id="S3.SS1.p1.11.m6.1.1.cmml" xref="S3.SS1.p1.11.m6.1.1">𝑈</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m6.1c">U</annotation></semantics></math> into a <math id="S3.SS1.p1.12.m7.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS1.p1.12.m7.1a"><mi id="S3.SS1.p1.12.m7.1.1" xref="S3.SS1.p1.12.m7.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m7.1b"><ci id="S3.SS1.p1.12.m7.1.1.cmml" xref="S3.SS1.p1.12.m7.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m7.1c">T</annotation></semantics></math>-length hidden state sequence, <math id="S3.SS1.p1.13.m8.3" class="ltx_math_unparsed" alttext="H=(\bm{h}_{t}\in\mathbb{R}^{d^{\prime}}|t=1,...,T)" display="inline"><semantics id="S3.SS1.p1.13.m8.3a"><mrow id="S3.SS1.p1.13.m8.3b"><mi id="S3.SS1.p1.13.m8.3.4">H</mi><mo id="S3.SS1.p1.13.m8.3.5">=</mo><mrow id="S3.SS1.p1.13.m8.3.6"><mo stretchy="false" id="S3.SS1.p1.13.m8.3.6.1">(</mo><msub id="S3.SS1.p1.13.m8.3.6.2"><mi id="S3.SS1.p1.13.m8.3.6.2.2">𝒉</mi><mi id="S3.SS1.p1.13.m8.3.6.2.3">t</mi></msub><mo id="S3.SS1.p1.13.m8.3.6.3">∈</mo><msup id="S3.SS1.p1.13.m8.3.6.4"><mi id="S3.SS1.p1.13.m8.3.6.4.2">ℝ</mi><msup id="S3.SS1.p1.13.m8.3.6.4.3"><mi id="S3.SS1.p1.13.m8.3.6.4.3.2">d</mi><mo id="S3.SS1.p1.13.m8.3.6.4.3.3">′</mo></msup></msup><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS1.p1.13.m8.3.6.5">|</mo><mi id="S3.SS1.p1.13.m8.3.6.6">t</mi><mo id="S3.SS1.p1.13.m8.3.6.7">=</mo><mn id="S3.SS1.p1.13.m8.1.1">1</mn><mo id="S3.SS1.p1.13.m8.3.6.8">,</mo><mi mathvariant="normal" id="S3.SS1.p1.13.m8.2.2">…</mi><mo id="S3.SS1.p1.13.m8.3.6.9">,</mo><mi id="S3.SS1.p1.13.m8.3.3">T</mi><mo stretchy="false" id="S3.SS1.p1.13.m8.3.6.10">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m8.3c">H=(\bm{h}_{t}\in\mathbb{R}^{d^{\prime}}|t=1,...,T)</annotation></semantics></math>, described as,</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.2" class="ltx_Math" alttext="H=\mathrm{Conformer}(U)." display="block"><semantics id="S3.E2.m1.2a"><mrow id="S3.E2.m1.2.2.1" xref="S3.E2.m1.2.2.1.1.cmml"><mrow id="S3.E2.m1.2.2.1.1" xref="S3.E2.m1.2.2.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.2" xref="S3.E2.m1.2.2.1.1.2.cmml">H</mi><mo id="S3.E2.m1.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.1.cmml">=</mo><mrow id="S3.E2.m1.2.2.1.1.3" xref="S3.E2.m1.2.2.1.1.3.cmml"><mi id="S3.E2.m1.2.2.1.1.3.2" xref="S3.E2.m1.2.2.1.1.3.2.cmml">Conformer</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.3.1" xref="S3.E2.m1.2.2.1.1.3.1.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.3.3.2" xref="S3.E2.m1.2.2.1.1.3.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.3.3.2.1" xref="S3.E2.m1.2.2.1.1.3.cmml">(</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">U</mi><mo stretchy="false" id="S3.E2.m1.2.2.1.1.3.3.2.2" xref="S3.E2.m1.2.2.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S3.E2.m1.2.2.1.2" xref="S3.E2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.2b"><apply id="S3.E2.m1.2.2.1.1.cmml" xref="S3.E2.m1.2.2.1"><eq id="S3.E2.m1.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1"></eq><ci id="S3.E2.m1.2.2.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2">𝐻</ci><apply id="S3.E2.m1.2.2.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.3"><times id="S3.E2.m1.2.2.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.3.1"></times><ci id="S3.E2.m1.2.2.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.3.2">Conformer</ci><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝑈</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.2c">H=\mathrm{Conformer}(U).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.20" class="ltx_p">Each conformer block consists of a feed-forward layer (FFN), a multiheaded self-attention layer (MHSA), a convolution layer (Conv), and another FFN module, with layer normalization layers (LN) and residual connections <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>, <a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite> as follows:</p>
<table id="S8.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E3.m1.1" class="ltx_Math" alttext="\displaystyle\tilde{U_{n}}=U_{n}+\frac{1}{2}\mathrm{FFN}(\mathrm{LN}(U_{n}))," display="inline"><semantics id="S3.E3.m1.1a"><mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><mover accent="true" id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.3.cmml"><msub id="S3.E3.m1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.3.2.cmml"><mi id="S3.E3.m1.1.1.1.1.3.2.2" xref="S3.E3.m1.1.1.1.1.3.2.2.cmml">U</mi><mi id="S3.E3.m1.1.1.1.1.3.2.3" xref="S3.E3.m1.1.1.1.1.3.2.3.cmml">n</mi></msub><mo id="S3.E3.m1.1.1.1.1.3.1" xref="S3.E3.m1.1.1.1.1.3.1.cmml">~</mo></mover><mo id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml"><msub id="S3.E3.m1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.3.cmml"><mi id="S3.E3.m1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.3.2.cmml">U</mi><mi id="S3.E3.m1.1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.1.3.3.cmml">n</mi></msub><mo id="S3.E3.m1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E3.m1.1.1.1.1.1.1.3a" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml"><mn id="S3.E3.m1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.1.3.2.cmml">1</mn><mn id="S3.E3.m1.1.1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.1.1.3.3.cmml">2</mn></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E3.m1.1.1.1.1.1.1.4" xref="S3.E3.m1.1.1.1.1.1.1.4.cmml">FFN</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.2a" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml">LN</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">U</mi><mi id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msub><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E3.m1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E3.m1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b"><apply id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"><eq id="S3.E3.m1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.2"></eq><apply id="S3.E3.m1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.3"><ci id="S3.E3.m1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.1">~</ci><apply id="S3.E3.m1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.2.1.cmml" xref="S3.E3.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.3.2.2.cmml" xref="S3.E3.m1.1.1.1.1.3.2.2">𝑈</ci><ci id="S3.E3.m1.1.1.1.1.3.2.3.cmml" xref="S3.E3.m1.1.1.1.1.3.2.3">𝑛</ci></apply></apply><apply id="S3.E3.m1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><plus id="S3.E3.m1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.2"></plus><apply id="S3.E3.m1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.3.2">𝑈</ci><ci id="S3.E3.m1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1"><times id="S3.E3.m1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2"></times><apply id="S3.E3.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3"><divide id="S3.E3.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3"></divide><cn type="integer" id="S3.E3.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.2">1</cn><cn type="integer" id="S3.E3.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.3">2</cn></apply><ci id="S3.E3.m1.1.1.1.1.1.1.4.cmml" xref="S3.E3.m1.1.1.1.1.1.1.4">FFN</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1"><times id="S3.E3.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.3">LN</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑈</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.1c">\displaystyle\tilde{U_{n}}=U_{n}+\frac{1}{2}\mathrm{FFN}(\mathrm{LN}(U_{n})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E4.m1.2" class="ltx_Math" alttext="\displaystyle U^{\prime}_{n}=\tilde{U_{n}}+\mathrm{MHSA}(\mathrm{LN}(\tilde{U_{n}}))," display="inline"><semantics id="S3.E4.m1.2a"><mrow id="S3.E4.m1.2.2.1" xref="S3.E4.m1.2.2.1.1.cmml"><mrow id="S3.E4.m1.2.2.1.1" xref="S3.E4.m1.2.2.1.1.cmml"><msubsup id="S3.E4.m1.2.2.1.1.3" xref="S3.E4.m1.2.2.1.1.3.cmml"><mi id="S3.E4.m1.2.2.1.1.3.2.2" xref="S3.E4.m1.2.2.1.1.3.2.2.cmml">U</mi><mi id="S3.E4.m1.2.2.1.1.3.3" xref="S3.E4.m1.2.2.1.1.3.3.cmml">n</mi><mo id="S3.E4.m1.2.2.1.1.3.2.3" xref="S3.E4.m1.2.2.1.1.3.2.3.cmml">′</mo></msubsup><mo id="S3.E4.m1.2.2.1.1.2" xref="S3.E4.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E4.m1.2.2.1.1.1" xref="S3.E4.m1.2.2.1.1.1.cmml"><mover accent="true" id="S3.E4.m1.2.2.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.3.cmml"><msub id="S3.E4.m1.2.2.1.1.1.3.2" xref="S3.E4.m1.2.2.1.1.1.3.2.cmml"><mi id="S3.E4.m1.2.2.1.1.1.3.2.2" xref="S3.E4.m1.2.2.1.1.1.3.2.2.cmml">U</mi><mi id="S3.E4.m1.2.2.1.1.1.3.2.3" xref="S3.E4.m1.2.2.1.1.1.3.2.3.cmml">n</mi></msub><mo id="S3.E4.m1.2.2.1.1.1.3.1" xref="S3.E4.m1.2.2.1.1.1.3.1.cmml">~</mo></mover><mo id="S3.E4.m1.2.2.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.2.cmml">+</mo><mrow id="S3.E4.m1.2.2.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.3.cmml">MHSA</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.2.2.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.cmml">LN</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E4.m1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.1.1.1.1.3.2.1" xref="S3.E4.m1.1.1.cmml">(</mo><mover accent="true" id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml"><msub id="S3.E4.m1.1.1.2" xref="S3.E4.m1.1.1.2.cmml"><mi id="S3.E4.m1.1.1.2.2" xref="S3.E4.m1.1.1.2.2.cmml">U</mi><mi id="S3.E4.m1.1.1.2.3" xref="S3.E4.m1.1.1.2.3.cmml">n</mi></msub><mo id="S3.E4.m1.1.1.1" xref="S3.E4.m1.1.1.1.cmml">~</mo></mover><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.1.1.1.1.3.2.2" xref="S3.E4.m1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E4.m1.2.2.1.2" xref="S3.E4.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.2b"><apply id="S3.E4.m1.2.2.1.1.cmml" xref="S3.E4.m1.2.2.1"><eq id="S3.E4.m1.2.2.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.2"></eq><apply id="S3.E4.m1.2.2.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.3.1.cmml" xref="S3.E4.m1.2.2.1.1.3">subscript</csymbol><apply id="S3.E4.m1.2.2.1.1.3.2.cmml" xref="S3.E4.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.3.2.1.cmml" xref="S3.E4.m1.2.2.1.1.3">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.3.2.2.cmml" xref="S3.E4.m1.2.2.1.1.3.2.2">𝑈</ci><ci id="S3.E4.m1.2.2.1.1.3.2.3.cmml" xref="S3.E4.m1.2.2.1.1.3.2.3">′</ci></apply><ci id="S3.E4.m1.2.2.1.1.3.3.cmml" xref="S3.E4.m1.2.2.1.1.3.3">𝑛</ci></apply><apply id="S3.E4.m1.2.2.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1"><plus id="S3.E4.m1.2.2.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.2"></plus><apply id="S3.E4.m1.2.2.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.3"><ci id="S3.E4.m1.2.2.1.1.1.3.1.cmml" xref="S3.E4.m1.2.2.1.1.1.3.1">~</ci><apply id="S3.E4.m1.2.2.1.1.1.3.2.cmml" xref="S3.E4.m1.2.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.3.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.3.2">subscript</csymbol><ci id="S3.E4.m1.2.2.1.1.1.3.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.3.2.2">𝑈</ci><ci id="S3.E4.m1.2.2.1.1.1.3.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.3.2.3">𝑛</ci></apply></apply><apply id="S3.E4.m1.2.2.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1"><times id="S3.E4.m1.2.2.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2"></times><ci id="S3.E4.m1.2.2.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3">MHSA</ci><apply id="S3.E4.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1"><times id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.1"></times><ci id="S3.E4.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.2">LN</ci><apply id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.3.2"><ci id="S3.E4.m1.1.1.1.cmml" xref="S3.E4.m1.1.1.1">~</ci><apply id="S3.E4.m1.1.1.2.cmml" xref="S3.E4.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.2">subscript</csymbol><ci id="S3.E4.m1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.2.2">𝑈</ci><ci id="S3.E4.m1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.2.3">𝑛</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.2c">\displaystyle U^{\prime}_{n}=\tilde{U_{n}}+\mathrm{MHSA}(\mathrm{LN}(\tilde{U_{n}})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E5.m1.1" class="ltx_Math" alttext="\displaystyle U^{\prime\prime}_{n}=U^{\prime}_{n}+\mathrm{Conv}(\mathrm{LN}(U^{\prime}_{n}))," display="inline"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><msubsup id="S3.E5.m1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.1.1.1.1.3.2.2" xref="S3.E5.m1.1.1.1.1.3.2.2.cmml">U</mi><mi id="S3.E5.m1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.3.3.cmml">n</mi><mo id="S3.E5.m1.1.1.1.1.3.2.3" xref="S3.E5.m1.1.1.1.1.3.2.3.cmml">′′</mo></msubsup><mo id="S3.E5.m1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.cmml"><msubsup id="S3.E5.m1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.3.2.2" xref="S3.E5.m1.1.1.1.1.1.3.2.2.cmml">U</mi><mi id="S3.E5.m1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.3.3.cmml">n</mi><mo id="S3.E5.m1.1.1.1.1.1.3.2.3" xref="S3.E5.m1.1.1.1.1.1.3.2.3.cmml">′</mo></msubsup><mo id="S3.E5.m1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.3.cmml">Conv</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml">LN</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">U</mi><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">n</mi><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">′</mo></msubsup><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E5.m1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1"><eq id="S3.E5.m1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2"></eq><apply id="S3.E5.m1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.3">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.2.1.cmml" xref="S3.E5.m1.1.1.1.1.3">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.2">𝑈</ci><ci id="S3.E5.m1.1.1.1.1.3.2.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.3">′′</ci></apply><ci id="S3.E5.m1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.E5.m1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1"><plus id="S3.E5.m1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.2"></plus><apply id="S3.E5.m1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.3.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2.2">𝑈</ci><ci id="S3.E5.m1.1.1.1.1.1.3.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2.3">′</ci></apply><ci id="S3.E5.m1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2"></times><ci id="S3.E5.m1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3">Conv</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3">LN</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑈</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">′</ci></apply><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\displaystyle U^{\prime\prime}_{n}=U^{\prime}_{n}+\mathrm{Conv}(\mathrm{LN}(U^{\prime}_{n})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E6.m1.1" class="ltx_Math" alttext="\displaystyle U^{\prime\prime\prime}_{n}=U^{\prime\prime}_{n}+\frac{1}{2}\mathrm{FFN}(\mathrm{LN}(U^{\prime\prime}_{n}))," display="inline"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><msubsup id="S3.E6.m1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.3.2.2" xref="S3.E6.m1.1.1.1.1.3.2.2.cmml">U</mi><mi id="S3.E6.m1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.3.3.cmml">n</mi><mo id="S3.E6.m1.1.1.1.1.3.2.3" xref="S3.E6.m1.1.1.1.1.3.2.3.cmml">′′′</mo></msubsup><mo id="S3.E6.m1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml"><msubsup id="S3.E6.m1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.3.2.2" xref="S3.E6.m1.1.1.1.1.1.3.2.2.cmml">U</mi><mi id="S3.E6.m1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.3.3.cmml">n</mi><mo id="S3.E6.m1.1.1.1.1.1.3.2.3" xref="S3.E6.m1.1.1.1.1.1.3.2.3.cmml">′′</mo></msubsup><mo id="S3.E6.m1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E6.m1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E6.m1.1.1.1.1.1.1.3a" xref="S3.E6.m1.1.1.1.1.1.1.3.cmml"><mn id="S3.E6.m1.1.1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.1.1.3.2.cmml">1</mn><mn id="S3.E6.m1.1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.1.3.3.cmml">2</mn></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.E6.m1.1.1.1.1.1.1.4" xref="S3.E6.m1.1.1.1.1.1.1.4.cmml">FFN</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.2a" xref="S3.E6.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.3.cmml">LN</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">U</mi><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">n</mi><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">′′</mo></msubsup><mo stretchy="false" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E6.m1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><eq id="S3.E6.m1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2"></eq><apply id="S3.E6.m1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.1.1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.1.1.1.1.3.2.2">𝑈</ci><ci id="S3.E6.m1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.1.1.1.1.3.2.3">′′′</ci></apply><ci id="S3.E6.m1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.E6.m1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1"><plus id="S3.E6.m1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.2"></plus><apply id="S3.E6.m1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2.2">𝑈</ci><ci id="S3.E6.m1.1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2.3">′′</ci></apply><ci id="S3.E6.m1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1"><times id="S3.E6.m1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2"></times><apply id="S3.E6.m1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3"><divide id="S3.E6.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3"></divide><cn type="integer" id="S3.E6.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.2">1</cn><cn type="integer" id="S3.E6.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3.3">2</cn></apply><ci id="S3.E6.m1.1.1.1.1.1.1.4.cmml" xref="S3.E6.m1.1.1.1.1.1.1.4">FFN</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1"><times id="S3.E6.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.3">LN</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑈</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">′′</ci></apply><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">\displaystyle U^{\prime\prime\prime}_{n}=U^{\prime\prime}_{n}+\frac{1}{2}\mathrm{FFN}(\mathrm{LN}(U^{\prime\prime}_{n})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.19" class="ltx_p">where <math id="S3.SS1.p1.14.m1.1" class="ltx_Math" alttext="U_{n}" display="inline"><semantics id="S3.SS1.p1.14.m1.1a"><msub id="S3.SS1.p1.14.m1.1.1" xref="S3.SS1.p1.14.m1.1.1.cmml"><mi id="S3.SS1.p1.14.m1.1.1.2" xref="S3.SS1.p1.14.m1.1.1.2.cmml">U</mi><mi id="S3.SS1.p1.14.m1.1.1.3" xref="S3.SS1.p1.14.m1.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.14.m1.1b"><apply id="S3.SS1.p1.14.m1.1.1.cmml" xref="S3.SS1.p1.14.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.14.m1.1.1.1.cmml" xref="S3.SS1.p1.14.m1.1.1">subscript</csymbol><ci id="S3.SS1.p1.14.m1.1.1.2.cmml" xref="S3.SS1.p1.14.m1.1.1.2">𝑈</ci><ci id="S3.SS1.p1.14.m1.1.1.3.cmml" xref="S3.SS1.p1.14.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.14.m1.1c">U_{n}</annotation></semantics></math> and <math id="S3.SS1.p1.15.m2.1" class="ltx_Math" alttext="U^{\prime\prime\prime}_{n}" display="inline"><semantics id="S3.SS1.p1.15.m2.1a"><msubsup id="S3.SS1.p1.15.m2.1.1" xref="S3.SS1.p1.15.m2.1.1.cmml"><mi id="S3.SS1.p1.15.m2.1.1.2.2" xref="S3.SS1.p1.15.m2.1.1.2.2.cmml">U</mi><mi id="S3.SS1.p1.15.m2.1.1.3" xref="S3.SS1.p1.15.m2.1.1.3.cmml">n</mi><mo id="S3.SS1.p1.15.m2.1.1.2.3" xref="S3.SS1.p1.15.m2.1.1.2.3.cmml">′′′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.15.m2.1b"><apply id="S3.SS1.p1.15.m2.1.1.cmml" xref="S3.SS1.p1.15.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.15.m2.1.1.1.cmml" xref="S3.SS1.p1.15.m2.1.1">subscript</csymbol><apply id="S3.SS1.p1.15.m2.1.1.2.cmml" xref="S3.SS1.p1.15.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.15.m2.1.1.2.1.cmml" xref="S3.SS1.p1.15.m2.1.1">superscript</csymbol><ci id="S3.SS1.p1.15.m2.1.1.2.2.cmml" xref="S3.SS1.p1.15.m2.1.1.2.2">𝑈</ci><ci id="S3.SS1.p1.15.m2.1.1.2.3.cmml" xref="S3.SS1.p1.15.m2.1.1.2.3">′′′</ci></apply><ci id="S3.SS1.p1.15.m2.1.1.3.cmml" xref="S3.SS1.p1.15.m2.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.15.m2.1c">U^{\prime\prime\prime}_{n}</annotation></semantics></math> represent the input and output of the <math id="S3.SS1.p1.16.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p1.16.m3.1a"><mi id="S3.SS1.p1.16.m3.1.1" xref="S3.SS1.p1.16.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.16.m3.1b"><ci id="S3.SS1.p1.16.m3.1.1.cmml" xref="S3.SS1.p1.16.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.16.m3.1c">n</annotation></semantics></math>-th conformer block, respectively (<math id="S3.SS1.p1.17.m4.1" class="ltx_Math" alttext="U_{1}=U" display="inline"><semantics id="S3.SS1.p1.17.m4.1a"><mrow id="S3.SS1.p1.17.m4.1.1" xref="S3.SS1.p1.17.m4.1.1.cmml"><msub id="S3.SS1.p1.17.m4.1.1.2" xref="S3.SS1.p1.17.m4.1.1.2.cmml"><mi id="S3.SS1.p1.17.m4.1.1.2.2" xref="S3.SS1.p1.17.m4.1.1.2.2.cmml">U</mi><mn id="S3.SS1.p1.17.m4.1.1.2.3" xref="S3.SS1.p1.17.m4.1.1.2.3.cmml">1</mn></msub><mo id="S3.SS1.p1.17.m4.1.1.1" xref="S3.SS1.p1.17.m4.1.1.1.cmml">=</mo><mi id="S3.SS1.p1.17.m4.1.1.3" xref="S3.SS1.p1.17.m4.1.1.3.cmml">U</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.17.m4.1b"><apply id="S3.SS1.p1.17.m4.1.1.cmml" xref="S3.SS1.p1.17.m4.1.1"><eq id="S3.SS1.p1.17.m4.1.1.1.cmml" xref="S3.SS1.p1.17.m4.1.1.1"></eq><apply id="S3.SS1.p1.17.m4.1.1.2.cmml" xref="S3.SS1.p1.17.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.17.m4.1.1.2.1.cmml" xref="S3.SS1.p1.17.m4.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.17.m4.1.1.2.2.cmml" xref="S3.SS1.p1.17.m4.1.1.2.2">𝑈</ci><cn type="integer" id="S3.SS1.p1.17.m4.1.1.2.3.cmml" xref="S3.SS1.p1.17.m4.1.1.2.3">1</cn></apply><ci id="S3.SS1.p1.17.m4.1.1.3.cmml" xref="S3.SS1.p1.17.m4.1.1.3">𝑈</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.17.m4.1c">U_{1}=U</annotation></semantics></math> in Eq. (<a href="#S3.E2" title="In III-A Encoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>)).
Note that the LN layers are applied before each module followed by a residual connection as in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>.
By using <math id="S3.SS1.p1.18.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.p1.18.m5.1a"><mi id="S3.SS1.p1.18.m5.1.1" xref="S3.SS1.p1.18.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.18.m5.1b"><ci id="S3.SS1.p1.18.m5.1.1.cmml" xref="S3.SS1.p1.18.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.18.m5.1c">N</annotation></semantics></math> conformer blocks, the conformer encoder outputs the hidden state sequence (<math id="S3.SS1.p1.19.m6.1" class="ltx_Math" alttext="H=U^{\prime\prime\prime}_{N}" display="inline"><semantics id="S3.SS1.p1.19.m6.1a"><mrow id="S3.SS1.p1.19.m6.1.1" xref="S3.SS1.p1.19.m6.1.1.cmml"><mi id="S3.SS1.p1.19.m6.1.1.2" xref="S3.SS1.p1.19.m6.1.1.2.cmml">H</mi><mo id="S3.SS1.p1.19.m6.1.1.1" xref="S3.SS1.p1.19.m6.1.1.1.cmml">=</mo><msubsup id="S3.SS1.p1.19.m6.1.1.3" xref="S3.SS1.p1.19.m6.1.1.3.cmml"><mi id="S3.SS1.p1.19.m6.1.1.3.2.2" xref="S3.SS1.p1.19.m6.1.1.3.2.2.cmml">U</mi><mi id="S3.SS1.p1.19.m6.1.1.3.3" xref="S3.SS1.p1.19.m6.1.1.3.3.cmml">N</mi><mo id="S3.SS1.p1.19.m6.1.1.3.2.3" xref="S3.SS1.p1.19.m6.1.1.3.2.3.cmml">′′′</mo></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.19.m6.1b"><apply id="S3.SS1.p1.19.m6.1.1.cmml" xref="S3.SS1.p1.19.m6.1.1"><eq id="S3.SS1.p1.19.m6.1.1.1.cmml" xref="S3.SS1.p1.19.m6.1.1.1"></eq><ci id="S3.SS1.p1.19.m6.1.1.2.cmml" xref="S3.SS1.p1.19.m6.1.1.2">𝐻</ci><apply id="S3.SS1.p1.19.m6.1.1.3.cmml" xref="S3.SS1.p1.19.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.19.m6.1.1.3.1.cmml" xref="S3.SS1.p1.19.m6.1.1.3">subscript</csymbol><apply id="S3.SS1.p1.19.m6.1.1.3.2.cmml" xref="S3.SS1.p1.19.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.19.m6.1.1.3.2.1.cmml" xref="S3.SS1.p1.19.m6.1.1.3">superscript</csymbol><ci id="S3.SS1.p1.19.m6.1.1.3.2.2.cmml" xref="S3.SS1.p1.19.m6.1.1.3.2.2">𝑈</ci><ci id="S3.SS1.p1.19.m6.1.1.3.2.3.cmml" xref="S3.SS1.p1.19.m6.1.1.3.2.3">′′′</ci></apply><ci id="S3.SS1.p1.19.m6.1.1.3.3.cmml" xref="S3.SS1.p1.19.m6.1.1.3.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.19.m6.1c">H=U^{\prime\prime\prime}_{N}</annotation></semantics></math>).</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.5" class="ltx_p">The hidden state sequence <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">H</annotation></semantics></math> extracted by the encoder is fed into the decoder and the decoder estimates the <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">S</annotation></semantics></math>-length output token sequence, <math id="S3.SS1.p2.3.m3.3" class="ltx_math_unparsed" alttext="Y=(y_{s}\in\mathcal{V}|s=1,...,S)" display="inline"><semantics id="S3.SS1.p2.3.m3.3a"><mrow id="S3.SS1.p2.3.m3.3b"><mi id="S3.SS1.p2.3.m3.3.4">Y</mi><mo id="S3.SS1.p2.3.m3.3.5">=</mo><mrow id="S3.SS1.p2.3.m3.3.6"><mo stretchy="false" id="S3.SS1.p2.3.m3.3.6.1">(</mo><msub id="S3.SS1.p2.3.m3.3.6.2"><mi id="S3.SS1.p2.3.m3.3.6.2.2">y</mi><mi id="S3.SS1.p2.3.m3.3.6.2.3">s</mi></msub><mo id="S3.SS1.p2.3.m3.3.6.3">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.3.6.4">𝒱</mi><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS1.p2.3.m3.3.6.5">|</mo><mi id="S3.SS1.p2.3.m3.3.6.6">s</mi><mo id="S3.SS1.p2.3.m3.3.6.7">=</mo><mn id="S3.SS1.p2.3.m3.1.1">1</mn><mo id="S3.SS1.p2.3.m3.3.6.8">,</mo><mi mathvariant="normal" id="S3.SS1.p2.3.m3.2.2">…</mi><mo id="S3.SS1.p2.3.m3.3.6.9">,</mo><mi id="S3.SS1.p2.3.m3.3.3">S</mi><mo stretchy="false" id="S3.SS1.p2.3.m3.3.6.10">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.3c">Y=(y_{s}\in\mathcal{V}|s=1,...,S)</annotation></semantics></math>, where <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{V}" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\mathcal{V}</annotation></semantics></math> and <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><mi id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><ci id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">s</annotation></semantics></math> represent the vocabulary and the label index, respectively.
Each decoder is described in the following sections.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS2.4.1.1" class="ltx_text">III-B</span> </span><span id="S3.SS2.5.2" class="ltx_text ltx_font_italic">CTC</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.11" class="ltx_p">The CTC decoder predicts a <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">T</annotation></semantics></math>-length monotonic alignment sequence <math id="S3.SS2.p1.2.m2.4" class="ltx_math_unparsed" alttext="Z_{\text{ctc}}=(z^{\text{ctc}}_{t}\in\mathcal{V}\cup\{\phi\}|t=1,...,T)" display="inline"><semantics id="S3.SS2.p1.2.m2.4a"><mrow id="S3.SS2.p1.2.m2.4b"><msub id="S3.SS2.p1.2.m2.4.5"><mi id="S3.SS2.p1.2.m2.4.5.2">Z</mi><mtext id="S3.SS2.p1.2.m2.4.5.3">ctc</mtext></msub><mo id="S3.SS2.p1.2.m2.4.6">=</mo><mrow id="S3.SS2.p1.2.m2.4.7"><mo stretchy="false" id="S3.SS2.p1.2.m2.4.7.1">(</mo><msubsup id="S3.SS2.p1.2.m2.4.7.2"><mi id="S3.SS2.p1.2.m2.4.7.2.2.2">z</mi><mi id="S3.SS2.p1.2.m2.4.7.2.3">t</mi><mtext id="S3.SS2.p1.2.m2.4.7.2.2.3">ctc</mtext></msubsup><mo id="S3.SS2.p1.2.m2.4.7.3">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.2.m2.4.7.4">𝒱</mi><mo id="S3.SS2.p1.2.m2.4.7.5">∪</mo><mrow id="S3.SS2.p1.2.m2.4.7.6"><mo stretchy="false" id="S3.SS2.p1.2.m2.4.7.6.1">{</mo><mi id="S3.SS2.p1.2.m2.1.1">ϕ</mi><mo stretchy="false" id="S3.SS2.p1.2.m2.4.7.6.2">}</mo></mrow><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS2.p1.2.m2.4.7.7">|</mo><mi id="S3.SS2.p1.2.m2.4.7.8">t</mi><mo id="S3.SS2.p1.2.m2.4.7.9">=</mo><mn id="S3.SS2.p1.2.m2.2.2">1</mn><mo id="S3.SS2.p1.2.m2.4.7.10">,</mo><mi mathvariant="normal" id="S3.SS2.p1.2.m2.3.3">…</mi><mo id="S3.SS2.p1.2.m2.4.7.11">,</mo><mi id="S3.SS2.p1.2.m2.4.4">T</mi><mo stretchy="false" id="S3.SS2.p1.2.m2.4.7.12">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.4c">Z_{\text{ctc}}=(z^{\text{ctc}}_{t}\in\mathcal{V}\cup\{\phi\}|t=1,...,T)</annotation></semantics></math> in a time-synchronous manner, where <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="\phi" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">\phi</annotation></semantics></math> denotes a blank token.
Each alignment sequence is deterministically mapped to a corresponding output sequence by removing all blank tokens <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="\phi" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><mi id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><ci id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">\phi</annotation></semantics></math> and repetitive tokens defined by <math id="S3.SS2.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{B_{\text{ctc}}}(Z_{\text{ctc}})=Y" display="inline"><semantics id="S3.SS2.p1.5.m5.1a"><mrow id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml"><mrow id="S3.SS2.p1.5.m5.1.1.1" xref="S3.SS2.p1.5.m5.1.1.1.cmml"><msub id="S3.SS2.p1.5.m5.1.1.1.3" xref="S3.SS2.p1.5.m5.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.5.m5.1.1.1.3.2" xref="S3.SS2.p1.5.m5.1.1.1.3.2.cmml">ℬ</mi><mtext id="S3.SS2.p1.5.m5.1.1.1.3.3" xref="S3.SS2.p1.5.m5.1.1.1.3.3a.cmml">ctc</mtext></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p1.5.m5.1.1.1.2" xref="S3.SS2.p1.5.m5.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.5.m5.1.1.1.1.1" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.5.m5.1.1.1.1.1.2" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p1.5.m5.1.1.1.1.1.1" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.5.m5.1.1.1.1.1.1.2" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.2.cmml">Z</mi><mtext id="S3.SS2.p1.5.m5.1.1.1.1.1.1.3" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.3a.cmml">ctc</mtext></msub><mo stretchy="false" id="S3.SS2.p1.5.m5.1.1.1.1.1.3" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p1.5.m5.1.1.2" xref="S3.SS2.p1.5.m5.1.1.2.cmml">=</mo><mi id="S3.SS2.p1.5.m5.1.1.3" xref="S3.SS2.p1.5.m5.1.1.3.cmml">Y</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><apply id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1"><eq id="S3.SS2.p1.5.m5.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.2"></eq><apply id="S3.SS2.p1.5.m5.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1.1"><times id="S3.SS2.p1.5.m5.1.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.1.2"></times><apply id="S3.SS2.p1.5.m5.1.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.1.3.1.cmml" xref="S3.SS2.p1.5.m5.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p1.5.m5.1.1.1.3.2.cmml" xref="S3.SS2.p1.5.m5.1.1.1.3.2">ℬ</ci><ci id="S3.SS2.p1.5.m5.1.1.1.3.3a.cmml" xref="S3.SS2.p1.5.m5.1.1.1.3.3"><mtext mathsize="70%" id="S3.SS2.p1.5.m5.1.1.1.3.3.cmml" xref="S3.SS2.p1.5.m5.1.1.1.3.3">ctc</mtext></ci></apply><apply id="S3.SS2.p1.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.5.m5.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.2">𝑍</ci><ci id="S3.SS2.p1.5.m5.1.1.1.1.1.1.3a.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.SS2.p1.5.m5.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.1.1.1.1.3">ctc</mtext></ci></apply></apply><ci id="S3.SS2.p1.5.m5.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.3">𝑌</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">\mathcal{B_{\text{ctc}}}(Z_{\text{ctc}})=Y</annotation></semantics></math> (e.g., <math id="S3.SS2.p1.6.m6.11" class="ltx_Math" alttext="\mathcal{B_{\text{ctc}}}([a,a,\phi,a,\phi,b,b])=[a,a,b]" display="inline"><semantics id="S3.SS2.p1.6.m6.11a"><mrow id="S3.SS2.p1.6.m6.11.11" xref="S3.SS2.p1.6.m6.11.11.cmml"><mrow id="S3.SS2.p1.6.m6.11.11.1" xref="S3.SS2.p1.6.m6.11.11.1.cmml"><msub id="S3.SS2.p1.6.m6.11.11.1.3" xref="S3.SS2.p1.6.m6.11.11.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.6.m6.11.11.1.3.2" xref="S3.SS2.p1.6.m6.11.11.1.3.2.cmml">ℬ</mi><mtext id="S3.SS2.p1.6.m6.11.11.1.3.3" xref="S3.SS2.p1.6.m6.11.11.1.3.3a.cmml">ctc</mtext></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p1.6.m6.11.11.1.2" xref="S3.SS2.p1.6.m6.11.11.1.2.cmml">​</mo><mrow id="S3.SS2.p1.6.m6.11.11.1.1.1" xref="S3.SS2.p1.6.m6.11.11.1.cmml"><mo stretchy="false" id="S3.SS2.p1.6.m6.11.11.1.1.1.2" xref="S3.SS2.p1.6.m6.11.11.1.cmml">(</mo><mrow id="S3.SS2.p1.6.m6.11.11.1.1.1.1.2" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.6.m6.11.11.1.1.1.1.2.1" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml">[</mo><mi id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml">a</mi><mo id="S3.SS2.p1.6.m6.11.11.1.1.1.1.2.2" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml">,</mo><mi id="S3.SS2.p1.6.m6.2.2" xref="S3.SS2.p1.6.m6.2.2.cmml">a</mi><mo id="S3.SS2.p1.6.m6.11.11.1.1.1.1.2.3" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml">,</mo><mi id="S3.SS2.p1.6.m6.3.3" xref="S3.SS2.p1.6.m6.3.3.cmml">ϕ</mi><mo id="S3.SS2.p1.6.m6.11.11.1.1.1.1.2.4" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml">,</mo><mi id="S3.SS2.p1.6.m6.4.4" xref="S3.SS2.p1.6.m6.4.4.cmml">a</mi><mo id="S3.SS2.p1.6.m6.11.11.1.1.1.1.2.5" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml">,</mo><mi id="S3.SS2.p1.6.m6.5.5" xref="S3.SS2.p1.6.m6.5.5.cmml">ϕ</mi><mo id="S3.SS2.p1.6.m6.11.11.1.1.1.1.2.6" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml">,</mo><mi id="S3.SS2.p1.6.m6.6.6" xref="S3.SS2.p1.6.m6.6.6.cmml">b</mi><mo id="S3.SS2.p1.6.m6.11.11.1.1.1.1.2.7" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml">,</mo><mi id="S3.SS2.p1.6.m6.7.7" xref="S3.SS2.p1.6.m6.7.7.cmml">b</mi><mo stretchy="false" id="S3.SS2.p1.6.m6.11.11.1.1.1.1.2.8" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml">]</mo></mrow><mo stretchy="false" id="S3.SS2.p1.6.m6.11.11.1.1.1.3" xref="S3.SS2.p1.6.m6.11.11.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p1.6.m6.11.11.2" xref="S3.SS2.p1.6.m6.11.11.2.cmml">=</mo><mrow id="S3.SS2.p1.6.m6.11.11.3.2" xref="S3.SS2.p1.6.m6.11.11.3.1.cmml"><mo stretchy="false" id="S3.SS2.p1.6.m6.11.11.3.2.1" xref="S3.SS2.p1.6.m6.11.11.3.1.cmml">[</mo><mi id="S3.SS2.p1.6.m6.8.8" xref="S3.SS2.p1.6.m6.8.8.cmml">a</mi><mo id="S3.SS2.p1.6.m6.11.11.3.2.2" xref="S3.SS2.p1.6.m6.11.11.3.1.cmml">,</mo><mi id="S3.SS2.p1.6.m6.9.9" xref="S3.SS2.p1.6.m6.9.9.cmml">a</mi><mo id="S3.SS2.p1.6.m6.11.11.3.2.3" xref="S3.SS2.p1.6.m6.11.11.3.1.cmml">,</mo><mi id="S3.SS2.p1.6.m6.10.10" xref="S3.SS2.p1.6.m6.10.10.cmml">b</mi><mo stretchy="false" id="S3.SS2.p1.6.m6.11.11.3.2.4" xref="S3.SS2.p1.6.m6.11.11.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.11b"><apply id="S3.SS2.p1.6.m6.11.11.cmml" xref="S3.SS2.p1.6.m6.11.11"><eq id="S3.SS2.p1.6.m6.11.11.2.cmml" xref="S3.SS2.p1.6.m6.11.11.2"></eq><apply id="S3.SS2.p1.6.m6.11.11.1.cmml" xref="S3.SS2.p1.6.m6.11.11.1"><times id="S3.SS2.p1.6.m6.11.11.1.2.cmml" xref="S3.SS2.p1.6.m6.11.11.1.2"></times><apply id="S3.SS2.p1.6.m6.11.11.1.3.cmml" xref="S3.SS2.p1.6.m6.11.11.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m6.11.11.1.3.1.cmml" xref="S3.SS2.p1.6.m6.11.11.1.3">subscript</csymbol><ci id="S3.SS2.p1.6.m6.11.11.1.3.2.cmml" xref="S3.SS2.p1.6.m6.11.11.1.3.2">ℬ</ci><ci id="S3.SS2.p1.6.m6.11.11.1.3.3a.cmml" xref="S3.SS2.p1.6.m6.11.11.1.3.3"><mtext mathsize="70%" id="S3.SS2.p1.6.m6.11.11.1.3.3.cmml" xref="S3.SS2.p1.6.m6.11.11.1.3.3">ctc</mtext></ci></apply><list id="S3.SS2.p1.6.m6.11.11.1.1.1.1.1.cmml" xref="S3.SS2.p1.6.m6.11.11.1.1.1.1.2"><ci id="S3.SS2.p1.6.m6.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">𝑎</ci><ci id="S3.SS2.p1.6.m6.2.2.cmml" xref="S3.SS2.p1.6.m6.2.2">𝑎</ci><ci id="S3.SS2.p1.6.m6.3.3.cmml" xref="S3.SS2.p1.6.m6.3.3">italic-ϕ</ci><ci id="S3.SS2.p1.6.m6.4.4.cmml" xref="S3.SS2.p1.6.m6.4.4">𝑎</ci><ci id="S3.SS2.p1.6.m6.5.5.cmml" xref="S3.SS2.p1.6.m6.5.5">italic-ϕ</ci><ci id="S3.SS2.p1.6.m6.6.6.cmml" xref="S3.SS2.p1.6.m6.6.6">𝑏</ci><ci id="S3.SS2.p1.6.m6.7.7.cmml" xref="S3.SS2.p1.6.m6.7.7">𝑏</ci></list></apply><list id="S3.SS2.p1.6.m6.11.11.3.1.cmml" xref="S3.SS2.p1.6.m6.11.11.3.2"><ci id="S3.SS2.p1.6.m6.8.8.cmml" xref="S3.SS2.p1.6.m6.8.8">𝑎</ci><ci id="S3.SS2.p1.6.m6.9.9.cmml" xref="S3.SS2.p1.6.m6.9.9">𝑎</ci><ci id="S3.SS2.p1.6.m6.10.10.cmml" xref="S3.SS2.p1.6.m6.10.10">𝑏</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.11c">\mathcal{B_{\text{ctc}}}([a,a,\phi,a,\phi,b,b])=[a,a,b]</annotation></semantics></math>). This mapping strategy constrains the efficient monotonic alignment.
Note that the token sequence <math id="S3.SS2.p1.7.m7.1" class="ltx_Math" alttext="Y" display="inline"><semantics id="S3.SS2.p1.7.m7.1a"><mi id="S3.SS2.p1.7.m7.1.1" xref="S3.SS2.p1.7.m7.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.1b"><ci id="S3.SS2.p1.7.m7.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.1c">Y</annotation></semantics></math> must be shorter than the <math id="S3.SS2.p1.8.m8.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS2.p1.8.m8.1a"><mi id="S3.SS2.p1.8.m8.1.1" xref="S3.SS2.p1.8.m8.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.1b"><ci id="S3.SS2.p1.8.m8.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.1c">T</annotation></semantics></math>-length input sequence <math id="S3.SS2.p1.9.m9.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.SS2.p1.9.m9.1a"><mi id="S3.SS2.p1.9.m9.1.1" xref="S3.SS2.p1.9.m9.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m9.1b"><ci id="S3.SS2.p1.9.m9.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m9.1c">H</annotation></semantics></math>.
Instead of directly estimating output posteriors, <math id="S3.SS2.p1.10.m10.1" class="ltx_Math" alttext="P(Y|X)" display="inline"><semantics id="S3.SS2.p1.10.m10.1a"><mrow id="S3.SS2.p1.10.m10.1.1" xref="S3.SS2.p1.10.m10.1.1.cmml"><mi id="S3.SS2.p1.10.m10.1.1.3" xref="S3.SS2.p1.10.m10.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.10.m10.1.1.2" xref="S3.SS2.p1.10.m10.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.10.m10.1.1.1.1" xref="S3.SS2.p1.10.m10.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.10.m10.1.1.1.1.2" xref="S3.SS2.p1.10.m10.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p1.10.m10.1.1.1.1.1" xref="S3.SS2.p1.10.m10.1.1.1.1.1.cmml"><mi id="S3.SS2.p1.10.m10.1.1.1.1.1.2" xref="S3.SS2.p1.10.m10.1.1.1.1.1.2.cmml">Y</mi><mo fence="false" id="S3.SS2.p1.10.m10.1.1.1.1.1.1" xref="S3.SS2.p1.10.m10.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS2.p1.10.m10.1.1.1.1.1.3" xref="S3.SS2.p1.10.m10.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.SS2.p1.10.m10.1.1.1.1.3" xref="S3.SS2.p1.10.m10.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m10.1b"><apply id="S3.SS2.p1.10.m10.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1"><times id="S3.SS2.p1.10.m10.1.1.2.cmml" xref="S3.SS2.p1.10.m10.1.1.2"></times><ci id="S3.SS2.p1.10.m10.1.1.3.cmml" xref="S3.SS2.p1.10.m10.1.1.3">𝑃</ci><apply id="S3.SS2.p1.10.m10.1.1.1.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p1.10.m10.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS2.p1.10.m10.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.2">𝑌</ci><ci id="S3.SS2.p1.10.m10.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.10.m10.1.1.1.1.1.3">𝑋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.m10.1c">P(Y|X)</annotation></semantics></math>, the CTC decoder estimates the alignment posteriors, <math id="S3.SS2.p1.11.m11.1" class="ltx_Math" alttext="P(Z_{\text{ctc}}|X)" display="inline"><semantics id="S3.SS2.p1.11.m11.1a"><mrow id="S3.SS2.p1.11.m11.1.1" xref="S3.SS2.p1.11.m11.1.1.cmml"><mi id="S3.SS2.p1.11.m11.1.1.3" xref="S3.SS2.p1.11.m11.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.11.m11.1.1.2" xref="S3.SS2.p1.11.m11.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.11.m11.1.1.1.1" xref="S3.SS2.p1.11.m11.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.11.m11.1.1.1.1.2" xref="S3.SS2.p1.11.m11.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p1.11.m11.1.1.1.1.1" xref="S3.SS2.p1.11.m11.1.1.1.1.1.cmml"><msub id="S3.SS2.p1.11.m11.1.1.1.1.1.2" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2.cmml"><mi id="S3.SS2.p1.11.m11.1.1.1.1.1.2.2" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2.2.cmml">Z</mi><mtext id="S3.SS2.p1.11.m11.1.1.1.1.1.2.3" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2.3a.cmml">ctc</mtext></msub><mo fence="false" id="S3.SS2.p1.11.m11.1.1.1.1.1.1" xref="S3.SS2.p1.11.m11.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS2.p1.11.m11.1.1.1.1.1.3" xref="S3.SS2.p1.11.m11.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.SS2.p1.11.m11.1.1.1.1.3" xref="S3.SS2.p1.11.m11.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.11.m11.1b"><apply id="S3.SS2.p1.11.m11.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1"><times id="S3.SS2.p1.11.m11.1.1.2.cmml" xref="S3.SS2.p1.11.m11.1.1.2"></times><ci id="S3.SS2.p1.11.m11.1.1.3.cmml" xref="S3.SS2.p1.11.m11.1.1.3">𝑃</ci><apply id="S3.SS2.p1.11.m11.1.1.1.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p1.11.m11.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS2.p1.11.m11.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m11.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.p1.11.m11.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2.2">𝑍</ci><ci id="S3.SS2.p1.11.m11.1.1.1.1.1.2.3a.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.SS2.p1.11.m11.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2.3">ctc</mtext></ci></apply><ci id="S3.SS2.p1.11.m11.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1.1.3">𝑋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.11.m11.1c">P(Z_{\text{ctc}}|X)</annotation></semantics></math> as follows:</p>
<table id="S3.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E7.m1.2" class="ltx_Math" alttext="P_{\text{ctc}}(Y\mid X)=\sum_{Z_{\text{ctc}}\in\mathcal{B^{\text{-1}}_{\text{ctc}}}(Y)}P_{\text{}}(Z_{\text{ctc}}\mid X)," display="block"><semantics id="S3.E7.m1.2a"><mrow id="S3.E7.m1.2.2.1" xref="S3.E7.m1.2.2.1.1.cmml"><mrow id="S3.E7.m1.2.2.1.1" xref="S3.E7.m1.2.2.1.1.cmml"><mrow id="S3.E7.m1.2.2.1.1.1" xref="S3.E7.m1.2.2.1.1.1.cmml"><msub id="S3.E7.m1.2.2.1.1.1.3" xref="S3.E7.m1.2.2.1.1.1.3.cmml"><mi id="S3.E7.m1.2.2.1.1.1.3.2" xref="S3.E7.m1.2.2.1.1.1.3.2.cmml">P</mi><mtext id="S3.E7.m1.2.2.1.1.1.3.3" xref="S3.E7.m1.2.2.1.1.1.3.3a.cmml">ctc</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.2.2.1.1.1.2" xref="S3.E7.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E7.m1.2.2.1.1.1.1.1" xref="S3.E7.m1.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7.m1.2.2.1.1.1.1.1.2" xref="S3.E7.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.2.2.1.1.1.1.1.1" xref="S3.E7.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.2.2.1.1.1.1.1.1.2" xref="S3.E7.m1.2.2.1.1.1.1.1.1.2.cmml">Y</mi><mo id="S3.E7.m1.2.2.1.1.1.1.1.1.1" xref="S3.E7.m1.2.2.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E7.m1.2.2.1.1.1.1.1.1.3" xref="S3.E7.m1.2.2.1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E7.m1.2.2.1.1.1.1.1.3" xref="S3.E7.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E7.m1.2.2.1.1.3" xref="S3.E7.m1.2.2.1.1.3.cmml">=</mo><mrow id="S3.E7.m1.2.2.1.1.2" xref="S3.E7.m1.2.2.1.1.2.cmml"><munder id="S3.E7.m1.2.2.1.1.2.2" xref="S3.E7.m1.2.2.1.1.2.2.cmml"><mo movablelimits="false" id="S3.E7.m1.2.2.1.1.2.2.2" xref="S3.E7.m1.2.2.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E7.m1.1.1.1" xref="S3.E7.m1.1.1.1.cmml"><msub id="S3.E7.m1.1.1.1.3" xref="S3.E7.m1.1.1.1.3.cmml"><mi id="S3.E7.m1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.3.2.cmml">Z</mi><mtext id="S3.E7.m1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.3.3a.cmml">ctc</mtext></msub><mo id="S3.E7.m1.1.1.1.2" xref="S3.E7.m1.1.1.1.2.cmml">∈</mo><mrow id="S3.E7.m1.1.1.1.4" xref="S3.E7.m1.1.1.1.4.cmml"><msubsup id="S3.E7.m1.1.1.1.4.2" xref="S3.E7.m1.1.1.1.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.1.1.4.2.2.2" xref="S3.E7.m1.1.1.1.4.2.2.2.cmml">ℬ</mi><mtext id="S3.E7.m1.1.1.1.4.2.3" xref="S3.E7.m1.1.1.1.4.2.3a.cmml">ctc</mtext><mtext id="S3.E7.m1.1.1.1.4.2.2.3" xref="S3.E7.m1.1.1.1.4.2.2.3a.cmml">-1</mtext></msubsup><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.4.1" xref="S3.E7.m1.1.1.1.4.1.cmml">​</mo><mrow id="S3.E7.m1.1.1.1.4.3.2" xref="S3.E7.m1.1.1.1.4.cmml"><mo stretchy="false" id="S3.E7.m1.1.1.1.4.3.2.1" xref="S3.E7.m1.1.1.1.4.cmml">(</mo><mi id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml">Y</mi><mo stretchy="false" id="S3.E7.m1.1.1.1.4.3.2.2" xref="S3.E7.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S3.E7.m1.2.2.1.1.2.1" xref="S3.E7.m1.2.2.1.1.2.1.cmml"><msub id="S3.E7.m1.2.2.1.1.2.1.3" xref="S3.E7.m1.2.2.1.1.2.1.3.cmml"><mi id="S3.E7.m1.2.2.1.1.2.1.3.2" xref="S3.E7.m1.2.2.1.1.2.1.3.2.cmml">P</mi><mrow id="S3.E7.m1.2.2.1.1.2.1.3.3" xref="S3.E7.m1.2.2.1.1.2.1.3.3a.cmml"></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.2.2.1.1.2.1.2" xref="S3.E7.m1.2.2.1.1.2.1.2.cmml">​</mo><mrow id="S3.E7.m1.2.2.1.1.2.1.1.1" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7.m1.2.2.1.1.2.1.1.1.2" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.2.2.1.1.2.1.1.1.1" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.cmml"><msub id="S3.E7.m1.2.2.1.1.2.1.1.1.1.2" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.cmml"><mi id="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.2" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.2.cmml">Z</mi><mtext id="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.3" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.3a.cmml">ctc</mtext></msub><mo id="S3.E7.m1.2.2.1.1.2.1.1.1.1.1" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.1.cmml">∣</mo><mi id="S3.E7.m1.2.2.1.1.2.1.1.1.1.3" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E7.m1.2.2.1.1.2.1.1.1.3" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E7.m1.2.2.1.2" xref="S3.E7.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.2b"><apply id="S3.E7.m1.2.2.1.1.cmml" xref="S3.E7.m1.2.2.1"><eq id="S3.E7.m1.2.2.1.1.3.cmml" xref="S3.E7.m1.2.2.1.1.3"></eq><apply id="S3.E7.m1.2.2.1.1.1.cmml" xref="S3.E7.m1.2.2.1.1.1"><times id="S3.E7.m1.2.2.1.1.1.2.cmml" xref="S3.E7.m1.2.2.1.1.1.2"></times><apply id="S3.E7.m1.2.2.1.1.1.3.cmml" xref="S3.E7.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.1.1.1.3.1.cmml" xref="S3.E7.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E7.m1.2.2.1.1.1.3.2.cmml" xref="S3.E7.m1.2.2.1.1.1.3.2">𝑃</ci><ci id="S3.E7.m1.2.2.1.1.1.3.3a.cmml" xref="S3.E7.m1.2.2.1.1.1.3.3"><mtext mathsize="70%" id="S3.E7.m1.2.2.1.1.1.3.3.cmml" xref="S3.E7.m1.2.2.1.1.1.3.3">ctc</mtext></ci></apply><apply id="S3.E7.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E7.m1.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.E7.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.2.2.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E7.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.2.2.1.1.1.1.1.1.2">𝑌</ci><ci id="S3.E7.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.2.2.1.1.1.1.1.1.3">𝑋</ci></apply></apply><apply id="S3.E7.m1.2.2.1.1.2.cmml" xref="S3.E7.m1.2.2.1.1.2"><apply id="S3.E7.m1.2.2.1.1.2.2.cmml" xref="S3.E7.m1.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.1.1.2.2.1.cmml" xref="S3.E7.m1.2.2.1.1.2.2">subscript</csymbol><sum id="S3.E7.m1.2.2.1.1.2.2.2.cmml" xref="S3.E7.m1.2.2.1.1.2.2.2"></sum><apply id="S3.E7.m1.1.1.1.cmml" xref="S3.E7.m1.1.1.1"><in id="S3.E7.m1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.2"></in><apply id="S3.E7.m1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.3">subscript</csymbol><ci id="S3.E7.m1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.3.2">𝑍</ci><ci id="S3.E7.m1.1.1.1.3.3a.cmml" xref="S3.E7.m1.1.1.1.3.3"><mtext mathsize="50%" id="S3.E7.m1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.3.3">ctc</mtext></ci></apply><apply id="S3.E7.m1.1.1.1.4.cmml" xref="S3.E7.m1.1.1.1.4"><times id="S3.E7.m1.1.1.1.4.1.cmml" xref="S3.E7.m1.1.1.1.4.1"></times><apply id="S3.E7.m1.1.1.1.4.2.cmml" xref="S3.E7.m1.1.1.1.4.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.4.2.1.cmml" xref="S3.E7.m1.1.1.1.4.2">subscript</csymbol><apply id="S3.E7.m1.1.1.1.4.2.2.cmml" xref="S3.E7.m1.1.1.1.4.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.4.2.2.1.cmml" xref="S3.E7.m1.1.1.1.4.2">superscript</csymbol><ci id="S3.E7.m1.1.1.1.4.2.2.2.cmml" xref="S3.E7.m1.1.1.1.4.2.2.2">ℬ</ci><ci id="S3.E7.m1.1.1.1.4.2.2.3a.cmml" xref="S3.E7.m1.1.1.1.4.2.2.3"><mtext mathsize="50%" id="S3.E7.m1.1.1.1.4.2.2.3.cmml" xref="S3.E7.m1.1.1.1.4.2.2.3">-1</mtext></ci></apply><ci id="S3.E7.m1.1.1.1.4.2.3a.cmml" xref="S3.E7.m1.1.1.1.4.2.3"><mtext mathsize="50%" id="S3.E7.m1.1.1.1.4.2.3.cmml" xref="S3.E7.m1.1.1.1.4.2.3">ctc</mtext></ci></apply><ci id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1">𝑌</ci></apply></apply></apply><apply id="S3.E7.m1.2.2.1.1.2.1.cmml" xref="S3.E7.m1.2.2.1.1.2.1"><times id="S3.E7.m1.2.2.1.1.2.1.2.cmml" xref="S3.E7.m1.2.2.1.1.2.1.2"></times><apply id="S3.E7.m1.2.2.1.1.2.1.3.cmml" xref="S3.E7.m1.2.2.1.1.2.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.1.1.2.1.3.1.cmml" xref="S3.E7.m1.2.2.1.1.2.1.3">subscript</csymbol><ci id="S3.E7.m1.2.2.1.1.2.1.3.2.cmml" xref="S3.E7.m1.2.2.1.1.2.1.3.2">𝑃</ci><ci id="S3.E7.m1.2.2.1.1.2.1.3.3a.cmml" xref="S3.E7.m1.2.2.1.1.2.1.3.3"><mrow id="S3.E7.m1.2.2.1.1.2.1.3.3.cmml" xref="S3.E7.m1.2.2.1.1.2.1.3.3"></mrow></ci></apply><apply id="S3.E7.m1.2.2.1.1.2.1.1.1.1.cmml" xref="S3.E7.m1.2.2.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E7.m1.2.2.1.1.2.1.1.1.1.1.cmml" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.1">conditional</csymbol><apply id="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.cmml" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.1.cmml" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.2">subscript</csymbol><ci id="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.2.cmml" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.2">𝑍</ci><ci id="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.3a.cmml" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.3.cmml" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.2.3">ctc</mtext></ci></apply><ci id="S3.E7.m1.2.2.1.1.2.1.1.1.1.3.cmml" xref="S3.E7.m1.2.2.1.1.2.1.1.1.1.3">𝑋</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.2c">P_{\text{ctc}}(Y\mid X)=\sum_{Z_{\text{ctc}}\in\mathcal{B^{\text{-1}}_{\text{ctc}}}(Y)}P_{\text{}}(Z_{\text{ctc}}\mid X),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p1.14" class="ltx_p">where <math id="S3.SS2.p1.12.m1.1" class="ltx_Math" alttext="\mathcal{B^{\text{-1}}_{\text{ctc}}}(Y)" display="inline"><semantics id="S3.SS2.p1.12.m1.1a"><mrow id="S3.SS2.p1.12.m1.1.2" xref="S3.SS2.p1.12.m1.1.2.cmml"><msubsup id="S3.SS2.p1.12.m1.1.2.2" xref="S3.SS2.p1.12.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.12.m1.1.2.2.2.2" xref="S3.SS2.p1.12.m1.1.2.2.2.2.cmml">ℬ</mi><mtext id="S3.SS2.p1.12.m1.1.2.2.3" xref="S3.SS2.p1.12.m1.1.2.2.3a.cmml">ctc</mtext><mtext id="S3.SS2.p1.12.m1.1.2.2.2.3" xref="S3.SS2.p1.12.m1.1.2.2.2.3a.cmml">-1</mtext></msubsup><mo lspace="0em" rspace="0em" id="S3.SS2.p1.12.m1.1.2.1" xref="S3.SS2.p1.12.m1.1.2.1.cmml">​</mo><mrow id="S3.SS2.p1.12.m1.1.2.3.2" xref="S3.SS2.p1.12.m1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p1.12.m1.1.2.3.2.1" xref="S3.SS2.p1.12.m1.1.2.cmml">(</mo><mi id="S3.SS2.p1.12.m1.1.1" xref="S3.SS2.p1.12.m1.1.1.cmml">Y</mi><mo stretchy="false" id="S3.SS2.p1.12.m1.1.2.3.2.2" xref="S3.SS2.p1.12.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.12.m1.1b"><apply id="S3.SS2.p1.12.m1.1.2.cmml" xref="S3.SS2.p1.12.m1.1.2"><times id="S3.SS2.p1.12.m1.1.2.1.cmml" xref="S3.SS2.p1.12.m1.1.2.1"></times><apply id="S3.SS2.p1.12.m1.1.2.2.cmml" xref="S3.SS2.p1.12.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.12.m1.1.2.2.1.cmml" xref="S3.SS2.p1.12.m1.1.2.2">subscript</csymbol><apply id="S3.SS2.p1.12.m1.1.2.2.2.cmml" xref="S3.SS2.p1.12.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.12.m1.1.2.2.2.1.cmml" xref="S3.SS2.p1.12.m1.1.2.2">superscript</csymbol><ci id="S3.SS2.p1.12.m1.1.2.2.2.2.cmml" xref="S3.SS2.p1.12.m1.1.2.2.2.2">ℬ</ci><ci id="S3.SS2.p1.12.m1.1.2.2.2.3a.cmml" xref="S3.SS2.p1.12.m1.1.2.2.2.3"><mtext mathsize="70%" id="S3.SS2.p1.12.m1.1.2.2.2.3.cmml" xref="S3.SS2.p1.12.m1.1.2.2.2.3">-1</mtext></ci></apply><ci id="S3.SS2.p1.12.m1.1.2.2.3a.cmml" xref="S3.SS2.p1.12.m1.1.2.2.3"><mtext mathsize="70%" id="S3.SS2.p1.12.m1.1.2.2.3.cmml" xref="S3.SS2.p1.12.m1.1.2.2.3">ctc</mtext></ci></apply><ci id="S3.SS2.p1.12.m1.1.1.cmml" xref="S3.SS2.p1.12.m1.1.1">𝑌</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.12.m1.1c">\mathcal{B^{\text{-1}}_{\text{ctc}}}(Y)</annotation></semantics></math> is a set of all possible alignment sequences of <math id="S3.SS2.p1.13.m2.1" class="ltx_Math" alttext="Y" display="inline"><semantics id="S3.SS2.p1.13.m2.1a"><mi id="S3.SS2.p1.13.m2.1.1" xref="S3.SS2.p1.13.m2.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.13.m2.1b"><ci id="S3.SS2.p1.13.m2.1.1.cmml" xref="S3.SS2.p1.13.m2.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.13.m2.1c">Y</annotation></semantics></math> as shown in Figure <a href="#S3.F1" title="Figure 1 ‣ III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> (a).
<math id="S3.SS2.p1.14.m3.1" class="ltx_Math" alttext="P(Z_{\text{ctc}}|X)" display="inline"><semantics id="S3.SS2.p1.14.m3.1a"><mrow id="S3.SS2.p1.14.m3.1.1" xref="S3.SS2.p1.14.m3.1.1.cmml"><mi id="S3.SS2.p1.14.m3.1.1.3" xref="S3.SS2.p1.14.m3.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.14.m3.1.1.2" xref="S3.SS2.p1.14.m3.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.14.m3.1.1.1.1" xref="S3.SS2.p1.14.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.14.m3.1.1.1.1.2" xref="S3.SS2.p1.14.m3.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p1.14.m3.1.1.1.1.1" xref="S3.SS2.p1.14.m3.1.1.1.1.1.cmml"><msub id="S3.SS2.p1.14.m3.1.1.1.1.1.2" xref="S3.SS2.p1.14.m3.1.1.1.1.1.2.cmml"><mi id="S3.SS2.p1.14.m3.1.1.1.1.1.2.2" xref="S3.SS2.p1.14.m3.1.1.1.1.1.2.2.cmml">Z</mi><mtext id="S3.SS2.p1.14.m3.1.1.1.1.1.2.3" xref="S3.SS2.p1.14.m3.1.1.1.1.1.2.3a.cmml">ctc</mtext></msub><mo fence="false" id="S3.SS2.p1.14.m3.1.1.1.1.1.1" xref="S3.SS2.p1.14.m3.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS2.p1.14.m3.1.1.1.1.1.3" xref="S3.SS2.p1.14.m3.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.SS2.p1.14.m3.1.1.1.1.3" xref="S3.SS2.p1.14.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.14.m3.1b"><apply id="S3.SS2.p1.14.m3.1.1.cmml" xref="S3.SS2.p1.14.m3.1.1"><times id="S3.SS2.p1.14.m3.1.1.2.cmml" xref="S3.SS2.p1.14.m3.1.1.2"></times><ci id="S3.SS2.p1.14.m3.1.1.3.cmml" xref="S3.SS2.p1.14.m3.1.1.3">𝑃</ci><apply id="S3.SS2.p1.14.m3.1.1.1.1.1.cmml" xref="S3.SS2.p1.14.m3.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p1.14.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.14.m3.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS2.p1.14.m3.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.14.m3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p1.14.m3.1.1.1.1.1.2.1.cmml" xref="S3.SS2.p1.14.m3.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.p1.14.m3.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p1.14.m3.1.1.1.1.1.2.2">𝑍</ci><ci id="S3.SS2.p1.14.m3.1.1.1.1.1.2.3a.cmml" xref="S3.SS2.p1.14.m3.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.SS2.p1.14.m3.1.1.1.1.1.2.3.cmml" xref="S3.SS2.p1.14.m3.1.1.1.1.1.2.3">ctc</mtext></ci></apply><ci id="S3.SS2.p1.14.m3.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.14.m3.1.1.1.1.1.3">𝑋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.14.m3.1c">P(Z_{\text{ctc}}|X)</annotation></semantics></math> is computed by using a probabilistic chain rule and conditional independence assumption as follows:</p>
<table id="S3.E8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E8.m1.1" class="ltx_Math" alttext="P_{\text{}}(Z_{\text{ctc}}\mid X)=\prod_{t=1}^{T}P\left(z^{\text{ctc}}_{t}\mid z^{\text{ctc}}_{1:t-1},\bm{h}_{t}\right)\approx\prod_{t=1}^{T}P\left(z^{\text{ctc}}_{t}\mid\bm{h}_{t}\right)," display="block"><semantics id="S3.E8.m1.1a"><mrow id="S3.E8.m1.1.1.1" xref="S3.E8.m1.1.1.1.1.cmml"><mrow id="S3.E8.m1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.cmml"><mrow id="S3.E8.m1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.cmml"><msub id="S3.E8.m1.1.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.1.3.cmml"><mi id="S3.E8.m1.1.1.1.1.1.3.2" xref="S3.E8.m1.1.1.1.1.1.3.2.cmml">P</mi><mrow id="S3.E8.m1.1.1.1.1.1.3.3" xref="S3.E8.m1.1.1.1.1.1.3.3a.cmml"></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E8.m1.1.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E8.m1.1.1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E8.m1.1.1.1.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E8.m1.1.1.1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E8.m1.1.1.1.1.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E8.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E8.m1.1.1.1.1.1.1.1.1.2.2.cmml">Z</mi><mtext id="S3.E8.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E8.m1.1.1.1.1.1.1.1.1.2.3a.cmml">ctc</mtext></msub><mo id="S3.E8.m1.1.1.1.1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E8.m1.1.1.1.1.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E8.m1.1.1.1.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E8.m1.1.1.1.1.5" xref="S3.E8.m1.1.1.1.1.5.cmml">=</mo><mrow id="S3.E8.m1.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.2.cmml"><munderover id="S3.E8.m1.1.1.1.1.2.2" xref="S3.E8.m1.1.1.1.1.2.2.cmml"><mo movablelimits="false" id="S3.E8.m1.1.1.1.1.2.2.2.2" xref="S3.E8.m1.1.1.1.1.2.2.2.2.cmml">∏</mo><mrow id="S3.E8.m1.1.1.1.1.2.2.2.3" xref="S3.E8.m1.1.1.1.1.2.2.2.3.cmml"><mi id="S3.E8.m1.1.1.1.1.2.2.2.3.2" xref="S3.E8.m1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S3.E8.m1.1.1.1.1.2.2.2.3.1" xref="S3.E8.m1.1.1.1.1.2.2.2.3.1.cmml">=</mo><mn id="S3.E8.m1.1.1.1.1.2.2.2.3.3" xref="S3.E8.m1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E8.m1.1.1.1.1.2.2.3" xref="S3.E8.m1.1.1.1.1.2.2.3.cmml">T</mi></munderover><mrow id="S3.E8.m1.1.1.1.1.2.1" xref="S3.E8.m1.1.1.1.1.2.1.cmml"><mi id="S3.E8.m1.1.1.1.1.2.1.3" xref="S3.E8.m1.1.1.1.1.2.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.1.1.1.1.2.1.2" xref="S3.E8.m1.1.1.1.1.2.1.2.cmml">​</mo><mrow id="S3.E8.m1.1.1.1.1.2.1.1.1" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.cmml"><mo id="S3.E8.m1.1.1.1.1.2.1.1.1.2" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E8.m1.1.1.1.1.2.1.1.1.1" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.cmml"><msubsup id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.cmml"><mi id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.2" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.2.cmml">z</mi><mi id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.3.cmml">t</mi><mtext id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.3a.cmml">ctc</mtext></msubsup><mo id="S3.E8.m1.1.1.1.1.2.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.3.cmml">∣</mo><mrow id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.3.cmml"><msubsup id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.2" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.2.cmml">z</mi><mrow id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.1" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.2" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.2.cmml">t</mi><mo id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.1" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow><mtext id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.3a.cmml">ctc</mtext></msubsup><mo id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.cmml"><mi id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.2" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.2.cmml">𝒉</mi><mi id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S3.E8.m1.1.1.1.1.2.1.1.1.3" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo rspace="0.111em" id="S3.E8.m1.1.1.1.1.6" xref="S3.E8.m1.1.1.1.1.6.cmml">≈</mo><mrow id="S3.E8.m1.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.3.cmml"><munderover id="S3.E8.m1.1.1.1.1.3.2" xref="S3.E8.m1.1.1.1.1.3.2.cmml"><mo movablelimits="false" id="S3.E8.m1.1.1.1.1.3.2.2.2" xref="S3.E8.m1.1.1.1.1.3.2.2.2.cmml">∏</mo><mrow id="S3.E8.m1.1.1.1.1.3.2.2.3" xref="S3.E8.m1.1.1.1.1.3.2.2.3.cmml"><mi id="S3.E8.m1.1.1.1.1.3.2.2.3.2" xref="S3.E8.m1.1.1.1.1.3.2.2.3.2.cmml">t</mi><mo id="S3.E8.m1.1.1.1.1.3.2.2.3.1" xref="S3.E8.m1.1.1.1.1.3.2.2.3.1.cmml">=</mo><mn id="S3.E8.m1.1.1.1.1.3.2.2.3.3" xref="S3.E8.m1.1.1.1.1.3.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E8.m1.1.1.1.1.3.2.3" xref="S3.E8.m1.1.1.1.1.3.2.3.cmml">T</mi></munderover><mrow id="S3.E8.m1.1.1.1.1.3.1" xref="S3.E8.m1.1.1.1.1.3.1.cmml"><mi id="S3.E8.m1.1.1.1.1.3.1.3" xref="S3.E8.m1.1.1.1.1.3.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.1.1.1.1.3.1.2" xref="S3.E8.m1.1.1.1.1.3.1.2.cmml">​</mo><mrow id="S3.E8.m1.1.1.1.1.3.1.1.1" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.cmml"><mo id="S3.E8.m1.1.1.1.1.3.1.1.1.2" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.cmml">(</mo><mrow id="S3.E8.m1.1.1.1.1.3.1.1.1.1" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.cmml"><msubsup id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.cmml"><mi id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.2" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.2.cmml">z</mi><mi id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.3" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.3.cmml">t</mi><mtext id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.3" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.3a.cmml">ctc</mtext></msubsup><mo id="S3.E8.m1.1.1.1.1.3.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.1.cmml">∣</mo><msub id="S3.E8.m1.1.1.1.1.3.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.cmml"><mi id="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.2" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.2.cmml">𝒉</mi><mi id="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.3" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.3.cmml">t</mi></msub></mrow><mo id="S3.E8.m1.1.1.1.1.3.1.1.1.3" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E8.m1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.1b"><apply id="S3.E8.m1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1"><and id="S3.E8.m1.1.1.1.1a.cmml" xref="S3.E8.m1.1.1.1"></and><apply id="S3.E8.m1.1.1.1.1b.cmml" xref="S3.E8.m1.1.1.1"><eq id="S3.E8.m1.1.1.1.1.5.cmml" xref="S3.E8.m1.1.1.1.1.5"></eq><apply id="S3.E8.m1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1"><times id="S3.E8.m1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.1.1.1.1.1.2"></times><apply id="S3.E8.m1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E8.m1.1.1.1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.1.1.1.3.2">𝑃</ci><ci id="S3.E8.m1.1.1.1.1.1.3.3a.cmml" xref="S3.E8.m1.1.1.1.1.1.3.3"><mrow id="S3.E8.m1.1.1.1.1.1.3.3.cmml" xref="S3.E8.m1.1.1.1.1.1.3.3"></mrow></ci></apply><apply id="S3.E8.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E8.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E8.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E8.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.1.2.2">𝑍</ci><ci id="S3.E8.m1.1.1.1.1.1.1.1.1.2.3a.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.E8.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.1.2.3">ctc</mtext></ci></apply><ci id="S3.E8.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.1.1.1.1.3">𝑋</ci></apply></apply><apply id="S3.E8.m1.1.1.1.1.2.cmml" xref="S3.E8.m1.1.1.1.1.2"><apply id="S3.E8.m1.1.1.1.1.2.2.cmml" xref="S3.E8.m1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.2.2.1.cmml" xref="S3.E8.m1.1.1.1.1.2.2">superscript</csymbol><apply id="S3.E8.m1.1.1.1.1.2.2.2.cmml" xref="S3.E8.m1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.2.2.2.1.cmml" xref="S3.E8.m1.1.1.1.1.2.2">subscript</csymbol><csymbol cd="latexml" id="S3.E8.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E8.m1.1.1.1.1.2.2.2.2">product</csymbol><apply id="S3.E8.m1.1.1.1.1.2.2.2.3.cmml" xref="S3.E8.m1.1.1.1.1.2.2.2.3"><eq id="S3.E8.m1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E8.m1.1.1.1.1.2.2.2.3.1"></eq><ci id="S3.E8.m1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E8.m1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn type="integer" id="S3.E8.m1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E8.m1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S3.E8.m1.1.1.1.1.2.2.3.cmml" xref="S3.E8.m1.1.1.1.1.2.2.3">𝑇</ci></apply><apply id="S3.E8.m1.1.1.1.1.2.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1"><times id="S3.E8.m1.1.1.1.1.2.1.2.cmml" xref="S3.E8.m1.1.1.1.1.2.1.2"></times><ci id="S3.E8.m1.1.1.1.1.2.1.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.3">𝑃</ci><apply id="S3.E8.m1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.3">conditional</csymbol><apply id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4">subscript</csymbol><apply id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4">superscript</csymbol><ci id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.2.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.2">𝑧</ci><ci id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.3a.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.3"><mtext mathsize="70%" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.2.3">ctc</mtext></ci></apply><ci id="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.4.3">𝑡</ci></apply><list id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2"><apply id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.2">𝑧</ci><ci id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.3a.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.3">ctc</mtext></ci></apply><apply id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3"><ci id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.1">:</ci><cn type="integer" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.2">1</cn><apply id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3"><minus id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.2">𝑡</ci><cn type="integer" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply><apply id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.1.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.2">𝒉</ci><ci id="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.cmml" xref="S3.E8.m1.1.1.1.1.2.1.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></apply></apply><apply id="S3.E8.m1.1.1.1.1c.cmml" xref="S3.E8.m1.1.1.1"><approx id="S3.E8.m1.1.1.1.1.6.cmml" xref="S3.E8.m1.1.1.1.1.6"></approx><share href="#S3.E8.m1.1.1.1.1.2.cmml" id="S3.E8.m1.1.1.1.1d.cmml" xref="S3.E8.m1.1.1.1"></share><apply id="S3.E8.m1.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.3"><apply id="S3.E8.m1.1.1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.2.1.cmml" xref="S3.E8.m1.1.1.1.1.3.2">superscript</csymbol><apply id="S3.E8.m1.1.1.1.1.3.2.2.cmml" xref="S3.E8.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.2.2.1.cmml" xref="S3.E8.m1.1.1.1.1.3.2">subscript</csymbol><csymbol cd="latexml" id="S3.E8.m1.1.1.1.1.3.2.2.2.cmml" xref="S3.E8.m1.1.1.1.1.3.2.2.2">product</csymbol><apply id="S3.E8.m1.1.1.1.1.3.2.2.3.cmml" xref="S3.E8.m1.1.1.1.1.3.2.2.3"><eq id="S3.E8.m1.1.1.1.1.3.2.2.3.1.cmml" xref="S3.E8.m1.1.1.1.1.3.2.2.3.1"></eq><ci id="S3.E8.m1.1.1.1.1.3.2.2.3.2.cmml" xref="S3.E8.m1.1.1.1.1.3.2.2.3.2">𝑡</ci><cn type="integer" id="S3.E8.m1.1.1.1.1.3.2.2.3.3.cmml" xref="S3.E8.m1.1.1.1.1.3.2.2.3.3">1</cn></apply></apply><ci id="S3.E8.m1.1.1.1.1.3.2.3.cmml" xref="S3.E8.m1.1.1.1.1.3.2.3">𝑇</ci></apply><apply id="S3.E8.m1.1.1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.1.1.3.1"><times id="S3.E8.m1.1.1.1.1.3.1.2.cmml" xref="S3.E8.m1.1.1.1.1.3.1.2"></times><ci id="S3.E8.m1.1.1.1.1.3.1.3.cmml" xref="S3.E8.m1.1.1.1.1.3.1.3">𝑃</ci><apply id="S3.E8.m1.1.1.1.1.3.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1"><csymbol cd="latexml" id="S3.E8.m1.1.1.1.1.3.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.1">conditional</csymbol><apply id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.1.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2">subscript</csymbol><apply id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.1.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2">superscript</csymbol><ci id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.2.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.2">𝑧</ci><ci id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.3a.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.3"><mtext mathsize="70%" id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.3.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.2.3">ctc</mtext></ci></apply><ci id="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.3.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.3">subscript</csymbol><ci id="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.2">𝒉</ci><ci id="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.3.cmml" xref="S3.E8.m1.1.1.1.1.3.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.1c">P_{\text{}}(Z_{\text{ctc}}\mid X)=\prod_{t=1}^{T}P\left(z^{\text{ctc}}_{t}\mid z^{\text{ctc}}_{1:t-1},\bm{h}_{t}\right)\approx\prod_{t=1}^{T}P\left(z^{\text{ctc}}_{t}\mid\bm{h}_{t}\right),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p1.15" class="ltx_p">where the previous alignment sequence <math id="S3.SS2.p1.15.m1.1" class="ltx_Math" alttext="z^{\text{ctc}}_{1:t-1}" display="inline"><semantics id="S3.SS2.p1.15.m1.1a"><msubsup id="S3.SS2.p1.15.m1.1.1" xref="S3.SS2.p1.15.m1.1.1.cmml"><mi id="S3.SS2.p1.15.m1.1.1.2.2" xref="S3.SS2.p1.15.m1.1.1.2.2.cmml">z</mi><mrow id="S3.SS2.p1.15.m1.1.1.3" xref="S3.SS2.p1.15.m1.1.1.3.cmml"><mn id="S3.SS2.p1.15.m1.1.1.3.2" xref="S3.SS2.p1.15.m1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.SS2.p1.15.m1.1.1.3.1" xref="S3.SS2.p1.15.m1.1.1.3.1.cmml">:</mo><mrow id="S3.SS2.p1.15.m1.1.1.3.3" xref="S3.SS2.p1.15.m1.1.1.3.3.cmml"><mi id="S3.SS2.p1.15.m1.1.1.3.3.2" xref="S3.SS2.p1.15.m1.1.1.3.3.2.cmml">t</mi><mo id="S3.SS2.p1.15.m1.1.1.3.3.1" xref="S3.SS2.p1.15.m1.1.1.3.3.1.cmml">−</mo><mn id="S3.SS2.p1.15.m1.1.1.3.3.3" xref="S3.SS2.p1.15.m1.1.1.3.3.3.cmml">1</mn></mrow></mrow><mtext id="S3.SS2.p1.15.m1.1.1.2.3" xref="S3.SS2.p1.15.m1.1.1.2.3a.cmml">ctc</mtext></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.15.m1.1b"><apply id="S3.SS2.p1.15.m1.1.1.cmml" xref="S3.SS2.p1.15.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.15.m1.1.1.1.cmml" xref="S3.SS2.p1.15.m1.1.1">subscript</csymbol><apply id="S3.SS2.p1.15.m1.1.1.2.cmml" xref="S3.SS2.p1.15.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.15.m1.1.1.2.1.cmml" xref="S3.SS2.p1.15.m1.1.1">superscript</csymbol><ci id="S3.SS2.p1.15.m1.1.1.2.2.cmml" xref="S3.SS2.p1.15.m1.1.1.2.2">𝑧</ci><ci id="S3.SS2.p1.15.m1.1.1.2.3a.cmml" xref="S3.SS2.p1.15.m1.1.1.2.3"><mtext mathsize="70%" id="S3.SS2.p1.15.m1.1.1.2.3.cmml" xref="S3.SS2.p1.15.m1.1.1.2.3">ctc</mtext></ci></apply><apply id="S3.SS2.p1.15.m1.1.1.3.cmml" xref="S3.SS2.p1.15.m1.1.1.3"><ci id="S3.SS2.p1.15.m1.1.1.3.1.cmml" xref="S3.SS2.p1.15.m1.1.1.3.1">:</ci><cn type="integer" id="S3.SS2.p1.15.m1.1.1.3.2.cmml" xref="S3.SS2.p1.15.m1.1.1.3.2">1</cn><apply id="S3.SS2.p1.15.m1.1.1.3.3.cmml" xref="S3.SS2.p1.15.m1.1.1.3.3"><minus id="S3.SS2.p1.15.m1.1.1.3.3.1.cmml" xref="S3.SS2.p1.15.m1.1.1.3.3.1"></minus><ci id="S3.SS2.p1.15.m1.1.1.3.3.2.cmml" xref="S3.SS2.p1.15.m1.1.1.3.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p1.15.m1.1.1.3.3.3.cmml" xref="S3.SS2.p1.15.m1.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.15.m1.1c">z^{\text{ctc}}_{1:t-1}</annotation></semantics></math> is discarded based on the conditional independence assumption.
While the conditional independence assumption allows parallel computation, resulting in a fast inference, this architecture often leads to suboptimal performance due to the simplified dependencies between output labels.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">Given <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">H</annotation></semantics></math> generated by the encoder in Eq. (<a href="#S3.E2" title="In III-A Encoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), the CTC decoder, typically consisting of a linear layer, estimates the alignment posterior as follows:</p>
<table id="S3.E9" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E9.m1.1" class="ltx_Math" alttext="P\left(z^{\text{ctc}}_{t}\mid\bm{h}_{t}\right)=\mathrm{Softmax}(\mathrm{Linear}(\bm{h}_{t}))." display="block"><semantics id="S3.E9.m1.1a"><mrow id="S3.E9.m1.1.1.1" xref="S3.E9.m1.1.1.1.1.cmml"><mrow id="S3.E9.m1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.cmml"><mrow id="S3.E9.m1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.cmml"><mi id="S3.E9.m1.1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.1.1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E9.m1.1.1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E9.m1.1.1.1.1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.1.1.1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E9.m1.1.1.1.1.1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.2.cmml">z</mi><mi id="S3.E9.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2.3.cmml">t</mi><mtext id="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.3a.cmml">ctc</mtext></msubsup><mo id="S3.E9.m1.1.1.1.1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.1.1.1.1.cmml">∣</mo><msub id="S3.E9.m1.1.1.1.1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E9.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E9.m1.1.1.1.1.1.1.1.1.3.2.cmml">𝒉</mi><mi id="S3.E9.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E9.m1.1.1.1.1.1.1.1.1.3.3.cmml">t</mi></msub></mrow><mo id="S3.E9.m1.1.1.1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E9.m1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E9.m1.1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.2.cmml"><mi id="S3.E9.m1.1.1.1.1.2.3" xref="S3.E9.m1.1.1.1.1.2.3.cmml">Softmax</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.1.1.1.1.2.2" xref="S3.E9.m1.1.1.1.1.2.2.cmml">​</mo><mrow id="S3.E9.m1.1.1.1.1.2.1.1" xref="S3.E9.m1.1.1.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S3.E9.m1.1.1.1.1.2.1.1.2" xref="S3.E9.m1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.1.1.1.1.2.1.1.1" xref="S3.E9.m1.1.1.1.1.2.1.1.1.cmml"><mi id="S3.E9.m1.1.1.1.1.2.1.1.1.3" xref="S3.E9.m1.1.1.1.1.2.1.1.1.3.cmml">Linear</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.1.1.1.1.2.1.1.1.2" xref="S3.E9.m1.1.1.1.1.2.1.1.1.2.cmml">​</mo><mrow id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.cmml"><mi id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml">𝒉</mi><mi id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E9.m1.1.1.1.1.2.1.1.3" xref="S3.E9.m1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S3.E9.m1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m1.1b"><apply id="S3.E9.m1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1"><eq id="S3.E9.m1.1.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.1.3"></eq><apply id="S3.E9.m1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1"><times id="S3.E9.m1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.1.1.1.1.1.2"></times><ci id="S3.E9.m1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.1.1.3">𝑃</ci><apply id="S3.E9.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E9.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E9.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.2">𝑧</ci><ci id="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.3a.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.3"><mtext mathsize="70%" id="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2.2.3">ctc</mtext></ci></apply><ci id="S3.E9.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.E9.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E9.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.3.2">𝒉</ci><ci id="S3.E9.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E9.m1.1.1.1.1.2.cmml" xref="S3.E9.m1.1.1.1.1.2"><times id="S3.E9.m1.1.1.1.1.2.2.cmml" xref="S3.E9.m1.1.1.1.1.2.2"></times><ci id="S3.E9.m1.1.1.1.1.2.3.cmml" xref="S3.E9.m1.1.1.1.1.2.3">Softmax</ci><apply id="S3.E9.m1.1.1.1.1.2.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.2.1.1"><times id="S3.E9.m1.1.1.1.1.2.1.1.1.2.cmml" xref="S3.E9.m1.1.1.1.1.2.1.1.1.2"></times><ci id="S3.E9.m1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.1.2.1.1.1.3">Linear</ci><apply id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.2">𝒉</ci><ci id="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.1.2.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.1c">P\left(z^{\text{ctc}}_{t}\mid\bm{h}_{t}\right)=\mathrm{Softmax}(\mathrm{Linear}(\bm{h}_{t})).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p2.2" class="ltx_p">During training, CTC optimizes the model parameters by minimizing the negative log-likelihood as expressed below:</p>
<table id="S3.E10" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E10.m1.1" class="ltx_Math" alttext="L_{\text{ctc}}=-\log P_{\text{ctc}}(Y\mid X)." display="block"><semantics id="S3.E10.m1.1a"><mrow id="S3.E10.m1.1.1.1" xref="S3.E10.m1.1.1.1.1.cmml"><mrow id="S3.E10.m1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.cmml"><msub id="S3.E10.m1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.3.cmml"><mi id="S3.E10.m1.1.1.1.1.3.2" xref="S3.E10.m1.1.1.1.1.3.2.cmml">L</mi><mtext id="S3.E10.m1.1.1.1.1.3.3" xref="S3.E10.m1.1.1.1.1.3.3a.cmml">ctc</mtext></msub><mo id="S3.E10.m1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E10.m1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.cmml"><mo rspace="0.167em" id="S3.E10.m1.1.1.1.1.1a" xref="S3.E10.m1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E10.m1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E10.m1.1.1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.3.1" xref="S3.E10.m1.1.1.1.1.1.1.3.1.cmml">log</mi><mo lspace="0.167em" id="S3.E10.m1.1.1.1.1.1.1.3a" xref="S3.E10.m1.1.1.1.1.1.1.3.cmml">⁡</mo><msub id="S3.E10.m1.1.1.1.1.1.1.3.2" xref="S3.E10.m1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.3.2.2" xref="S3.E10.m1.1.1.1.1.1.1.3.2.2.cmml">P</mi><mtext id="S3.E10.m1.1.1.1.1.1.1.3.2.3" xref="S3.E10.m1.1.1.1.1.1.1.3.2.3a.cmml">ctc</mtext></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E10.m1.1.1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E10.m1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E10.m1.1.1.1.1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.2.cmml">Y</mi><mo id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E10.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E10.m1.1.1.1.1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E10.m1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.1b"><apply id="S3.E10.m1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1"><eq id="S3.E10.m1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.2"></eq><apply id="S3.E10.m1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.1.1.1.1.3.2">𝐿</ci><ci id="S3.E10.m1.1.1.1.1.3.3a.cmml" xref="S3.E10.m1.1.1.1.1.3.3"><mtext mathsize="70%" id="S3.E10.m1.1.1.1.1.3.3.cmml" xref="S3.E10.m1.1.1.1.1.3.3">ctc</mtext></ci></apply><apply id="S3.E10.m1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1"><minus id="S3.E10.m1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.1"></minus><apply id="S3.E10.m1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1"><times id="S3.E10.m1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.2"></times><apply id="S3.E10.m1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3"><log id="S3.E10.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.1"></log><apply id="S3.E10.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.2.2">𝑃</ci><ci id="S3.E10.m1.1.1.1.1.1.1.3.2.3a.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.2.3"><mtext mathsize="70%" id="S3.E10.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.2.3">ctc</mtext></ci></apply></apply><apply id="S3.E10.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E10.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E10.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.2">𝑌</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.3">𝑋</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.1c">L_{\text{ctc}}=-\log P_{\text{ctc}}(Y\mid X).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
</div>
<figure id="S3.F1" class="ltx_figure">
<div id="S3.F1.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:212.5pt;">
<img src="/html/2406.02950/assets/figures/alignment.png" id="S3.F1.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="233" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Alignment paths of CTC and RNN-T. The CTC alignment path is of length <math id="S3.F1.4.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.F1.4.m1.1b"><mi id="S3.F1.4.m1.1.1" xref="S3.F1.4.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.F1.4.m1.1c"><ci id="S3.F1.4.m1.1.1.cmml" xref="S3.F1.4.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.4.m1.1d">T</annotation></semantics></math>, while the RNN-T alignment path is of length <math id="S3.F1.5.m2.1" class="ltx_Math" alttext="(T+S)" display="inline"><semantics id="S3.F1.5.m2.1b"><mrow id="S3.F1.5.m2.1.1.1" xref="S3.F1.5.m2.1.1.1.1.cmml"><mo stretchy="false" id="S3.F1.5.m2.1.1.1.2" xref="S3.F1.5.m2.1.1.1.1.cmml">(</mo><mrow id="S3.F1.5.m2.1.1.1.1" xref="S3.F1.5.m2.1.1.1.1.cmml"><mi id="S3.F1.5.m2.1.1.1.1.2" xref="S3.F1.5.m2.1.1.1.1.2.cmml">T</mi><mo id="S3.F1.5.m2.1.1.1.1.1" xref="S3.F1.5.m2.1.1.1.1.1.cmml">+</mo><mi id="S3.F1.5.m2.1.1.1.1.3" xref="S3.F1.5.m2.1.1.1.1.3.cmml">S</mi></mrow><mo stretchy="false" id="S3.F1.5.m2.1.1.1.3" xref="S3.F1.5.m2.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.F1.5.m2.1c"><apply id="S3.F1.5.m2.1.1.1.1.cmml" xref="S3.F1.5.m2.1.1.1"><plus id="S3.F1.5.m2.1.1.1.1.1.cmml" xref="S3.F1.5.m2.1.1.1.1.1"></plus><ci id="S3.F1.5.m2.1.1.1.1.2.cmml" xref="S3.F1.5.m2.1.1.1.1.2">𝑇</ci><ci id="S3.F1.5.m2.1.1.1.1.3.cmml" xref="S3.F1.5.m2.1.1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.5.m2.1d">(T+S)</annotation></semantics></math>.</figcaption>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS3.4.1.1" class="ltx_text">III-C</span> </span><span id="S3.SS3.5.2" class="ltx_text ltx_font_italic">RNN-T</span>
</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">Similar to the CTC decoder (Eq. (<a href="#S3.E7" title="In III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>)), the RNN-T decoder predicts a monotonic alignment sequence <math id="S3.SS3.p1.1.m1.3" class="ltx_math_unparsed" alttext="Z_{\text{rnnt}}=(z^{\text{rnnt}}_{i}\in\mathcal{V}\cup\{\phi\}|i=1,...,T+S)" display="inline"><semantics id="S3.SS3.p1.1.m1.3a"><mrow id="S3.SS3.p1.1.m1.3b"><msub id="S3.SS3.p1.1.m1.3.4"><mi id="S3.SS3.p1.1.m1.3.4.2">Z</mi><mtext id="S3.SS3.p1.1.m1.3.4.3">rnnt</mtext></msub><mo id="S3.SS3.p1.1.m1.3.5">=</mo><mrow id="S3.SS3.p1.1.m1.3.6"><mo stretchy="false" id="S3.SS3.p1.1.m1.3.6.1">(</mo><msubsup id="S3.SS3.p1.1.m1.3.6.2"><mi id="S3.SS3.p1.1.m1.3.6.2.2.2">z</mi><mi id="S3.SS3.p1.1.m1.3.6.2.3">i</mi><mtext id="S3.SS3.p1.1.m1.3.6.2.2.3">rnnt</mtext></msubsup><mo id="S3.SS3.p1.1.m1.3.6.3">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.1.m1.3.6.4">𝒱</mi><mo id="S3.SS3.p1.1.m1.3.6.5">∪</mo><mrow id="S3.SS3.p1.1.m1.3.6.6"><mo stretchy="false" id="S3.SS3.p1.1.m1.3.6.6.1">{</mo><mi id="S3.SS3.p1.1.m1.1.1">ϕ</mi><mo stretchy="false" id="S3.SS3.p1.1.m1.3.6.6.2">}</mo></mrow><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS3.p1.1.m1.3.6.7">|</mo><mi id="S3.SS3.p1.1.m1.3.6.8">i</mi><mo id="S3.SS3.p1.1.m1.3.6.9">=</mo><mn id="S3.SS3.p1.1.m1.2.2">1</mn><mo id="S3.SS3.p1.1.m1.3.6.10">,</mo><mi mathvariant="normal" id="S3.SS3.p1.1.m1.3.3">…</mi><mo id="S3.SS3.p1.1.m1.3.6.11">,</mo><mi id="S3.SS3.p1.1.m1.3.6.12">T</mi><mo id="S3.SS3.p1.1.m1.3.6.13">+</mo><mi id="S3.SS3.p1.1.m1.3.6.14">S</mi><mo stretchy="false" id="S3.SS3.p1.1.m1.3.6.15">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.3c">Z_{\text{rnnt}}=(z^{\text{rnnt}}_{i}\in\mathcal{V}\cup\{\phi\}|i=1,...,T+S)</annotation></semantics></math> as follows:</p>
<table id="S3.E11" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E11.m1.2" class="ltx_Math" alttext="P_{\text{rnnt}}(Y\mid X)=\sum_{Z_{\text{rnnt}}\in\mathcal{B^{\text{-1}}_{\text{rnnt}}}(Y)}P(Z_{\text{rnnt}}|X)," display="block"><semantics id="S3.E11.m1.2a"><mrow id="S3.E11.m1.2.2.1" xref="S3.E11.m1.2.2.1.1.cmml"><mrow id="S3.E11.m1.2.2.1.1" xref="S3.E11.m1.2.2.1.1.cmml"><mrow id="S3.E11.m1.2.2.1.1.1" xref="S3.E11.m1.2.2.1.1.1.cmml"><msub id="S3.E11.m1.2.2.1.1.1.3" xref="S3.E11.m1.2.2.1.1.1.3.cmml"><mi id="S3.E11.m1.2.2.1.1.1.3.2" xref="S3.E11.m1.2.2.1.1.1.3.2.cmml">P</mi><mtext id="S3.E11.m1.2.2.1.1.1.3.3" xref="S3.E11.m1.2.2.1.1.1.3.3a.cmml">rnnt</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E11.m1.2.2.1.1.1.2" xref="S3.E11.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E11.m1.2.2.1.1.1.1.1" xref="S3.E11.m1.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E11.m1.2.2.1.1.1.1.1.2" xref="S3.E11.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E11.m1.2.2.1.1.1.1.1.1" xref="S3.E11.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E11.m1.2.2.1.1.1.1.1.1.2" xref="S3.E11.m1.2.2.1.1.1.1.1.1.2.cmml">Y</mi><mo id="S3.E11.m1.2.2.1.1.1.1.1.1.1" xref="S3.E11.m1.2.2.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E11.m1.2.2.1.1.1.1.1.1.3" xref="S3.E11.m1.2.2.1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E11.m1.2.2.1.1.1.1.1.3" xref="S3.E11.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E11.m1.2.2.1.1.3" xref="S3.E11.m1.2.2.1.1.3.cmml">=</mo><mrow id="S3.E11.m1.2.2.1.1.2" xref="S3.E11.m1.2.2.1.1.2.cmml"><munder id="S3.E11.m1.2.2.1.1.2.2" xref="S3.E11.m1.2.2.1.1.2.2.cmml"><mo movablelimits="false" id="S3.E11.m1.2.2.1.1.2.2.2" xref="S3.E11.m1.2.2.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E11.m1.1.1.1" xref="S3.E11.m1.1.1.1.cmml"><msub id="S3.E11.m1.1.1.1.3" xref="S3.E11.m1.1.1.1.3.cmml"><mi id="S3.E11.m1.1.1.1.3.2" xref="S3.E11.m1.1.1.1.3.2.cmml">Z</mi><mtext id="S3.E11.m1.1.1.1.3.3" xref="S3.E11.m1.1.1.1.3.3a.cmml">rnnt</mtext></msub><mo id="S3.E11.m1.1.1.1.2" xref="S3.E11.m1.1.1.1.2.cmml">∈</mo><mrow id="S3.E11.m1.1.1.1.4" xref="S3.E11.m1.1.1.1.4.cmml"><msubsup id="S3.E11.m1.1.1.1.4.2" xref="S3.E11.m1.1.1.1.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.1.1.1.4.2.2.2" xref="S3.E11.m1.1.1.1.4.2.2.2.cmml">ℬ</mi><mtext id="S3.E11.m1.1.1.1.4.2.3" xref="S3.E11.m1.1.1.1.4.2.3a.cmml">rnnt</mtext><mtext id="S3.E11.m1.1.1.1.4.2.2.3" xref="S3.E11.m1.1.1.1.4.2.2.3a.cmml">-1</mtext></msubsup><mo lspace="0em" rspace="0em" id="S3.E11.m1.1.1.1.4.1" xref="S3.E11.m1.1.1.1.4.1.cmml">​</mo><mrow id="S3.E11.m1.1.1.1.4.3.2" xref="S3.E11.m1.1.1.1.4.cmml"><mo stretchy="false" id="S3.E11.m1.1.1.1.4.3.2.1" xref="S3.E11.m1.1.1.1.4.cmml">(</mo><mi id="S3.E11.m1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.cmml">Y</mi><mo stretchy="false" id="S3.E11.m1.1.1.1.4.3.2.2" xref="S3.E11.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S3.E11.m1.2.2.1.1.2.1" xref="S3.E11.m1.2.2.1.1.2.1.cmml"><mi id="S3.E11.m1.2.2.1.1.2.1.3" xref="S3.E11.m1.2.2.1.1.2.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.2.2.1.1.2.1.2" xref="S3.E11.m1.2.2.1.1.2.1.2.cmml">​</mo><mrow id="S3.E11.m1.2.2.1.1.2.1.1.1" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E11.m1.2.2.1.1.2.1.1.1.2" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E11.m1.2.2.1.1.2.1.1.1.1" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.cmml"><msub id="S3.E11.m1.2.2.1.1.2.1.1.1.1.2" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.cmml"><mi id="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.2" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.2.cmml">Z</mi><mtext id="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.3" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.3a.cmml">rnnt</mtext></msub><mo fence="false" id="S3.E11.m1.2.2.1.1.2.1.1.1.1.1" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.1.cmml">|</mo><mi id="S3.E11.m1.2.2.1.1.2.1.1.1.1.3" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E11.m1.2.2.1.1.2.1.1.1.3" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E11.m1.2.2.1.2" xref="S3.E11.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m1.2b"><apply id="S3.E11.m1.2.2.1.1.cmml" xref="S3.E11.m1.2.2.1"><eq id="S3.E11.m1.2.2.1.1.3.cmml" xref="S3.E11.m1.2.2.1.1.3"></eq><apply id="S3.E11.m1.2.2.1.1.1.cmml" xref="S3.E11.m1.2.2.1.1.1"><times id="S3.E11.m1.2.2.1.1.1.2.cmml" xref="S3.E11.m1.2.2.1.1.1.2"></times><apply id="S3.E11.m1.2.2.1.1.1.3.cmml" xref="S3.E11.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.1.1.1.3.1.cmml" xref="S3.E11.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E11.m1.2.2.1.1.1.3.2.cmml" xref="S3.E11.m1.2.2.1.1.1.3.2">𝑃</ci><ci id="S3.E11.m1.2.2.1.1.1.3.3a.cmml" xref="S3.E11.m1.2.2.1.1.1.3.3"><mtext mathsize="70%" id="S3.E11.m1.2.2.1.1.1.3.3.cmml" xref="S3.E11.m1.2.2.1.1.1.3.3">rnnt</mtext></ci></apply><apply id="S3.E11.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E11.m1.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.E11.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.2.2.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E11.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E11.m1.2.2.1.1.1.1.1.1.2">𝑌</ci><ci id="S3.E11.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E11.m1.2.2.1.1.1.1.1.1.3">𝑋</ci></apply></apply><apply id="S3.E11.m1.2.2.1.1.2.cmml" xref="S3.E11.m1.2.2.1.1.2"><apply id="S3.E11.m1.2.2.1.1.2.2.cmml" xref="S3.E11.m1.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.1.1.2.2.1.cmml" xref="S3.E11.m1.2.2.1.1.2.2">subscript</csymbol><sum id="S3.E11.m1.2.2.1.1.2.2.2.cmml" xref="S3.E11.m1.2.2.1.1.2.2.2"></sum><apply id="S3.E11.m1.1.1.1.cmml" xref="S3.E11.m1.1.1.1"><in id="S3.E11.m1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.2"></in><apply id="S3.E11.m1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.3.1.cmml" xref="S3.E11.m1.1.1.1.3">subscript</csymbol><ci id="S3.E11.m1.1.1.1.3.2.cmml" xref="S3.E11.m1.1.1.1.3.2">𝑍</ci><ci id="S3.E11.m1.1.1.1.3.3a.cmml" xref="S3.E11.m1.1.1.1.3.3"><mtext mathsize="50%" id="S3.E11.m1.1.1.1.3.3.cmml" xref="S3.E11.m1.1.1.1.3.3">rnnt</mtext></ci></apply><apply id="S3.E11.m1.1.1.1.4.cmml" xref="S3.E11.m1.1.1.1.4"><times id="S3.E11.m1.1.1.1.4.1.cmml" xref="S3.E11.m1.1.1.1.4.1"></times><apply id="S3.E11.m1.1.1.1.4.2.cmml" xref="S3.E11.m1.1.1.1.4.2"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.4.2.1.cmml" xref="S3.E11.m1.1.1.1.4.2">subscript</csymbol><apply id="S3.E11.m1.1.1.1.4.2.2.cmml" xref="S3.E11.m1.1.1.1.4.2"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.4.2.2.1.cmml" xref="S3.E11.m1.1.1.1.4.2">superscript</csymbol><ci id="S3.E11.m1.1.1.1.4.2.2.2.cmml" xref="S3.E11.m1.1.1.1.4.2.2.2">ℬ</ci><ci id="S3.E11.m1.1.1.1.4.2.2.3a.cmml" xref="S3.E11.m1.1.1.1.4.2.2.3"><mtext mathsize="50%" id="S3.E11.m1.1.1.1.4.2.2.3.cmml" xref="S3.E11.m1.1.1.1.4.2.2.3">-1</mtext></ci></apply><ci id="S3.E11.m1.1.1.1.4.2.3a.cmml" xref="S3.E11.m1.1.1.1.4.2.3"><mtext mathsize="50%" id="S3.E11.m1.1.1.1.4.2.3.cmml" xref="S3.E11.m1.1.1.1.4.2.3">rnnt</mtext></ci></apply><ci id="S3.E11.m1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1">𝑌</ci></apply></apply></apply><apply id="S3.E11.m1.2.2.1.1.2.1.cmml" xref="S3.E11.m1.2.2.1.1.2.1"><times id="S3.E11.m1.2.2.1.1.2.1.2.cmml" xref="S3.E11.m1.2.2.1.1.2.1.2"></times><ci id="S3.E11.m1.2.2.1.1.2.1.3.cmml" xref="S3.E11.m1.2.2.1.1.2.1.3">𝑃</ci><apply id="S3.E11.m1.2.2.1.1.2.1.1.1.1.cmml" xref="S3.E11.m1.2.2.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E11.m1.2.2.1.1.2.1.1.1.1.1.cmml" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.1">conditional</csymbol><apply id="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.cmml" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.1.cmml" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.2">subscript</csymbol><ci id="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.2.cmml" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.2">𝑍</ci><ci id="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.3a.cmml" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.3.cmml" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.2.3">rnnt</mtext></ci></apply><ci id="S3.E11.m1.2.2.1.1.2.1.1.1.1.3.cmml" xref="S3.E11.m1.2.2.1.1.2.1.1.1.1.3">𝑋</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m1.2c">P_{\text{rnnt}}(Y\mid X)=\sum_{Z_{\text{rnnt}}\in\mathcal{B^{\text{-1}}_{\text{rnnt}}}(Y)}P(Z_{\text{rnnt}}|X),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p1.7" class="ltx_p">where <math id="S3.SS3.p1.2.m1.1" class="ltx_Math" alttext="\mathcal{B^{\text{-1}}_{\text{rnnt}}}(Y)" display="inline"><semantics id="S3.SS3.p1.2.m1.1a"><mrow id="S3.SS3.p1.2.m1.1.2" xref="S3.SS3.p1.2.m1.1.2.cmml"><msubsup id="S3.SS3.p1.2.m1.1.2.2" xref="S3.SS3.p1.2.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.2.m1.1.2.2.2.2" xref="S3.SS3.p1.2.m1.1.2.2.2.2.cmml">ℬ</mi><mtext id="S3.SS3.p1.2.m1.1.2.2.3" xref="S3.SS3.p1.2.m1.1.2.2.3a.cmml">rnnt</mtext><mtext id="S3.SS3.p1.2.m1.1.2.2.2.3" xref="S3.SS3.p1.2.m1.1.2.2.2.3a.cmml">-1</mtext></msubsup><mo lspace="0em" rspace="0em" id="S3.SS3.p1.2.m1.1.2.1" xref="S3.SS3.p1.2.m1.1.2.1.cmml">​</mo><mrow id="S3.SS3.p1.2.m1.1.2.3.2" xref="S3.SS3.p1.2.m1.1.2.cmml"><mo stretchy="false" id="S3.SS3.p1.2.m1.1.2.3.2.1" xref="S3.SS3.p1.2.m1.1.2.cmml">(</mo><mi id="S3.SS3.p1.2.m1.1.1" xref="S3.SS3.p1.2.m1.1.1.cmml">Y</mi><mo stretchy="false" id="S3.SS3.p1.2.m1.1.2.3.2.2" xref="S3.SS3.p1.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m1.1b"><apply id="S3.SS3.p1.2.m1.1.2.cmml" xref="S3.SS3.p1.2.m1.1.2"><times id="S3.SS3.p1.2.m1.1.2.1.cmml" xref="S3.SS3.p1.2.m1.1.2.1"></times><apply id="S3.SS3.p1.2.m1.1.2.2.cmml" xref="S3.SS3.p1.2.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.1.2.2.1.cmml" xref="S3.SS3.p1.2.m1.1.2.2">subscript</csymbol><apply id="S3.SS3.p1.2.m1.1.2.2.2.cmml" xref="S3.SS3.p1.2.m1.1.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m1.1.2.2.2.1.cmml" xref="S3.SS3.p1.2.m1.1.2.2">superscript</csymbol><ci id="S3.SS3.p1.2.m1.1.2.2.2.2.cmml" xref="S3.SS3.p1.2.m1.1.2.2.2.2">ℬ</ci><ci id="S3.SS3.p1.2.m1.1.2.2.2.3a.cmml" xref="S3.SS3.p1.2.m1.1.2.2.2.3"><mtext mathsize="70%" id="S3.SS3.p1.2.m1.1.2.2.2.3.cmml" xref="S3.SS3.p1.2.m1.1.2.2.2.3">-1</mtext></ci></apply><ci id="S3.SS3.p1.2.m1.1.2.2.3a.cmml" xref="S3.SS3.p1.2.m1.1.2.2.3"><mtext mathsize="70%" id="S3.SS3.p1.2.m1.1.2.2.3.cmml" xref="S3.SS3.p1.2.m1.1.2.2.3">rnnt</mtext></ci></apply><ci id="S3.SS3.p1.2.m1.1.1.cmml" xref="S3.SS3.p1.2.m1.1.1">𝑌</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m1.1c">\mathcal{B^{\text{-1}}_{\text{rnnt}}}(Y)</annotation></semantics></math> is a set of all possible alignment sequences of <math id="S3.SS3.p1.3.m2.1" class="ltx_Math" alttext="Y" display="inline"><semantics id="S3.SS3.p1.3.m2.1a"><mi id="S3.SS3.p1.3.m2.1.1" xref="S3.SS3.p1.3.m2.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m2.1b"><ci id="S3.SS3.p1.3.m2.1.1.cmml" xref="S3.SS3.p1.3.m2.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m2.1c">Y</annotation></semantics></math> (Figure <a href="#S3.F1" title="Figure 1 ‣ III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> (b)).
Each alignment sequence <math id="S3.SS3.p1.4.m3.1" class="ltx_Math" alttext="Z_{\text{rnnt}}" display="inline"><semantics id="S3.SS3.p1.4.m3.1a"><msub id="S3.SS3.p1.4.m3.1.1" xref="S3.SS3.p1.4.m3.1.1.cmml"><mi id="S3.SS3.p1.4.m3.1.1.2" xref="S3.SS3.p1.4.m3.1.1.2.cmml">Z</mi><mtext id="S3.SS3.p1.4.m3.1.1.3" xref="S3.SS3.p1.4.m3.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m3.1b"><apply id="S3.SS3.p1.4.m3.1.1.cmml" xref="S3.SS3.p1.4.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m3.1.1.1.cmml" xref="S3.SS3.p1.4.m3.1.1">subscript</csymbol><ci id="S3.SS3.p1.4.m3.1.1.2.cmml" xref="S3.SS3.p1.4.m3.1.1.2">𝑍</ci><ci id="S3.SS3.p1.4.m3.1.1.3a.cmml" xref="S3.SS3.p1.4.m3.1.1.3"><mtext mathsize="70%" id="S3.SS3.p1.4.m3.1.1.3.cmml" xref="S3.SS3.p1.4.m3.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m3.1c">Z_{\text{rnnt}}</annotation></semantics></math> is deterministically mapped to a corresponding output sequence <math id="S3.SS3.p1.5.m4.1" class="ltx_Math" alttext="Y" display="inline"><semantics id="S3.SS3.p1.5.m4.1a"><mi id="S3.SS3.p1.5.m4.1.1" xref="S3.SS3.p1.5.m4.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m4.1b"><ci id="S3.SS3.p1.5.m4.1.1.cmml" xref="S3.SS3.p1.5.m4.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m4.1c">Y</annotation></semantics></math> by removing all blank tokens defined by <math id="S3.SS3.p1.6.m5.1" class="ltx_Math" alttext="\mathcal{B_{\text{rnnt}}}(Z_{\text{rnnt}})=Y" display="inline"><semantics id="S3.SS3.p1.6.m5.1a"><mrow id="S3.SS3.p1.6.m5.1.1" xref="S3.SS3.p1.6.m5.1.1.cmml"><mrow id="S3.SS3.p1.6.m5.1.1.1" xref="S3.SS3.p1.6.m5.1.1.1.cmml"><msub id="S3.SS3.p1.6.m5.1.1.1.3" xref="S3.SS3.p1.6.m5.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.6.m5.1.1.1.3.2" xref="S3.SS3.p1.6.m5.1.1.1.3.2.cmml">ℬ</mi><mtext id="S3.SS3.p1.6.m5.1.1.1.3.3" xref="S3.SS3.p1.6.m5.1.1.1.3.3a.cmml">rnnt</mtext></msub><mo lspace="0em" rspace="0em" id="S3.SS3.p1.6.m5.1.1.1.2" xref="S3.SS3.p1.6.m5.1.1.1.2.cmml">​</mo><mrow id="S3.SS3.p1.6.m5.1.1.1.1.1" xref="S3.SS3.p1.6.m5.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p1.6.m5.1.1.1.1.1.2" xref="S3.SS3.p1.6.m5.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS3.p1.6.m5.1.1.1.1.1.1" xref="S3.SS3.p1.6.m5.1.1.1.1.1.1.cmml"><mi id="S3.SS3.p1.6.m5.1.1.1.1.1.1.2" xref="S3.SS3.p1.6.m5.1.1.1.1.1.1.2.cmml">Z</mi><mtext id="S3.SS3.p1.6.m5.1.1.1.1.1.1.3" xref="S3.SS3.p1.6.m5.1.1.1.1.1.1.3a.cmml">rnnt</mtext></msub><mo stretchy="false" id="S3.SS3.p1.6.m5.1.1.1.1.1.3" xref="S3.SS3.p1.6.m5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p1.6.m5.1.1.2" xref="S3.SS3.p1.6.m5.1.1.2.cmml">=</mo><mi id="S3.SS3.p1.6.m5.1.1.3" xref="S3.SS3.p1.6.m5.1.1.3.cmml">Y</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m5.1b"><apply id="S3.SS3.p1.6.m5.1.1.cmml" xref="S3.SS3.p1.6.m5.1.1"><eq id="S3.SS3.p1.6.m5.1.1.2.cmml" xref="S3.SS3.p1.6.m5.1.1.2"></eq><apply id="S3.SS3.p1.6.m5.1.1.1.cmml" xref="S3.SS3.p1.6.m5.1.1.1"><times id="S3.SS3.p1.6.m5.1.1.1.2.cmml" xref="S3.SS3.p1.6.m5.1.1.1.2"></times><apply id="S3.SS3.p1.6.m5.1.1.1.3.cmml" xref="S3.SS3.p1.6.m5.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p1.6.m5.1.1.1.3.1.cmml" xref="S3.SS3.p1.6.m5.1.1.1.3">subscript</csymbol><ci id="S3.SS3.p1.6.m5.1.1.1.3.2.cmml" xref="S3.SS3.p1.6.m5.1.1.1.3.2">ℬ</ci><ci id="S3.SS3.p1.6.m5.1.1.1.3.3a.cmml" xref="S3.SS3.p1.6.m5.1.1.1.3.3"><mtext mathsize="70%" id="S3.SS3.p1.6.m5.1.1.1.3.3.cmml" xref="S3.SS3.p1.6.m5.1.1.1.3.3">rnnt</mtext></ci></apply><apply id="S3.SS3.p1.6.m5.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.6.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.6.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.6.m5.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p1.6.m5.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.6.m5.1.1.1.1.1.1.2">𝑍</ci><ci id="S3.SS3.p1.6.m5.1.1.1.1.1.1.3a.cmml" xref="S3.SS3.p1.6.m5.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.SS3.p1.6.m5.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p1.6.m5.1.1.1.1.1.1.3">rnnt</mtext></ci></apply></apply><ci id="S3.SS3.p1.6.m5.1.1.3.cmml" xref="S3.SS3.p1.6.m5.1.1.3">𝑌</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.6.m5.1c">\mathcal{B_{\text{rnnt}}}(Z_{\text{rnnt}})=Y</annotation></semantics></math>.
As with the CTC, this mapping strategy for RNN-T constrains the efficient monotonic alignment.
However, unlike CTC which has conditional independence assumption in Eq. (<a href="#S3.E8" title="In III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>), the RNN-T decoder estimates <math id="S3.SS3.p1.7.m6.1" class="ltx_Math" alttext="P(Z_{\text{rnnt}}|X)" display="inline"><semantics id="S3.SS3.p1.7.m6.1a"><mrow id="S3.SS3.p1.7.m6.1.1" xref="S3.SS3.p1.7.m6.1.1.cmml"><mi id="S3.SS3.p1.7.m6.1.1.3" xref="S3.SS3.p1.7.m6.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS3.p1.7.m6.1.1.2" xref="S3.SS3.p1.7.m6.1.1.2.cmml">​</mo><mrow id="S3.SS3.p1.7.m6.1.1.1.1" xref="S3.SS3.p1.7.m6.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p1.7.m6.1.1.1.1.2" xref="S3.SS3.p1.7.m6.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p1.7.m6.1.1.1.1.1" xref="S3.SS3.p1.7.m6.1.1.1.1.1.cmml"><msub id="S3.SS3.p1.7.m6.1.1.1.1.1.2" xref="S3.SS3.p1.7.m6.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p1.7.m6.1.1.1.1.1.2.2" xref="S3.SS3.p1.7.m6.1.1.1.1.1.2.2.cmml">Z</mi><mtext id="S3.SS3.p1.7.m6.1.1.1.1.1.2.3" xref="S3.SS3.p1.7.m6.1.1.1.1.1.2.3a.cmml">rnnt</mtext></msub><mo fence="false" id="S3.SS3.p1.7.m6.1.1.1.1.1.1" xref="S3.SS3.p1.7.m6.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS3.p1.7.m6.1.1.1.1.1.3" xref="S3.SS3.p1.7.m6.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.SS3.p1.7.m6.1.1.1.1.3" xref="S3.SS3.p1.7.m6.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m6.1b"><apply id="S3.SS3.p1.7.m6.1.1.cmml" xref="S3.SS3.p1.7.m6.1.1"><times id="S3.SS3.p1.7.m6.1.1.2.cmml" xref="S3.SS3.p1.7.m6.1.1.2"></times><ci id="S3.SS3.p1.7.m6.1.1.3.cmml" xref="S3.SS3.p1.7.m6.1.1.3">𝑃</ci><apply id="S3.SS3.p1.7.m6.1.1.1.1.1.cmml" xref="S3.SS3.p1.7.m6.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p1.7.m6.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.7.m6.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS3.p1.7.m6.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.7.m6.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.7.m6.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p1.7.m6.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.7.m6.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p1.7.m6.1.1.1.1.1.2.2">𝑍</ci><ci id="S3.SS3.p1.7.m6.1.1.1.1.1.2.3a.cmml" xref="S3.SS3.p1.7.m6.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.SS3.p1.7.m6.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p1.7.m6.1.1.1.1.1.2.3">rnnt</mtext></ci></apply><ci id="S3.SS3.p1.7.m6.1.1.1.1.1.3.cmml" xref="S3.SS3.p1.7.m6.1.1.1.1.1.3">𝑋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.7.m6.1c">P(Z_{\text{rnnt}}|X)</annotation></semantics></math> considering the conditional dependency as follows:</p>
<table id="S3.E12" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E12.m1.1" class="ltx_Math" alttext="P(Z_{\text{rnnt}}|X)=\prod_{i=1}^{T+S}P\left(z^{\text{rnnt}}_{i}\mid\bm{h}_{t},y_{1:s-1}\right)," display="block"><semantics id="S3.E12.m1.1a"><mrow id="S3.E12.m1.1.1.1" xref="S3.E12.m1.1.1.1.1.cmml"><mrow id="S3.E12.m1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.cmml"><mrow id="S3.E12.m1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E12.m1.1.1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E12.m1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E12.m1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E12.m1.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2.2.cmml">Z</mi><mtext id="S3.E12.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2.3a.cmml">rnnt</mtext></msub><mo fence="false" id="S3.E12.m1.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E12.m1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E12.m1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E12.m1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.2.cmml"><munderover id="S3.E12.m1.1.1.1.1.2.2" xref="S3.E12.m1.1.1.1.1.2.2.cmml"><mo movablelimits="false" id="S3.E12.m1.1.1.1.1.2.2.2.2" xref="S3.E12.m1.1.1.1.1.2.2.2.2.cmml">∏</mo><mrow id="S3.E12.m1.1.1.1.1.2.2.2.3" xref="S3.E12.m1.1.1.1.1.2.2.2.3.cmml"><mi id="S3.E12.m1.1.1.1.1.2.2.2.3.2" xref="S3.E12.m1.1.1.1.1.2.2.2.3.2.cmml">i</mi><mo id="S3.E12.m1.1.1.1.1.2.2.2.3.1" xref="S3.E12.m1.1.1.1.1.2.2.2.3.1.cmml">=</mo><mn id="S3.E12.m1.1.1.1.1.2.2.2.3.3" xref="S3.E12.m1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.E12.m1.1.1.1.1.2.2.3" xref="S3.E12.m1.1.1.1.1.2.2.3.cmml"><mi id="S3.E12.m1.1.1.1.1.2.2.3.2" xref="S3.E12.m1.1.1.1.1.2.2.3.2.cmml">T</mi><mo id="S3.E12.m1.1.1.1.1.2.2.3.1" xref="S3.E12.m1.1.1.1.1.2.2.3.1.cmml">+</mo><mi id="S3.E12.m1.1.1.1.1.2.2.3.3" xref="S3.E12.m1.1.1.1.1.2.2.3.3.cmml">S</mi></mrow></munderover><mrow id="S3.E12.m1.1.1.1.1.2.1" xref="S3.E12.m1.1.1.1.1.2.1.cmml"><mi id="S3.E12.m1.1.1.1.1.2.1.3" xref="S3.E12.m1.1.1.1.1.2.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.1.1.1.2.1.2" xref="S3.E12.m1.1.1.1.1.2.1.2.cmml">​</mo><mrow id="S3.E12.m1.1.1.1.1.2.1.1.1" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.cmml"><mo id="S3.E12.m1.1.1.1.1.2.1.1.1.2" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E12.m1.1.1.1.1.2.1.1.1.1" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.cmml"><msubsup id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.cmml"><mi id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.2" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.2.cmml">z</mi><mi id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.3" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.3.cmml">i</mi><mtext id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.3" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.3a.cmml">rnnt</mtext></msubsup><mo id="S3.E12.m1.1.1.1.1.2.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.3.cmml">∣</mo><mrow id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.3.cmml"><msub id="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.cmml">𝒉</mi><mi id="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.3" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.cmml"><mi id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.2" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.2.cmml">y</mi><mrow id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.cmml"><mn id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.2" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.1" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.1.cmml">:</mo><mrow id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.cmml"><mi id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.2" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.2.cmml">s</mi><mo id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.1" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.1.cmml">−</mo><mn id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.3" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.3.cmml">1</mn></mrow></mrow></msub></mrow></mrow><mo id="S3.E12.m1.1.1.1.1.2.1.1.1.3" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E12.m1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E12.m1.1b"><apply id="S3.E12.m1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1"><eq id="S3.E12.m1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.3"></eq><apply id="S3.E12.m1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1"><times id="S3.E12.m1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.1.2"></times><ci id="S3.E12.m1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.1.3">𝑃</ci><apply id="S3.E12.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E12.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E12.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E12.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2.2">𝑍</ci><ci id="S3.E12.m1.1.1.1.1.1.1.1.1.2.3a.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S3.E12.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2.3">rnnt</mtext></ci></apply><ci id="S3.E12.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3">𝑋</ci></apply></apply><apply id="S3.E12.m1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.2"><apply id="S3.E12.m1.1.1.1.1.2.2.cmml" xref="S3.E12.m1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.2.2.1.cmml" xref="S3.E12.m1.1.1.1.1.2.2">superscript</csymbol><apply id="S3.E12.m1.1.1.1.1.2.2.2.cmml" xref="S3.E12.m1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.2.2.2.1.cmml" xref="S3.E12.m1.1.1.1.1.2.2">subscript</csymbol><csymbol cd="latexml" id="S3.E12.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E12.m1.1.1.1.1.2.2.2.2">product</csymbol><apply id="S3.E12.m1.1.1.1.1.2.2.2.3.cmml" xref="S3.E12.m1.1.1.1.1.2.2.2.3"><eq id="S3.E12.m1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E12.m1.1.1.1.1.2.2.2.3.1"></eq><ci id="S3.E12.m1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E12.m1.1.1.1.1.2.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E12.m1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E12.m1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><apply id="S3.E12.m1.1.1.1.1.2.2.3.cmml" xref="S3.E12.m1.1.1.1.1.2.2.3"><plus id="S3.E12.m1.1.1.1.1.2.2.3.1.cmml" xref="S3.E12.m1.1.1.1.1.2.2.3.1"></plus><ci id="S3.E12.m1.1.1.1.1.2.2.3.2.cmml" xref="S3.E12.m1.1.1.1.1.2.2.3.2">𝑇</ci><ci id="S3.E12.m1.1.1.1.1.2.2.3.3.cmml" xref="S3.E12.m1.1.1.1.1.2.2.3.3">𝑆</ci></apply></apply><apply id="S3.E12.m1.1.1.1.1.2.1.cmml" xref="S3.E12.m1.1.1.1.1.2.1"><times id="S3.E12.m1.1.1.1.1.2.1.2.cmml" xref="S3.E12.m1.1.1.1.1.2.1.2"></times><ci id="S3.E12.m1.1.1.1.1.2.1.3.cmml" xref="S3.E12.m1.1.1.1.1.2.1.3">𝑃</ci><apply id="S3.E12.m1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E12.m1.1.1.1.1.2.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.3">conditional</csymbol><apply id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.1.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4">subscript</csymbol><apply id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.1.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4">superscript</csymbol><ci id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.2.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.2">𝑧</ci><ci id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.3a.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.3"><mtext mathsize="70%" id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.3.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.2.3">rnnt</mtext></ci></apply><ci id="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.3.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.4.3">𝑖</ci></apply><list id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.3.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2"><apply id="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.2">𝒉</ci><ci id="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.1.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.2">𝑦</ci><apply id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3"><ci id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.1">:</ci><cn type="integer" id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.2">1</cn><apply id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3"><minus id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.1.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.1"></minus><ci id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.2.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.2">𝑠</ci><cn type="integer" id="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.3.cmml" xref="S3.E12.m1.1.1.1.1.2.1.1.1.1.2.2.2.3.3.3">1</cn></apply></apply></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E12.m1.1c">P(Z_{\text{rnnt}}|X)=\prod_{i=1}^{T+S}P\left(z^{\text{rnnt}}_{i}\mid\bm{h}_{t},y_{1:s-1}\right),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p1.14" class="ltx_p">where <math id="S3.SS3.p1.8.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS3.p1.8.m1.1a"><mi id="S3.SS3.p1.8.m1.1.1" xref="S3.SS3.p1.8.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.8.m1.1b"><ci id="S3.SS3.p1.8.m1.1.1.cmml" xref="S3.SS3.p1.8.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.8.m1.1c">t</annotation></semantics></math> and <math id="S3.SS3.p1.9.m2.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.SS3.p1.9.m2.1a"><mi id="S3.SS3.p1.9.m2.1.1" xref="S3.SS3.p1.9.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.9.m2.1b"><ci id="S3.SS3.p1.9.m2.1.1.cmml" xref="S3.SS3.p1.9.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.9.m2.1c">s</annotation></semantics></math> are determined by the alignment path <math id="S3.SS3.p1.10.m3.1" class="ltx_Math" alttext="z^{\text{rnnt}}_{i}" display="inline"><semantics id="S3.SS3.p1.10.m3.1a"><msubsup id="S3.SS3.p1.10.m3.1.1" xref="S3.SS3.p1.10.m3.1.1.cmml"><mi id="S3.SS3.p1.10.m3.1.1.2.2" xref="S3.SS3.p1.10.m3.1.1.2.2.cmml">z</mi><mi id="S3.SS3.p1.10.m3.1.1.3" xref="S3.SS3.p1.10.m3.1.1.3.cmml">i</mi><mtext id="S3.SS3.p1.10.m3.1.1.2.3" xref="S3.SS3.p1.10.m3.1.1.2.3a.cmml">rnnt</mtext></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.10.m3.1b"><apply id="S3.SS3.p1.10.m3.1.1.cmml" xref="S3.SS3.p1.10.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.10.m3.1.1.1.cmml" xref="S3.SS3.p1.10.m3.1.1">subscript</csymbol><apply id="S3.SS3.p1.10.m3.1.1.2.cmml" xref="S3.SS3.p1.10.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.10.m3.1.1.2.1.cmml" xref="S3.SS3.p1.10.m3.1.1">superscript</csymbol><ci id="S3.SS3.p1.10.m3.1.1.2.2.cmml" xref="S3.SS3.p1.10.m3.1.1.2.2">𝑧</ci><ci id="S3.SS3.p1.10.m3.1.1.2.3a.cmml" xref="S3.SS3.p1.10.m3.1.1.2.3"><mtext mathsize="70%" id="S3.SS3.p1.10.m3.1.1.2.3.cmml" xref="S3.SS3.p1.10.m3.1.1.2.3">rnnt</mtext></ci></apply><ci id="S3.SS3.p1.10.m3.1.1.3.cmml" xref="S3.SS3.p1.10.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.10.m3.1c">z^{\text{rnnt}}_{i}</annotation></semantics></math> on the RNN-T lattice as shown in Figure  <a href="#S3.F1" title="Figure 1 ‣ III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> (b).
Unlike CTC, the RNN-T alignment paths have length <math id="S3.SS3.p1.11.m4.1" class="ltx_Math" alttext="(T+S)" display="inline"><semantics id="S3.SS3.p1.11.m4.1a"><mrow id="S3.SS3.p1.11.m4.1.1.1" xref="S3.SS3.p1.11.m4.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.p1.11.m4.1.1.1.2" xref="S3.SS3.p1.11.m4.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p1.11.m4.1.1.1.1" xref="S3.SS3.p1.11.m4.1.1.1.1.cmml"><mi id="S3.SS3.p1.11.m4.1.1.1.1.2" xref="S3.SS3.p1.11.m4.1.1.1.1.2.cmml">T</mi><mo id="S3.SS3.p1.11.m4.1.1.1.1.1" xref="S3.SS3.p1.11.m4.1.1.1.1.1.cmml">+</mo><mi id="S3.SS3.p1.11.m4.1.1.1.1.3" xref="S3.SS3.p1.11.m4.1.1.1.1.3.cmml">S</mi></mrow><mo stretchy="false" id="S3.SS3.p1.11.m4.1.1.1.3" xref="S3.SS3.p1.11.m4.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.11.m4.1b"><apply id="S3.SS3.p1.11.m4.1.1.1.1.cmml" xref="S3.SS3.p1.11.m4.1.1.1"><plus id="S3.SS3.p1.11.m4.1.1.1.1.1.cmml" xref="S3.SS3.p1.11.m4.1.1.1.1.1"></plus><ci id="S3.SS3.p1.11.m4.1.1.1.1.2.cmml" xref="S3.SS3.p1.11.m4.1.1.1.1.2">𝑇</ci><ci id="S3.SS3.p1.11.m4.1.1.1.1.3.cmml" xref="S3.SS3.p1.11.m4.1.1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.11.m4.1c">(T+S)</annotation></semantics></math>, allowing a longer token sequence <math id="S3.SS3.p1.12.m5.1" class="ltx_Math" alttext="Y" display="inline"><semantics id="S3.SS3.p1.12.m5.1a"><mi id="S3.SS3.p1.12.m5.1.1" xref="S3.SS3.p1.12.m5.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.12.m5.1b"><ci id="S3.SS3.p1.12.m5.1.1.cmml" xref="S3.SS3.p1.12.m5.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.12.m5.1c">Y</annotation></semantics></math> than the <math id="S3.SS3.p1.13.m6.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS3.p1.13.m6.1a"><mi id="S3.SS3.p1.13.m6.1.1" xref="S3.SS3.p1.13.m6.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.13.m6.1b"><ci id="S3.SS3.p1.13.m6.1.1.cmml" xref="S3.SS3.p1.13.m6.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.13.m6.1c">T</annotation></semantics></math>-length input sequence <math id="S3.SS3.p1.14.m7.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.SS3.p1.14.m7.1a"><mi id="S3.SS3.p1.14.m7.1.1" xref="S3.SS3.p1.14.m7.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.14.m7.1b"><ci id="S3.SS3.p1.14.m7.1.1.cmml" xref="S3.SS3.p1.14.m7.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.14.m7.1c">H</annotation></semantics></math>.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.2" class="ltx_p">The RNN-T decoder typically comprises a prediction network and a joint network. The prediction network generates a high-level representation <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="\bm{g}_{s}\in\mathbb{R}^{d^{\prime}}" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mrow id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><msub id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2.2" xref="S3.SS3.p2.1.m1.1.1.2.2.cmml">𝒈</mi><mi id="S3.SS3.p2.1.m1.1.1.2.3" xref="S3.SS3.p2.1.m1.1.1.2.3.cmml">s</mi></msub><mo id="S3.SS3.p2.1.m1.1.1.1" xref="S3.SS3.p2.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml"><mi id="S3.SS3.p2.1.m1.1.1.3.2" xref="S3.SS3.p2.1.m1.1.1.3.2.cmml">ℝ</mi><msup id="S3.SS3.p2.1.m1.1.1.3.3" xref="S3.SS3.p2.1.m1.1.1.3.3.cmml"><mi id="S3.SS3.p2.1.m1.1.1.3.3.2" xref="S3.SS3.p2.1.m1.1.1.3.3.2.cmml">d</mi><mo id="S3.SS3.p2.1.m1.1.1.3.3.3" xref="S3.SS3.p2.1.m1.1.1.3.3.3.cmml">′</mo></msup></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><in id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1"></in><apply id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.2.1.cmml" xref="S3.SS3.p2.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2.2">𝒈</ci><ci id="S3.SS3.p2.1.m1.1.1.2.3.cmml" xref="S3.SS3.p2.1.m1.1.1.2.3">𝑠</ci></apply><apply id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.3.1.cmml" xref="S3.SS3.p2.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.3.2.cmml" xref="S3.SS3.p2.1.m1.1.1.3.2">ℝ</ci><apply id="S3.SS3.p2.1.m1.1.1.3.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.3.3.1.cmml" xref="S3.SS3.p2.1.m1.1.1.3.3">superscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.3.3.2.cmml" xref="S3.SS3.p2.1.m1.1.1.3.3.2">𝑑</ci><ci id="S3.SS3.p2.1.m1.1.1.3.3.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3.3.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">\bm{g}_{s}\in\mathbb{R}^{d^{\prime}}</annotation></semantics></math> by conditioning on the previous non-blank token sequence <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="y_{1:s-1}" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><msub id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">y</mi><mrow id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml"><mn id="S3.SS3.p2.2.m2.1.1.3.2" xref="S3.SS3.p2.2.m2.1.1.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.SS3.p2.2.m2.1.1.3.1" xref="S3.SS3.p2.2.m2.1.1.3.1.cmml">:</mo><mrow id="S3.SS3.p2.2.m2.1.1.3.3" xref="S3.SS3.p2.2.m2.1.1.3.3.cmml"><mi id="S3.SS3.p2.2.m2.1.1.3.3.2" xref="S3.SS3.p2.2.m2.1.1.3.3.2.cmml">s</mi><mo id="S3.SS3.p2.2.m2.1.1.3.3.1" xref="S3.SS3.p2.2.m2.1.1.3.3.1.cmml">−</mo><mn id="S3.SS3.p2.2.m2.1.1.3.3.3" xref="S3.SS3.p2.2.m2.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">𝑦</ci><apply id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3"><ci id="S3.SS3.p2.2.m2.1.1.3.1.cmml" xref="S3.SS3.p2.2.m2.1.1.3.1">:</ci><cn type="integer" id="S3.SS3.p2.2.m2.1.1.3.2.cmml" xref="S3.SS3.p2.2.m2.1.1.3.2">1</cn><apply id="S3.SS3.p2.2.m2.1.1.3.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3.3"><minus id="S3.SS3.p2.2.m2.1.1.3.3.1.cmml" xref="S3.SS3.p2.2.m2.1.1.3.3.1"></minus><ci id="S3.SS3.p2.2.m2.1.1.3.3.2.cmml" xref="S3.SS3.p2.2.m2.1.1.3.3.2">𝑠</ci><cn type="integer" id="S3.SS3.p2.2.m2.1.1.3.3.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">y_{1:s-1}</annotation></semantics></math> with an embedding layer as follows:</p>
<table id="S3.E13" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E13.m1.1" class="ltx_Math" alttext="\bm{g}_{s}=\mathrm{PredNet}(\mathrm{Embedding}(y_{1:s-1}))." display="block"><semantics id="S3.E13.m1.1a"><mrow id="S3.E13.m1.1.1.1" xref="S3.E13.m1.1.1.1.1.cmml"><mrow id="S3.E13.m1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.cmml"><msub id="S3.E13.m1.1.1.1.1.3" xref="S3.E13.m1.1.1.1.1.3.cmml"><mi id="S3.E13.m1.1.1.1.1.3.2" xref="S3.E13.m1.1.1.1.1.3.2.cmml">𝒈</mi><mi id="S3.E13.m1.1.1.1.1.3.3" xref="S3.E13.m1.1.1.1.1.3.3.cmml">s</mi></msub><mo id="S3.E13.m1.1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E13.m1.1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.1.1.1.1.1.3" xref="S3.E13.m1.1.1.1.1.1.3.cmml">PredNet</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E13.m1.1.1.1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E13.m1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E13.m1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.1.1.1.1.1.1.1.1.3.cmml">Embedding</mi><mo lspace="0em" rspace="0em" id="S3.E13.m1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">s</mi><mo id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo stretchy="false" id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E13.m1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S3.E13.m1.1.1.1.2" xref="S3.E13.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E13.m1.1b"><apply id="S3.E13.m1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1"><eq id="S3.E13.m1.1.1.1.1.2.cmml" xref="S3.E13.m1.1.1.1.1.2"></eq><apply id="S3.E13.m1.1.1.1.1.3.cmml" xref="S3.E13.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.3.1.cmml" xref="S3.E13.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E13.m1.1.1.1.1.3.2.cmml" xref="S3.E13.m1.1.1.1.1.3.2">𝒈</ci><ci id="S3.E13.m1.1.1.1.1.3.3.cmml" xref="S3.E13.m1.1.1.1.1.3.3">𝑠</ci></apply><apply id="S3.E13.m1.1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1.1.1"><times id="S3.E13.m1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.1.1.1.1.1.2"></times><ci id="S3.E13.m1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.1.1.1.1.1.3">PredNet</ci><apply id="S3.E13.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1"><times id="S3.E13.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E13.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.3">Embedding</ci><apply id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3"><ci id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.1">:</ci><cn type="integer" id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.2">1</cn><apply id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3"><minus id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.2">𝑠</ci><cn type="integer" id="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E13.m1.1.1.1.1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E13.m1.1c">\bm{g}_{s}=\mathrm{PredNet}(\mathrm{Embedding}(y_{1:s-1})).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.5" class="ltx_p">The joint network estimates the alignment posterior <math id="S3.SS3.p2.3.m1.1" class="ltx_Math" alttext="z^{\text{rnnt}}_{i}" display="inline"><semantics id="S3.SS3.p2.3.m1.1a"><msubsup id="S3.SS3.p2.3.m1.1.1" xref="S3.SS3.p2.3.m1.1.1.cmml"><mi id="S3.SS3.p2.3.m1.1.1.2.2" xref="S3.SS3.p2.3.m1.1.1.2.2.cmml">z</mi><mi id="S3.SS3.p2.3.m1.1.1.3" xref="S3.SS3.p2.3.m1.1.1.3.cmml">i</mi><mtext id="S3.SS3.p2.3.m1.1.1.2.3" xref="S3.SS3.p2.3.m1.1.1.2.3a.cmml">rnnt</mtext></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m1.1b"><apply id="S3.SS3.p2.3.m1.1.1.cmml" xref="S3.SS3.p2.3.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m1.1.1.1.cmml" xref="S3.SS3.p2.3.m1.1.1">subscript</csymbol><apply id="S3.SS3.p2.3.m1.1.1.2.cmml" xref="S3.SS3.p2.3.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m1.1.1.2.1.cmml" xref="S3.SS3.p2.3.m1.1.1">superscript</csymbol><ci id="S3.SS3.p2.3.m1.1.1.2.2.cmml" xref="S3.SS3.p2.3.m1.1.1.2.2">𝑧</ci><ci id="S3.SS3.p2.3.m1.1.1.2.3a.cmml" xref="S3.SS3.p2.3.m1.1.1.2.3"><mtext mathsize="70%" id="S3.SS3.p2.3.m1.1.1.2.3.cmml" xref="S3.SS3.p2.3.m1.1.1.2.3">rnnt</mtext></ci></apply><ci id="S3.SS3.p2.3.m1.1.1.3.cmml" xref="S3.SS3.p2.3.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m1.1c">z^{\text{rnnt}}_{i}</annotation></semantics></math> by combining <math id="S3.SS3.p2.4.m2.1" class="ltx_Math" alttext="\bm{h}_{t}" display="inline"><semantics id="S3.SS3.p2.4.m2.1a"><msub id="S3.SS3.p2.4.m2.1.1" xref="S3.SS3.p2.4.m2.1.1.cmml"><mi id="S3.SS3.p2.4.m2.1.1.2" xref="S3.SS3.p2.4.m2.1.1.2.cmml">𝒉</mi><mi id="S3.SS3.p2.4.m2.1.1.3" xref="S3.SS3.p2.4.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m2.1b"><apply id="S3.SS3.p2.4.m2.1.1.cmml" xref="S3.SS3.p2.4.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m2.1.1.1.cmml" xref="S3.SS3.p2.4.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.4.m2.1.1.2.cmml" xref="S3.SS3.p2.4.m2.1.1.2">𝒉</ci><ci id="S3.SS3.p2.4.m2.1.1.3.cmml" xref="S3.SS3.p2.4.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m2.1c">\bm{h}_{t}</annotation></semantics></math> (Eq. (<a href="#S3.E2" title="In III-A Encoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>)) and <math id="S3.SS3.p2.5.m3.1" class="ltx_Math" alttext="\bm{g}_{s}" display="inline"><semantics id="S3.SS3.p2.5.m3.1a"><msub id="S3.SS3.p2.5.m3.1.1" xref="S3.SS3.p2.5.m3.1.1.cmml"><mi id="S3.SS3.p2.5.m3.1.1.2" xref="S3.SS3.p2.5.m3.1.1.2.cmml">𝒈</mi><mi id="S3.SS3.p2.5.m3.1.1.3" xref="S3.SS3.p2.5.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m3.1b"><apply id="S3.SS3.p2.5.m3.1.1.cmml" xref="S3.SS3.p2.5.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.5.m3.1.1.1.cmml" xref="S3.SS3.p2.5.m3.1.1">subscript</csymbol><ci id="S3.SS3.p2.5.m3.1.1.2.cmml" xref="S3.SS3.p2.5.m3.1.1.2">𝒈</ci><ci id="S3.SS3.p2.5.m3.1.1.3.cmml" xref="S3.SS3.p2.5.m3.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m3.1c">\bm{g}_{s}</annotation></semantics></math> (Eq. (<a href="#S3.E13" title="In III-C RNN-T ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>)) as follows:</p>
<table id="S3.E14" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E14.m1.1" class="ltx_Math" alttext="P(z^{\text{rnnt}}_{i}|\bm{h}_{t},y_{1:s-1})=\mathrm{Softmax}(\mathrm{JointNet}(\bm{h}_{t},\bm{g}_{s}))." display="block"><semantics id="S3.E14.m1.1a"><mrow id="S3.E14.m1.1.1.1" xref="S3.E14.m1.1.1.1.1.cmml"><mrow id="S3.E14.m1.1.1.1.1" xref="S3.E14.m1.1.1.1.1.cmml"><mrow id="S3.E14.m1.1.1.1.1.1" xref="S3.E14.m1.1.1.1.1.1.cmml"><mi id="S3.E14.m1.1.1.1.1.1.3" xref="S3.E14.m1.1.1.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.1.2" xref="S3.E14.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E14.m1.1.1.1.1.1.1.1" xref="S3.E14.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E14.m1.1.1.1.1.1.1.1.2" xref="S3.E14.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E14.m1.1.1.1.1.1.1.1.1" xref="S3.E14.m1.1.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E14.m1.1.1.1.1.1.1.1.1.4" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4.cmml"><mi id="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.2" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.2.cmml">z</mi><mi id="S3.E14.m1.1.1.1.1.1.1.1.1.4.3" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4.3.cmml">i</mi><mtext id="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.3" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.3a.cmml">rnnt</mtext></msubsup><mo fence="false" id="S3.E14.m1.1.1.1.1.1.1.1.1.3" xref="S3.E14.m1.1.1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒉</mi><mi id="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">y</mi><mrow id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mn id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">:</mo><mrow id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml"><mi id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.2" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.2.cmml">s</mi><mo id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.1" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.1.cmml">−</mo><mn id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.3" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.3.cmml">1</mn></mrow></mrow></msub></mrow></mrow><mo stretchy="false" id="S3.E14.m1.1.1.1.1.1.1.1.3" xref="S3.E14.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E14.m1.1.1.1.1.3" xref="S3.E14.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E14.m1.1.1.1.1.2" xref="S3.E14.m1.1.1.1.1.2.cmml"><mi id="S3.E14.m1.1.1.1.1.2.3" xref="S3.E14.m1.1.1.1.1.2.3.cmml">Softmax</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.2.2" xref="S3.E14.m1.1.1.1.1.2.2.cmml">​</mo><mrow id="S3.E14.m1.1.1.1.1.2.1.1" xref="S3.E14.m1.1.1.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S3.E14.m1.1.1.1.1.2.1.1.2" xref="S3.E14.m1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="S3.E14.m1.1.1.1.1.2.1.1.1" xref="S3.E14.m1.1.1.1.1.2.1.1.1.cmml"><mi id="S3.E14.m1.1.1.1.1.2.1.1.1.4" xref="S3.E14.m1.1.1.1.1.2.1.1.1.4.cmml">JointNet</mi><mo lspace="0em" rspace="0em" id="S3.E14.m1.1.1.1.1.2.1.1.1.3" xref="S3.E14.m1.1.1.1.1.2.1.1.1.3.cmml">​</mo><mrow id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.3" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.3.cmml">(</mo><msub id="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1" xref="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.cmml"><mi id="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.2" xref="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml">𝒉</mi><mi id="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.3" xref="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.4" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.3.cmml">,</mo><msub id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.cmml"><mi id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.2" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.2.cmml">𝒈</mi><mi id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.3" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.3.cmml">s</mi></msub><mo stretchy="false" id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.5" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E14.m1.1.1.1.1.2.1.1.3" xref="S3.E14.m1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S3.E14.m1.1.1.1.2" xref="S3.E14.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E14.m1.1b"><apply id="S3.E14.m1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1"><eq id="S3.E14.m1.1.1.1.1.3.cmml" xref="S3.E14.m1.1.1.1.1.3"></eq><apply id="S3.E14.m1.1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1.1.1"><times id="S3.E14.m1.1.1.1.1.1.2.cmml" xref="S3.E14.m1.1.1.1.1.1.2"></times><ci id="S3.E14.m1.1.1.1.1.1.3.cmml" xref="S3.E14.m1.1.1.1.1.1.3">𝑃</ci><apply id="S3.E14.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E14.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.E14.m1.1.1.1.1.1.1.1.1.4.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4">subscript</csymbol><apply id="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.1.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4">superscript</csymbol><ci id="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.2.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.2">𝑧</ci><ci id="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.3a.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.3"><mtext mathsize="70%" id="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.3.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4.2.3">rnnt</mtext></ci></apply><ci id="S3.E14.m1.1.1.1.1.1.1.1.1.4.3.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="S3.E14.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2"><apply id="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.2">𝒉</ci><ci id="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.2">𝑦</ci><apply id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3"><ci id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.1">:</ci><cn type="integer" id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.2">1</cn><apply id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3"><minus id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.1.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.1"></minus><ci id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.2.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.2">𝑠</ci><cn type="integer" id="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.3.cmml" xref="S3.E14.m1.1.1.1.1.1.1.1.1.2.2.2.3.3.3">1</cn></apply></apply></apply></list></apply></apply><apply id="S3.E14.m1.1.1.1.1.2.cmml" xref="S3.E14.m1.1.1.1.1.2"><times id="S3.E14.m1.1.1.1.1.2.2.cmml" xref="S3.E14.m1.1.1.1.1.2.2"></times><ci id="S3.E14.m1.1.1.1.1.2.3.cmml" xref="S3.E14.m1.1.1.1.1.2.3">Softmax</ci><apply id="S3.E14.m1.1.1.1.1.2.1.1.1.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1"><times id="S3.E14.m1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.3"></times><ci id="S3.E14.m1.1.1.1.1.2.1.1.1.4.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.4">JointNet</ci><interval closure="open" id="S3.E14.m1.1.1.1.1.2.1.1.1.2.3.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.2"><apply id="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.2">𝒉</ci><ci id="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.3.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.1.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.2.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.2">𝒈</ci><ci id="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.3.cmml" xref="S3.E14.m1.1.1.1.1.2.1.1.1.2.2.2.3">𝑠</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E14.m1.1c">P(z^{\text{rnnt}}_{i}|\bm{h}_{t},y_{1:s-1})=\mathrm{Softmax}(\mathrm{JointNet}(\bm{h}_{t},\bm{g}_{s})).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(14)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.6" class="ltx_p">RNN-T optimizes the model parameters by minimizing the negative log-likelihood as described below,</p>
<table id="S3.E15" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E15.m1.1" class="ltx_Math" alttext="L_{\text{rnnt}}=-\log P_{\text{rnnt}}(Y\mid X)." display="block"><semantics id="S3.E15.m1.1a"><mrow id="S3.E15.m1.1.1.1" xref="S3.E15.m1.1.1.1.1.cmml"><mrow id="S3.E15.m1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.cmml"><msub id="S3.E15.m1.1.1.1.1.3" xref="S3.E15.m1.1.1.1.1.3.cmml"><mi id="S3.E15.m1.1.1.1.1.3.2" xref="S3.E15.m1.1.1.1.1.3.2.cmml">L</mi><mtext id="S3.E15.m1.1.1.1.1.3.3" xref="S3.E15.m1.1.1.1.1.3.3a.cmml">rnnt</mtext></msub><mo id="S3.E15.m1.1.1.1.1.2" xref="S3.E15.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E15.m1.1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.1.cmml"><mo rspace="0.167em" id="S3.E15.m1.1.1.1.1.1a" xref="S3.E15.m1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E15.m1.1.1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E15.m1.1.1.1.1.1.1.3" xref="S3.E15.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E15.m1.1.1.1.1.1.1.3.1" xref="S3.E15.m1.1.1.1.1.1.1.3.1.cmml">log</mi><mo lspace="0.167em" id="S3.E15.m1.1.1.1.1.1.1.3a" xref="S3.E15.m1.1.1.1.1.1.1.3.cmml">⁡</mo><msub id="S3.E15.m1.1.1.1.1.1.1.3.2" xref="S3.E15.m1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E15.m1.1.1.1.1.1.1.3.2.2" xref="S3.E15.m1.1.1.1.1.1.1.3.2.2.cmml">P</mi><mtext id="S3.E15.m1.1.1.1.1.1.1.3.2.3" xref="S3.E15.m1.1.1.1.1.1.1.3.2.3a.cmml">rnnt</mtext></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E15.m1.1.1.1.1.1.1.2" xref="S3.E15.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E15.m1.1.1.1.1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E15.m1.1.1.1.1.1.1.1.1.2" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E15.m1.1.1.1.1.1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E15.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.2.cmml">Y</mi><mo id="S3.E15.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E15.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E15.m1.1.1.1.1.1.1.1.1.3" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E15.m1.1.1.1.2" xref="S3.E15.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E15.m1.1b"><apply id="S3.E15.m1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1"><eq id="S3.E15.m1.1.1.1.1.2.cmml" xref="S3.E15.m1.1.1.1.1.2"></eq><apply id="S3.E15.m1.1.1.1.1.3.cmml" xref="S3.E15.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E15.m1.1.1.1.1.3.1.cmml" xref="S3.E15.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E15.m1.1.1.1.1.3.2.cmml" xref="S3.E15.m1.1.1.1.1.3.2">𝐿</ci><ci id="S3.E15.m1.1.1.1.1.3.3a.cmml" xref="S3.E15.m1.1.1.1.1.3.3"><mtext mathsize="70%" id="S3.E15.m1.1.1.1.1.3.3.cmml" xref="S3.E15.m1.1.1.1.1.3.3">rnnt</mtext></ci></apply><apply id="S3.E15.m1.1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1.1.1"><minus id="S3.E15.m1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.1.1.1.1.1"></minus><apply id="S3.E15.m1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1"><times id="S3.E15.m1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.2"></times><apply id="S3.E15.m1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.3"><log id="S3.E15.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1.3.1"></log><apply id="S3.E15.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E15.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E15.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.3.2.2">𝑃</ci><ci id="S3.E15.m1.1.1.1.1.1.1.3.2.3a.cmml" xref="S3.E15.m1.1.1.1.1.1.1.3.2.3"><mtext mathsize="70%" id="S3.E15.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.3.2.3">rnnt</mtext></ci></apply></apply><apply id="S3.E15.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E15.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E15.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.2">𝑌</ci><ci id="S3.E15.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.1.1.1.1.1.1.1.1.1.3">𝑋</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E15.m1.1c">L_{\text{rnnt}}=-\log P_{\text{rnnt}}(Y\mid X).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(15)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS4.4.1.1" class="ltx_text">III-D</span> </span><span id="S3.SS4.5.2" class="ltx_text ltx_font_italic">Attention-based encoder-decoder</span>
</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">While CTC and RNN-T predict the alignment sequences (Eqs. (<a href="#S3.E8" title="In III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>) and (<a href="#S3.E12" title="In III-C RNN-T ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>)), the attention-based encoder-decoder directly estimates the posterior, <math id="S3.SS4.p1.1.m1.1" class="ltx_Math" alttext="P_{\text{att}}(Y\mid X)" display="inline"><semantics id="S3.SS4.p1.1.m1.1a"><mrow id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml"><msub id="S3.SS4.p1.1.m1.1.1.3" xref="S3.SS4.p1.1.m1.1.1.3.cmml"><mi id="S3.SS4.p1.1.m1.1.1.3.2" xref="S3.SS4.p1.1.m1.1.1.3.2.cmml">P</mi><mtext id="S3.SS4.p1.1.m1.1.1.3.3" xref="S3.SS4.p1.1.m1.1.1.3.3a.cmml">att</mtext></msub><mo lspace="0em" rspace="0em" id="S3.SS4.p1.1.m1.1.1.2" xref="S3.SS4.p1.1.m1.1.1.2.cmml">​</mo><mrow id="S3.SS4.p1.1.m1.1.1.1.1" xref="S3.SS4.p1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS4.p1.1.m1.1.1.1.1.2" xref="S3.SS4.p1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS4.p1.1.m1.1.1.1.1.1" xref="S3.SS4.p1.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS4.p1.1.m1.1.1.1.1.1.2" xref="S3.SS4.p1.1.m1.1.1.1.1.1.2.cmml">Y</mi><mo id="S3.SS4.p1.1.m1.1.1.1.1.1.1" xref="S3.SS4.p1.1.m1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.SS4.p1.1.m1.1.1.1.1.1.3" xref="S3.SS4.p1.1.m1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.SS4.p1.1.m1.1.1.1.1.3" xref="S3.SS4.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b"><apply id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1"><times id="S3.SS4.p1.1.m1.1.1.2.cmml" xref="S3.SS4.p1.1.m1.1.1.2"></times><apply id="S3.SS4.p1.1.m1.1.1.3.cmml" xref="S3.SS4.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p1.1.m1.1.1.3.1.cmml" xref="S3.SS4.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS4.p1.1.m1.1.1.3.2.cmml" xref="S3.SS4.p1.1.m1.1.1.3.2">𝑃</ci><ci id="S3.SS4.p1.1.m1.1.1.3.3a.cmml" xref="S3.SS4.p1.1.m1.1.1.3.3"><mtext mathsize="70%" id="S3.SS4.p1.1.m1.1.1.3.3.cmml" xref="S3.SS4.p1.1.m1.1.1.3.3">att</mtext></ci></apply><apply id="S3.SS4.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS4.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS4.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS4.p1.1.m1.1.1.1.1.1.2">𝑌</ci><ci id="S3.SS4.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS4.p1.1.m1.1.1.1.1.1.3">𝑋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">P_{\text{att}}(Y\mid X)</annotation></semantics></math>, in an autoregressive manner as follows:</p>
<table id="S3.E16" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E16.m1.2" class="ltx_Math" alttext="P_{\text{att}}(Y\mid X)=\prod_{s=1}^{S}P\left(y_{s}\mid y_{1:s-1},H\right)." display="block"><semantics id="S3.E16.m1.2a"><mrow id="S3.E16.m1.2.2.1" xref="S3.E16.m1.2.2.1.1.cmml"><mrow id="S3.E16.m1.2.2.1.1" xref="S3.E16.m1.2.2.1.1.cmml"><mrow id="S3.E16.m1.2.2.1.1.1" xref="S3.E16.m1.2.2.1.1.1.cmml"><msub id="S3.E16.m1.2.2.1.1.1.3" xref="S3.E16.m1.2.2.1.1.1.3.cmml"><mi id="S3.E16.m1.2.2.1.1.1.3.2" xref="S3.E16.m1.2.2.1.1.1.3.2.cmml">P</mi><mtext id="S3.E16.m1.2.2.1.1.1.3.3" xref="S3.E16.m1.2.2.1.1.1.3.3a.cmml">att</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E16.m1.2.2.1.1.1.2" xref="S3.E16.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E16.m1.2.2.1.1.1.1.1" xref="S3.E16.m1.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E16.m1.2.2.1.1.1.1.1.2" xref="S3.E16.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E16.m1.2.2.1.1.1.1.1.1" xref="S3.E16.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E16.m1.2.2.1.1.1.1.1.1.2" xref="S3.E16.m1.2.2.1.1.1.1.1.1.2.cmml">Y</mi><mo id="S3.E16.m1.2.2.1.1.1.1.1.1.1" xref="S3.E16.m1.2.2.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E16.m1.2.2.1.1.1.1.1.1.3" xref="S3.E16.m1.2.2.1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E16.m1.2.2.1.1.1.1.1.3" xref="S3.E16.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E16.m1.2.2.1.1.3" xref="S3.E16.m1.2.2.1.1.3.cmml">=</mo><mrow id="S3.E16.m1.2.2.1.1.2" xref="S3.E16.m1.2.2.1.1.2.cmml"><munderover id="S3.E16.m1.2.2.1.1.2.2" xref="S3.E16.m1.2.2.1.1.2.2.cmml"><mo movablelimits="false" id="S3.E16.m1.2.2.1.1.2.2.2.2" xref="S3.E16.m1.2.2.1.1.2.2.2.2.cmml">∏</mo><mrow id="S3.E16.m1.2.2.1.1.2.2.2.3" xref="S3.E16.m1.2.2.1.1.2.2.2.3.cmml"><mi id="S3.E16.m1.2.2.1.1.2.2.2.3.2" xref="S3.E16.m1.2.2.1.1.2.2.2.3.2.cmml">s</mi><mo id="S3.E16.m1.2.2.1.1.2.2.2.3.1" xref="S3.E16.m1.2.2.1.1.2.2.2.3.1.cmml">=</mo><mn id="S3.E16.m1.2.2.1.1.2.2.2.3.3" xref="S3.E16.m1.2.2.1.1.2.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E16.m1.2.2.1.1.2.2.3" xref="S3.E16.m1.2.2.1.1.2.2.3.cmml">S</mi></munderover><mrow id="S3.E16.m1.2.2.1.1.2.1" xref="S3.E16.m1.2.2.1.1.2.1.cmml"><mi id="S3.E16.m1.2.2.1.1.2.1.3" xref="S3.E16.m1.2.2.1.1.2.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E16.m1.2.2.1.1.2.1.2" xref="S3.E16.m1.2.2.1.1.2.1.2.cmml">​</mo><mrow id="S3.E16.m1.2.2.1.1.2.1.1.1" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.cmml"><mo id="S3.E16.m1.2.2.1.1.2.1.1.1.2" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E16.m1.2.2.1.1.2.1.1.1.1" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.cmml"><msub id="S3.E16.m1.2.2.1.1.2.1.1.1.1.3" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.cmml"><mi id="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.2" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.2.cmml">y</mi><mi id="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.3" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.3.cmml">s</mi></msub><mo id="S3.E16.m1.2.2.1.1.2.1.1.1.1.2" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.2.cmml">∣</mo><mrow id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.2.cmml"><msub id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.2" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.2" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.1" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.2" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.2.cmml">s</mi><mo id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.1" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.3" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.2" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E16.m1.1.1" xref="S3.E16.m1.1.1.cmml">H</mi></mrow></mrow><mo id="S3.E16.m1.2.2.1.1.2.1.1.1.3" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E16.m1.2.2.1.2" xref="S3.E16.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E16.m1.2b"><apply id="S3.E16.m1.2.2.1.1.cmml" xref="S3.E16.m1.2.2.1"><eq id="S3.E16.m1.2.2.1.1.3.cmml" xref="S3.E16.m1.2.2.1.1.3"></eq><apply id="S3.E16.m1.2.2.1.1.1.cmml" xref="S3.E16.m1.2.2.1.1.1"><times id="S3.E16.m1.2.2.1.1.1.2.cmml" xref="S3.E16.m1.2.2.1.1.1.2"></times><apply id="S3.E16.m1.2.2.1.1.1.3.cmml" xref="S3.E16.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E16.m1.2.2.1.1.1.3.1.cmml" xref="S3.E16.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E16.m1.2.2.1.1.1.3.2.cmml" xref="S3.E16.m1.2.2.1.1.1.3.2">𝑃</ci><ci id="S3.E16.m1.2.2.1.1.1.3.3a.cmml" xref="S3.E16.m1.2.2.1.1.1.3.3"><mtext mathsize="70%" id="S3.E16.m1.2.2.1.1.1.3.3.cmml" xref="S3.E16.m1.2.2.1.1.1.3.3">att</mtext></ci></apply><apply id="S3.E16.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E16.m1.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.E16.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E16.m1.2.2.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E16.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E16.m1.2.2.1.1.1.1.1.1.2">𝑌</ci><ci id="S3.E16.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E16.m1.2.2.1.1.1.1.1.1.3">𝑋</ci></apply></apply><apply id="S3.E16.m1.2.2.1.1.2.cmml" xref="S3.E16.m1.2.2.1.1.2"><apply id="S3.E16.m1.2.2.1.1.2.2.cmml" xref="S3.E16.m1.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.E16.m1.2.2.1.1.2.2.1.cmml" xref="S3.E16.m1.2.2.1.1.2.2">superscript</csymbol><apply id="S3.E16.m1.2.2.1.1.2.2.2.cmml" xref="S3.E16.m1.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.E16.m1.2.2.1.1.2.2.2.1.cmml" xref="S3.E16.m1.2.2.1.1.2.2">subscript</csymbol><csymbol cd="latexml" id="S3.E16.m1.2.2.1.1.2.2.2.2.cmml" xref="S3.E16.m1.2.2.1.1.2.2.2.2">product</csymbol><apply id="S3.E16.m1.2.2.1.1.2.2.2.3.cmml" xref="S3.E16.m1.2.2.1.1.2.2.2.3"><eq id="S3.E16.m1.2.2.1.1.2.2.2.3.1.cmml" xref="S3.E16.m1.2.2.1.1.2.2.2.3.1"></eq><ci id="S3.E16.m1.2.2.1.1.2.2.2.3.2.cmml" xref="S3.E16.m1.2.2.1.1.2.2.2.3.2">𝑠</ci><cn type="integer" id="S3.E16.m1.2.2.1.1.2.2.2.3.3.cmml" xref="S3.E16.m1.2.2.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S3.E16.m1.2.2.1.1.2.2.3.cmml" xref="S3.E16.m1.2.2.1.1.2.2.3">𝑆</ci></apply><apply id="S3.E16.m1.2.2.1.1.2.1.cmml" xref="S3.E16.m1.2.2.1.1.2.1"><times id="S3.E16.m1.2.2.1.1.2.1.2.cmml" xref="S3.E16.m1.2.2.1.1.2.1.2"></times><ci id="S3.E16.m1.2.2.1.1.2.1.3.cmml" xref="S3.E16.m1.2.2.1.1.2.1.3">𝑃</ci><apply id="S3.E16.m1.2.2.1.1.2.1.1.1.1.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E16.m1.2.2.1.1.2.1.1.1.1.2.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.2">conditional</csymbol><apply id="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.1.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.2.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.2">𝑦</ci><ci id="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.3.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.3.3">𝑠</ci></apply><list id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1"><apply id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3"><ci id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.1">:</ci><cn type="integer" id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.2">1</cn><apply id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3"><minus id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.2">𝑠</ci><cn type="integer" id="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E16.m1.2.2.1.1.2.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply><ci id="S3.E16.m1.1.1.cmml" xref="S3.E16.m1.1.1">𝐻</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E16.m1.2c">P_{\text{att}}(Y\mid X)=\prod_{s=1}^{S}P\left(y_{s}\mid y_{1:s-1},H\right).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(16)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p1.5" class="ltx_p">Specifically, the token history <math id="S3.SS4.p1.2.m1.1" class="ltx_Math" alttext="y_{1:s-1}" display="inline"><semantics id="S3.SS4.p1.2.m1.1a"><msub id="S3.SS4.p1.2.m1.1.1" xref="S3.SS4.p1.2.m1.1.1.cmml"><mi id="S3.SS4.p1.2.m1.1.1.2" xref="S3.SS4.p1.2.m1.1.1.2.cmml">y</mi><mrow id="S3.SS4.p1.2.m1.1.1.3" xref="S3.SS4.p1.2.m1.1.1.3.cmml"><mn id="S3.SS4.p1.2.m1.1.1.3.2" xref="S3.SS4.p1.2.m1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.SS4.p1.2.m1.1.1.3.1" xref="S3.SS4.p1.2.m1.1.1.3.1.cmml">:</mo><mrow id="S3.SS4.p1.2.m1.1.1.3.3" xref="S3.SS4.p1.2.m1.1.1.3.3.cmml"><mi id="S3.SS4.p1.2.m1.1.1.3.3.2" xref="S3.SS4.p1.2.m1.1.1.3.3.2.cmml">s</mi><mo id="S3.SS4.p1.2.m1.1.1.3.3.1" xref="S3.SS4.p1.2.m1.1.1.3.3.1.cmml">−</mo><mn id="S3.SS4.p1.2.m1.1.1.3.3.3" xref="S3.SS4.p1.2.m1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m1.1b"><apply id="S3.SS4.p1.2.m1.1.1.cmml" xref="S3.SS4.p1.2.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.2.m1.1.1.1.cmml" xref="S3.SS4.p1.2.m1.1.1">subscript</csymbol><ci id="S3.SS4.p1.2.m1.1.1.2.cmml" xref="S3.SS4.p1.2.m1.1.1.2">𝑦</ci><apply id="S3.SS4.p1.2.m1.1.1.3.cmml" xref="S3.SS4.p1.2.m1.1.1.3"><ci id="S3.SS4.p1.2.m1.1.1.3.1.cmml" xref="S3.SS4.p1.2.m1.1.1.3.1">:</ci><cn type="integer" id="S3.SS4.p1.2.m1.1.1.3.2.cmml" xref="S3.SS4.p1.2.m1.1.1.3.2">1</cn><apply id="S3.SS4.p1.2.m1.1.1.3.3.cmml" xref="S3.SS4.p1.2.m1.1.1.3.3"><minus id="S3.SS4.p1.2.m1.1.1.3.3.1.cmml" xref="S3.SS4.p1.2.m1.1.1.3.3.1"></minus><ci id="S3.SS4.p1.2.m1.1.1.3.3.2.cmml" xref="S3.SS4.p1.2.m1.1.1.3.3.2">𝑠</ci><cn type="integer" id="S3.SS4.p1.2.m1.1.1.3.3.3.cmml" xref="S3.SS4.p1.2.m1.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m1.1c">y_{1:s-1}</annotation></semantics></math> is first converted to the token embeddings and fed into the <math id="S3.SS4.p1.3.m2.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS4.p1.3.m2.1a"><mi id="S3.SS4.p1.3.m2.1.1" xref="S3.SS4.p1.3.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m2.1b"><ci id="S3.SS4.p1.3.m2.1.1.cmml" xref="S3.SS4.p1.3.m2.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.3.m2.1c">M</annotation></semantics></math> transformer blocks with the hidden state sequence <math id="S3.SS4.p1.4.m3.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.SS4.p1.4.m3.1a"><mi id="S3.SS4.p1.4.m3.1.1" xref="S3.SS4.p1.4.m3.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.4.m3.1b"><ci id="S3.SS4.p1.4.m3.1.1.cmml" xref="S3.SS4.p1.4.m3.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.4.m3.1c">H</annotation></semantics></math> in Eq. (<a href="#S3.E2" title="In III-A Encoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>). Then, <math id="S3.SS4.p1.5.m4.2" class="ltx_Math" alttext="P\left(y_{s}\mid y_{1:s-1},X\right)" display="inline"><semantics id="S3.SS4.p1.5.m4.2a"><mrow id="S3.SS4.p1.5.m4.2.2" xref="S3.SS4.p1.5.m4.2.2.cmml"><mi id="S3.SS4.p1.5.m4.2.2.3" xref="S3.SS4.p1.5.m4.2.2.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.5.m4.2.2.2" xref="S3.SS4.p1.5.m4.2.2.2.cmml">​</mo><mrow id="S3.SS4.p1.5.m4.2.2.1.1" xref="S3.SS4.p1.5.m4.2.2.1.1.1.cmml"><mo id="S3.SS4.p1.5.m4.2.2.1.1.2" xref="S3.SS4.p1.5.m4.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS4.p1.5.m4.2.2.1.1.1" xref="S3.SS4.p1.5.m4.2.2.1.1.1.cmml"><msub id="S3.SS4.p1.5.m4.2.2.1.1.1.3" xref="S3.SS4.p1.5.m4.2.2.1.1.1.3.cmml"><mi id="S3.SS4.p1.5.m4.2.2.1.1.1.3.2" xref="S3.SS4.p1.5.m4.2.2.1.1.1.3.2.cmml">y</mi><mi id="S3.SS4.p1.5.m4.2.2.1.1.1.3.3" xref="S3.SS4.p1.5.m4.2.2.1.1.1.3.3.cmml">s</mi></msub><mo id="S3.SS4.p1.5.m4.2.2.1.1.1.2" xref="S3.SS4.p1.5.m4.2.2.1.1.1.2.cmml">∣</mo><mrow id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.2.cmml"><msub id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.cmml"><mi id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.2" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.cmml"><mn id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.2" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.1" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.cmml"><mi id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.2" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.2.cmml">s</mi><mo id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.1" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.3" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.2" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.2.cmml">,</mo><mi id="S3.SS4.p1.5.m4.1.1" xref="S3.SS4.p1.5.m4.1.1.cmml">X</mi></mrow></mrow><mo id="S3.SS4.p1.5.m4.2.2.1.1.3" xref="S3.SS4.p1.5.m4.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.5.m4.2b"><apply id="S3.SS4.p1.5.m4.2.2.cmml" xref="S3.SS4.p1.5.m4.2.2"><times id="S3.SS4.p1.5.m4.2.2.2.cmml" xref="S3.SS4.p1.5.m4.2.2.2"></times><ci id="S3.SS4.p1.5.m4.2.2.3.cmml" xref="S3.SS4.p1.5.m4.2.2.3">𝑃</ci><apply id="S3.SS4.p1.5.m4.2.2.1.1.1.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1"><csymbol cd="latexml" id="S3.SS4.p1.5.m4.2.2.1.1.1.2.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.2">conditional</csymbol><apply id="S3.SS4.p1.5.m4.2.2.1.1.1.3.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p1.5.m4.2.2.1.1.1.3.1.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.3">subscript</csymbol><ci id="S3.SS4.p1.5.m4.2.2.1.1.1.3.2.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.3.2">𝑦</ci><ci id="S3.SS4.p1.5.m4.2.2.1.1.1.3.3.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.3.3">𝑠</ci></apply><list id="S3.SS4.p1.5.m4.2.2.1.1.1.1.2.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1"><apply id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.1.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.2.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3"><ci id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.1">:</ci><cn type="integer" id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.2">1</cn><apply id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3"><minus id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.1.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.2.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.2">𝑠</ci><cn type="integer" id="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.3.cmml" xref="S3.SS4.p1.5.m4.2.2.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply><ci id="S3.SS4.p1.5.m4.1.1.cmml" xref="S3.SS4.p1.5.m4.1.1">𝑋</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.5.m4.2c">P\left(y_{s}\mid y_{1:s-1},X\right)</annotation></semantics></math> is calculated as follows:</p>
<table id="S8.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E17"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E17.m2.2" class="ltx_Math" alttext="\displaystyle\bm{r}_{s}=\mathrm{Transformer}_{s}(\mathrm{Embedding}(y_{1:s-1}),H)," display="inline"><semantics id="S3.E17.m2.2a"><mrow id="S3.E17.m2.2.2.1" xref="S3.E17.m2.2.2.1.1.cmml"><mrow id="S3.E17.m2.2.2.1.1" xref="S3.E17.m2.2.2.1.1.cmml"><msub id="S3.E17.m2.2.2.1.1.3" xref="S3.E17.m2.2.2.1.1.3.cmml"><mi id="S3.E17.m2.2.2.1.1.3.2" xref="S3.E17.m2.2.2.1.1.3.2.cmml">𝒓</mi><mi id="S3.E17.m2.2.2.1.1.3.3" xref="S3.E17.m2.2.2.1.1.3.3.cmml">s</mi></msub><mo id="S3.E17.m2.2.2.1.1.2" xref="S3.E17.m2.2.2.1.1.2.cmml">=</mo><mrow id="S3.E17.m2.2.2.1.1.1" xref="S3.E17.m2.2.2.1.1.1.cmml"><msub id="S3.E17.m2.2.2.1.1.1.3" xref="S3.E17.m2.2.2.1.1.1.3.cmml"><mi id="S3.E17.m2.2.2.1.1.1.3.2" xref="S3.E17.m2.2.2.1.1.1.3.2.cmml">Transformer</mi><mi id="S3.E17.m2.2.2.1.1.1.3.3" xref="S3.E17.m2.2.2.1.1.1.3.3.cmml">s</mi></msub><mo lspace="0em" rspace="0em" id="S3.E17.m2.2.2.1.1.1.2" xref="S3.E17.m2.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E17.m2.2.2.1.1.1.1.1" xref="S3.E17.m2.2.2.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E17.m2.2.2.1.1.1.1.1.2" xref="S3.E17.m2.2.2.1.1.1.1.2.cmml">(</mo><mrow id="S3.E17.m2.2.2.1.1.1.1.1.1" xref="S3.E17.m2.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E17.m2.2.2.1.1.1.1.1.1.3" xref="S3.E17.m2.2.2.1.1.1.1.1.1.3.cmml">Embedding</mi><mo lspace="0em" rspace="0em" id="S3.E17.m2.2.2.1.1.1.1.1.1.2" xref="S3.E17.m2.2.2.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.2.cmml">s</mi><mo id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo stretchy="false" id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E17.m2.2.2.1.1.1.1.1.3" xref="S3.E17.m2.2.2.1.1.1.1.2.cmml">,</mo><mi id="S3.E17.m2.1.1" xref="S3.E17.m2.1.1.cmml">H</mi><mo stretchy="false" id="S3.E17.m2.2.2.1.1.1.1.1.4" xref="S3.E17.m2.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E17.m2.2.2.1.2" xref="S3.E17.m2.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E17.m2.2b"><apply id="S3.E17.m2.2.2.1.1.cmml" xref="S3.E17.m2.2.2.1"><eq id="S3.E17.m2.2.2.1.1.2.cmml" xref="S3.E17.m2.2.2.1.1.2"></eq><apply id="S3.E17.m2.2.2.1.1.3.cmml" xref="S3.E17.m2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E17.m2.2.2.1.1.3.1.cmml" xref="S3.E17.m2.2.2.1.1.3">subscript</csymbol><ci id="S3.E17.m2.2.2.1.1.3.2.cmml" xref="S3.E17.m2.2.2.1.1.3.2">𝒓</ci><ci id="S3.E17.m2.2.2.1.1.3.3.cmml" xref="S3.E17.m2.2.2.1.1.3.3">𝑠</ci></apply><apply id="S3.E17.m2.2.2.1.1.1.cmml" xref="S3.E17.m2.2.2.1.1.1"><times id="S3.E17.m2.2.2.1.1.1.2.cmml" xref="S3.E17.m2.2.2.1.1.1.2"></times><apply id="S3.E17.m2.2.2.1.1.1.3.cmml" xref="S3.E17.m2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E17.m2.2.2.1.1.1.3.1.cmml" xref="S3.E17.m2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E17.m2.2.2.1.1.1.3.2.cmml" xref="S3.E17.m2.2.2.1.1.1.3.2">Transformer</ci><ci id="S3.E17.m2.2.2.1.1.1.3.3.cmml" xref="S3.E17.m2.2.2.1.1.1.3.3">𝑠</ci></apply><interval closure="open" id="S3.E17.m2.2.2.1.1.1.1.2.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1"><apply id="S3.E17.m2.2.2.1.1.1.1.1.1.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1"><times id="S3.E17.m2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.2"></times><ci id="S3.E17.m2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.3">Embedding</ci><apply id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3"><ci id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.1">:</ci><cn type="integer" id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.2">1</cn><apply id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3"><minus id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.2">𝑠</ci><cn type="integer" id="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E17.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply></apply><ci id="S3.E17.m2.1.1.cmml" xref="S3.E17.m2.1.1">𝐻</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E17.m2.2c">\displaystyle\bm{r}_{s}=\mathrm{Transformer}_{s}(\mathrm{Embedding}(y_{1:s-1}),H),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(17)</span></td>
</tr></tbody>
<tbody id="S3.E18"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E18.m1.2" class="ltx_Math" alttext="\displaystyle P\left(y_{s}\mid y_{1:s-1},X\right)=\mathrm{Softmax}(\mathrm{Linear}(\bm{r}_{s}))," display="inline"><semantics id="S3.E18.m1.2a"><mrow id="S3.E18.m1.2.2.1" xref="S3.E18.m1.2.2.1.1.cmml"><mrow id="S3.E18.m1.2.2.1.1" xref="S3.E18.m1.2.2.1.1.cmml"><mrow id="S3.E18.m1.2.2.1.1.1" xref="S3.E18.m1.2.2.1.1.1.cmml"><mi id="S3.E18.m1.2.2.1.1.1.3" xref="S3.E18.m1.2.2.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.E18.m1.2.2.1.1.1.2" xref="S3.E18.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E18.m1.2.2.1.1.1.1.1" xref="S3.E18.m1.2.2.1.1.1.1.1.1.cmml"><mo id="S3.E18.m1.2.2.1.1.1.1.1.2" xref="S3.E18.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E18.m1.2.2.1.1.1.1.1.1" xref="S3.E18.m1.2.2.1.1.1.1.1.1.cmml"><msub id="S3.E18.m1.2.2.1.1.1.1.1.1.3" xref="S3.E18.m1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S3.E18.m1.2.2.1.1.1.1.1.1.3.2" xref="S3.E18.m1.2.2.1.1.1.1.1.1.3.2.cmml">y</mi><mi id="S3.E18.m1.2.2.1.1.1.1.1.1.3.3" xref="S3.E18.m1.2.2.1.1.1.1.1.1.3.3.cmml">s</mi></msub><mo id="S3.E18.m1.2.2.1.1.1.1.1.1.2" xref="S3.E18.m1.2.2.1.1.1.1.1.1.2.cmml">∣</mo><mrow id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mrow id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" rspace="0.278em" id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml">:</mo><mrow id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.2.cmml">s</mi><mo id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E18.m1.1.1" xref="S3.E18.m1.1.1.cmml">X</mi></mrow></mrow><mo id="S3.E18.m1.2.2.1.1.1.1.1.3" xref="S3.E18.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E18.m1.2.2.1.1.3" xref="S3.E18.m1.2.2.1.1.3.cmml">=</mo><mrow id="S3.E18.m1.2.2.1.1.2" xref="S3.E18.m1.2.2.1.1.2.cmml"><mi id="S3.E18.m1.2.2.1.1.2.3" xref="S3.E18.m1.2.2.1.1.2.3.cmml">Softmax</mi><mo lspace="0em" rspace="0em" id="S3.E18.m1.2.2.1.1.2.2" xref="S3.E18.m1.2.2.1.1.2.2.cmml">​</mo><mrow id="S3.E18.m1.2.2.1.1.2.1.1" xref="S3.E18.m1.2.2.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S3.E18.m1.2.2.1.1.2.1.1.2" xref="S3.E18.m1.2.2.1.1.2.1.1.1.cmml">(</mo><mrow id="S3.E18.m1.2.2.1.1.2.1.1.1" xref="S3.E18.m1.2.2.1.1.2.1.1.1.cmml"><mi id="S3.E18.m1.2.2.1.1.2.1.1.1.3" xref="S3.E18.m1.2.2.1.1.2.1.1.1.3.cmml">Linear</mi><mo lspace="0em" rspace="0em" id="S3.E18.m1.2.2.1.1.2.1.1.1.2" xref="S3.E18.m1.2.2.1.1.2.1.1.1.2.cmml">​</mo><mrow id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.2" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mi id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.2" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml">𝒓</mi><mi id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.3" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml">s</mi></msub><mo stretchy="false" id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.3" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E18.m1.2.2.1.1.2.1.1.3" xref="S3.E18.m1.2.2.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E18.m1.2.2.1.2" xref="S3.E18.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E18.m1.2b"><apply id="S3.E18.m1.2.2.1.1.cmml" xref="S3.E18.m1.2.2.1"><eq id="S3.E18.m1.2.2.1.1.3.cmml" xref="S3.E18.m1.2.2.1.1.3"></eq><apply id="S3.E18.m1.2.2.1.1.1.cmml" xref="S3.E18.m1.2.2.1.1.1"><times id="S3.E18.m1.2.2.1.1.1.2.cmml" xref="S3.E18.m1.2.2.1.1.1.2"></times><ci id="S3.E18.m1.2.2.1.1.1.3.cmml" xref="S3.E18.m1.2.2.1.1.1.3">𝑃</ci><apply id="S3.E18.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.E18.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E18.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E18.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E18.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.3.2">𝑦</ci><ci id="S3.E18.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.3.3">𝑠</ci></apply><list id="S3.E18.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1"><apply id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝑦</ci><apply id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3"><ci id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.1">:</ci><cn type="integer" id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.2">1</cn><apply id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3"><minus id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.2">𝑠</ci><cn type="integer" id="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E18.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply><ci id="S3.E18.m1.1.1.cmml" xref="S3.E18.m1.1.1">𝑋</ci></list></apply></apply><apply id="S3.E18.m1.2.2.1.1.2.cmml" xref="S3.E18.m1.2.2.1.1.2"><times id="S3.E18.m1.2.2.1.1.2.2.cmml" xref="S3.E18.m1.2.2.1.1.2.2"></times><ci id="S3.E18.m1.2.2.1.1.2.3.cmml" xref="S3.E18.m1.2.2.1.1.2.3">Softmax</ci><apply id="S3.E18.m1.2.2.1.1.2.1.1.1.cmml" xref="S3.E18.m1.2.2.1.1.2.1.1"><times id="S3.E18.m1.2.2.1.1.2.1.1.1.2.cmml" xref="S3.E18.m1.2.2.1.1.2.1.1.1.2"></times><ci id="S3.E18.m1.2.2.1.1.2.1.1.1.3.cmml" xref="S3.E18.m1.2.2.1.1.2.1.1.1.3">Linear</ci><apply id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.2">𝒓</ci><ci id="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml" xref="S3.E18.m1.2.2.1.1.2.1.1.1.1.1.1.3">𝑠</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E18.m1.2c">\displaystyle P\left(y_{s}\mid y_{1:s-1},X\right)=\mathrm{Softmax}(\mathrm{Linear}(\bm{r}_{s})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(18)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p1.7" class="ltx_p">where <math id="S3.SS4.p1.6.m1.1" class="ltx_Math" alttext="\bm{r}_{s}\in\mathbb{R}^{d^{\prime}}" display="inline"><semantics id="S3.SS4.p1.6.m1.1a"><mrow id="S3.SS4.p1.6.m1.1.1" xref="S3.SS4.p1.6.m1.1.1.cmml"><msub id="S3.SS4.p1.6.m1.1.1.2" xref="S3.SS4.p1.6.m1.1.1.2.cmml"><mi id="S3.SS4.p1.6.m1.1.1.2.2" xref="S3.SS4.p1.6.m1.1.1.2.2.cmml">𝒓</mi><mi id="S3.SS4.p1.6.m1.1.1.2.3" xref="S3.SS4.p1.6.m1.1.1.2.3.cmml">s</mi></msub><mo id="S3.SS4.p1.6.m1.1.1.1" xref="S3.SS4.p1.6.m1.1.1.1.cmml">∈</mo><msup id="S3.SS4.p1.6.m1.1.1.3" xref="S3.SS4.p1.6.m1.1.1.3.cmml"><mi id="S3.SS4.p1.6.m1.1.1.3.2" xref="S3.SS4.p1.6.m1.1.1.3.2.cmml">ℝ</mi><msup id="S3.SS4.p1.6.m1.1.1.3.3" xref="S3.SS4.p1.6.m1.1.1.3.3.cmml"><mi id="S3.SS4.p1.6.m1.1.1.3.3.2" xref="S3.SS4.p1.6.m1.1.1.3.3.2.cmml">d</mi><mo id="S3.SS4.p1.6.m1.1.1.3.3.3" xref="S3.SS4.p1.6.m1.1.1.3.3.3.cmml">′</mo></msup></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.6.m1.1b"><apply id="S3.SS4.p1.6.m1.1.1.cmml" xref="S3.SS4.p1.6.m1.1.1"><in id="S3.SS4.p1.6.m1.1.1.1.cmml" xref="S3.SS4.p1.6.m1.1.1.1"></in><apply id="S3.SS4.p1.6.m1.1.1.2.cmml" xref="S3.SS4.p1.6.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS4.p1.6.m1.1.1.2.1.cmml" xref="S3.SS4.p1.6.m1.1.1.2">subscript</csymbol><ci id="S3.SS4.p1.6.m1.1.1.2.2.cmml" xref="S3.SS4.p1.6.m1.1.1.2.2">𝒓</ci><ci id="S3.SS4.p1.6.m1.1.1.2.3.cmml" xref="S3.SS4.p1.6.m1.1.1.2.3">𝑠</ci></apply><apply id="S3.SS4.p1.6.m1.1.1.3.cmml" xref="S3.SS4.p1.6.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS4.p1.6.m1.1.1.3.1.cmml" xref="S3.SS4.p1.6.m1.1.1.3">superscript</csymbol><ci id="S3.SS4.p1.6.m1.1.1.3.2.cmml" xref="S3.SS4.p1.6.m1.1.1.3.2">ℝ</ci><apply id="S3.SS4.p1.6.m1.1.1.3.3.cmml" xref="S3.SS4.p1.6.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS4.p1.6.m1.1.1.3.3.1.cmml" xref="S3.SS4.p1.6.m1.1.1.3.3">superscript</csymbol><ci id="S3.SS4.p1.6.m1.1.1.3.3.2.cmml" xref="S3.SS4.p1.6.m1.1.1.3.3.2">𝑑</ci><ci id="S3.SS4.p1.6.m1.1.1.3.3.3.cmml" xref="S3.SS4.p1.6.m1.1.1.3.3.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.6.m1.1c">\bm{r}_{s}\in\mathbb{R}^{d^{\prime}}</annotation></semantics></math> represents the <math id="S3.SS4.p1.7.m2.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.SS4.p1.7.m2.1a"><mi id="S3.SS4.p1.7.m2.1.1" xref="S3.SS4.p1.7.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.7.m2.1b"><ci id="S3.SS4.p1.7.m2.1.1.cmml" xref="S3.SS4.p1.7.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.7.m2.1c">s</annotation></semantics></math>-th hidden state vector.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.4" class="ltx_p">Each transformer block in Eq. (<a href="#S3.E17" title="In III-D Attention-based encoder-decoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17</span></a>) comprises an MHSA layer, a multiheaded cross-attention layer (MHCA), and a FFN layer with LN layers and residual connections as follows:</p>
<table id="S8.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E19"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E19.m1.1" class="ltx_Math" alttext="\displaystyle V^{\prime}_{m}={V_{m}}+\mathrm{MHSA}(\mathrm{LN}({V_{m}}))," display="inline"><semantics id="S3.E19.m1.1a"><mrow id="S3.E19.m1.1.1.1" xref="S3.E19.m1.1.1.1.1.cmml"><mrow id="S3.E19.m1.1.1.1.1" xref="S3.E19.m1.1.1.1.1.cmml"><msubsup id="S3.E19.m1.1.1.1.1.3" xref="S3.E19.m1.1.1.1.1.3.cmml"><mi id="S3.E19.m1.1.1.1.1.3.2.2" xref="S3.E19.m1.1.1.1.1.3.2.2.cmml">V</mi><mi id="S3.E19.m1.1.1.1.1.3.3" xref="S3.E19.m1.1.1.1.1.3.3.cmml">m</mi><mo id="S3.E19.m1.1.1.1.1.3.2.3" xref="S3.E19.m1.1.1.1.1.3.2.3.cmml">′</mo></msubsup><mo id="S3.E19.m1.1.1.1.1.2" xref="S3.E19.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E19.m1.1.1.1.1.1" xref="S3.E19.m1.1.1.1.1.1.cmml"><msub id="S3.E19.m1.1.1.1.1.1.3" xref="S3.E19.m1.1.1.1.1.1.3.cmml"><mi id="S3.E19.m1.1.1.1.1.1.3.2" xref="S3.E19.m1.1.1.1.1.1.3.2.cmml">V</mi><mi id="S3.E19.m1.1.1.1.1.1.3.3" xref="S3.E19.m1.1.1.1.1.1.3.3.cmml">m</mi></msub><mo id="S3.E19.m1.1.1.1.1.1.2" xref="S3.E19.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="S3.E19.m1.1.1.1.1.1.1" xref="S3.E19.m1.1.1.1.1.1.1.cmml"><mi id="S3.E19.m1.1.1.1.1.1.1.3" xref="S3.E19.m1.1.1.1.1.1.1.3.cmml">MHSA</mi><mo lspace="0em" rspace="0em" id="S3.E19.m1.1.1.1.1.1.1.2" xref="S3.E19.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E19.m1.1.1.1.1.1.1.1.1" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E19.m1.1.1.1.1.1.1.1.1.2" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E19.m1.1.1.1.1.1.1.1.1.1" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E19.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.3.cmml">LN</mi><mo lspace="0em" rspace="0em" id="S3.E19.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">V</mi><mi id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E19.m1.1.1.1.1.1.1.1.1.3" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E19.m1.1.1.1.2" xref="S3.E19.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E19.m1.1b"><apply id="S3.E19.m1.1.1.1.1.cmml" xref="S3.E19.m1.1.1.1"><eq id="S3.E19.m1.1.1.1.1.2.cmml" xref="S3.E19.m1.1.1.1.1.2"></eq><apply id="S3.E19.m1.1.1.1.1.3.cmml" xref="S3.E19.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E19.m1.1.1.1.1.3.1.cmml" xref="S3.E19.m1.1.1.1.1.3">subscript</csymbol><apply id="S3.E19.m1.1.1.1.1.3.2.cmml" xref="S3.E19.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E19.m1.1.1.1.1.3.2.1.cmml" xref="S3.E19.m1.1.1.1.1.3">superscript</csymbol><ci id="S3.E19.m1.1.1.1.1.3.2.2.cmml" xref="S3.E19.m1.1.1.1.1.3.2.2">𝑉</ci><ci id="S3.E19.m1.1.1.1.1.3.2.3.cmml" xref="S3.E19.m1.1.1.1.1.3.2.3">′</ci></apply><ci id="S3.E19.m1.1.1.1.1.3.3.cmml" xref="S3.E19.m1.1.1.1.1.3.3">𝑚</ci></apply><apply id="S3.E19.m1.1.1.1.1.1.cmml" xref="S3.E19.m1.1.1.1.1.1"><plus id="S3.E19.m1.1.1.1.1.1.2.cmml" xref="S3.E19.m1.1.1.1.1.1.2"></plus><apply id="S3.E19.m1.1.1.1.1.1.3.cmml" xref="S3.E19.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E19.m1.1.1.1.1.1.3.1.cmml" xref="S3.E19.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E19.m1.1.1.1.1.1.3.2.cmml" xref="S3.E19.m1.1.1.1.1.1.3.2">𝑉</ci><ci id="S3.E19.m1.1.1.1.1.1.3.3.cmml" xref="S3.E19.m1.1.1.1.1.1.3.3">𝑚</ci></apply><apply id="S3.E19.m1.1.1.1.1.1.1.cmml" xref="S3.E19.m1.1.1.1.1.1.1"><times id="S3.E19.m1.1.1.1.1.1.1.2.cmml" xref="S3.E19.m1.1.1.1.1.1.1.2"></times><ci id="S3.E19.m1.1.1.1.1.1.1.3.cmml" xref="S3.E19.m1.1.1.1.1.1.1.3">MHSA</ci><apply id="S3.E19.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E19.m1.1.1.1.1.1.1.1.1"><times id="S3.E19.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E19.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.3">LN</ci><apply id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑉</ci><ci id="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E19.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑚</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E19.m1.1c">\displaystyle V^{\prime}_{m}={V_{m}}+\mathrm{MHSA}(\mathrm{LN}({V_{m}})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(19)</span></td>
</tr></tbody>
<tbody id="S3.E20"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E20.m2.2" class="ltx_Math" alttext="\displaystyle V^{\prime\prime}_{m}=V^{\prime}_{m}+\mathrm{MHCA}(\mathrm{LN}(V^{\prime}_{m}),H)," display="inline"><semantics id="S3.E20.m2.2a"><mrow id="S3.E20.m2.2.2.1" xref="S3.E20.m2.2.2.1.1.cmml"><mrow id="S3.E20.m2.2.2.1.1" xref="S3.E20.m2.2.2.1.1.cmml"><msubsup id="S3.E20.m2.2.2.1.1.3" xref="S3.E20.m2.2.2.1.1.3.cmml"><mi id="S3.E20.m2.2.2.1.1.3.2.2" xref="S3.E20.m2.2.2.1.1.3.2.2.cmml">V</mi><mi id="S3.E20.m2.2.2.1.1.3.3" xref="S3.E20.m2.2.2.1.1.3.3.cmml">m</mi><mo id="S3.E20.m2.2.2.1.1.3.2.3" xref="S3.E20.m2.2.2.1.1.3.2.3.cmml">′′</mo></msubsup><mo id="S3.E20.m2.2.2.1.1.2" xref="S3.E20.m2.2.2.1.1.2.cmml">=</mo><mrow id="S3.E20.m2.2.2.1.1.1" xref="S3.E20.m2.2.2.1.1.1.cmml"><msubsup id="S3.E20.m2.2.2.1.1.1.3" xref="S3.E20.m2.2.2.1.1.1.3.cmml"><mi id="S3.E20.m2.2.2.1.1.1.3.2.2" xref="S3.E20.m2.2.2.1.1.1.3.2.2.cmml">V</mi><mi id="S3.E20.m2.2.2.1.1.1.3.3" xref="S3.E20.m2.2.2.1.1.1.3.3.cmml">m</mi><mo id="S3.E20.m2.2.2.1.1.1.3.2.3" xref="S3.E20.m2.2.2.1.1.1.3.2.3.cmml">′</mo></msubsup><mo id="S3.E20.m2.2.2.1.1.1.2" xref="S3.E20.m2.2.2.1.1.1.2.cmml">+</mo><mrow id="S3.E20.m2.2.2.1.1.1.1" xref="S3.E20.m2.2.2.1.1.1.1.cmml"><mi id="S3.E20.m2.2.2.1.1.1.1.3" xref="S3.E20.m2.2.2.1.1.1.1.3.cmml">MHCA</mi><mo lspace="0em" rspace="0em" id="S3.E20.m2.2.2.1.1.1.1.2" xref="S3.E20.m2.2.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E20.m2.2.2.1.1.1.1.1.1" xref="S3.E20.m2.2.2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E20.m2.2.2.1.1.1.1.1.1.2" xref="S3.E20.m2.2.2.1.1.1.1.1.2.cmml">(</mo><mrow id="S3.E20.m2.2.2.1.1.1.1.1.1.1" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E20.m2.2.2.1.1.1.1.1.1.1.3" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.3.cmml">LN</mi><mo lspace="0em" rspace="0em" id="S3.E20.m2.2.2.1.1.1.1.1.1.1.2" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml">V</mi><mi id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">m</mi><mo id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml">′</mo></msubsup><mo stretchy="false" id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E20.m2.2.2.1.1.1.1.1.1.3" xref="S3.E20.m2.2.2.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E20.m2.1.1" xref="S3.E20.m2.1.1.cmml">H</mi><mo stretchy="false" id="S3.E20.m2.2.2.1.1.1.1.1.1.4" xref="S3.E20.m2.2.2.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E20.m2.2.2.1.2" xref="S3.E20.m2.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E20.m2.2b"><apply id="S3.E20.m2.2.2.1.1.cmml" xref="S3.E20.m2.2.2.1"><eq id="S3.E20.m2.2.2.1.1.2.cmml" xref="S3.E20.m2.2.2.1.1.2"></eq><apply id="S3.E20.m2.2.2.1.1.3.cmml" xref="S3.E20.m2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E20.m2.2.2.1.1.3.1.cmml" xref="S3.E20.m2.2.2.1.1.3">subscript</csymbol><apply id="S3.E20.m2.2.2.1.1.3.2.cmml" xref="S3.E20.m2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E20.m2.2.2.1.1.3.2.1.cmml" xref="S3.E20.m2.2.2.1.1.3">superscript</csymbol><ci id="S3.E20.m2.2.2.1.1.3.2.2.cmml" xref="S3.E20.m2.2.2.1.1.3.2.2">𝑉</ci><ci id="S3.E20.m2.2.2.1.1.3.2.3.cmml" xref="S3.E20.m2.2.2.1.1.3.2.3">′′</ci></apply><ci id="S3.E20.m2.2.2.1.1.3.3.cmml" xref="S3.E20.m2.2.2.1.1.3.3">𝑚</ci></apply><apply id="S3.E20.m2.2.2.1.1.1.cmml" xref="S3.E20.m2.2.2.1.1.1"><plus id="S3.E20.m2.2.2.1.1.1.2.cmml" xref="S3.E20.m2.2.2.1.1.1.2"></plus><apply id="S3.E20.m2.2.2.1.1.1.3.cmml" xref="S3.E20.m2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E20.m2.2.2.1.1.1.3.1.cmml" xref="S3.E20.m2.2.2.1.1.1.3">subscript</csymbol><apply id="S3.E20.m2.2.2.1.1.1.3.2.cmml" xref="S3.E20.m2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E20.m2.2.2.1.1.1.3.2.1.cmml" xref="S3.E20.m2.2.2.1.1.1.3">superscript</csymbol><ci id="S3.E20.m2.2.2.1.1.1.3.2.2.cmml" xref="S3.E20.m2.2.2.1.1.1.3.2.2">𝑉</ci><ci id="S3.E20.m2.2.2.1.1.1.3.2.3.cmml" xref="S3.E20.m2.2.2.1.1.1.3.2.3">′</ci></apply><ci id="S3.E20.m2.2.2.1.1.1.3.3.cmml" xref="S3.E20.m2.2.2.1.1.1.3.3">𝑚</ci></apply><apply id="S3.E20.m2.2.2.1.1.1.1.cmml" xref="S3.E20.m2.2.2.1.1.1.1"><times id="S3.E20.m2.2.2.1.1.1.1.2.cmml" xref="S3.E20.m2.2.2.1.1.1.1.2"></times><ci id="S3.E20.m2.2.2.1.1.1.1.3.cmml" xref="S3.E20.m2.2.2.1.1.1.1.3">MHCA</ci><interval closure="open" id="S3.E20.m2.2.2.1.1.1.1.1.2.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1"><apply id="S3.E20.m2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1"><times id="S3.E20.m2.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.2"></times><ci id="S3.E20.m2.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.3">LN</ci><apply id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.2">𝑉</ci><ci id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.2.3">′</ci></apply><ci id="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E20.m2.2.2.1.1.1.1.1.1.1.1.1.1.3">𝑚</ci></apply></apply><ci id="S3.E20.m2.1.1.cmml" xref="S3.E20.m2.1.1">𝐻</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E20.m2.2c">\displaystyle V^{\prime\prime}_{m}=V^{\prime}_{m}+\mathrm{MHCA}(\mathrm{LN}(V^{\prime}_{m}),H),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(20)</span></td>
</tr></tbody>
<tbody id="S3.E21"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E21.m1.1" class="ltx_Math" alttext="\displaystyle V^{\prime\prime\prime}_{m}=V^{\prime\prime}_{m}+\mathrm{FFN}(\mathrm{LN}(V^{\prime\prime}_{m}))," display="inline"><semantics id="S3.E21.m1.1a"><mrow id="S3.E21.m1.1.1.1" xref="S3.E21.m1.1.1.1.1.cmml"><mrow id="S3.E21.m1.1.1.1.1" xref="S3.E21.m1.1.1.1.1.cmml"><msubsup id="S3.E21.m1.1.1.1.1.3" xref="S3.E21.m1.1.1.1.1.3.cmml"><mi id="S3.E21.m1.1.1.1.1.3.2.2" xref="S3.E21.m1.1.1.1.1.3.2.2.cmml">V</mi><mi id="S3.E21.m1.1.1.1.1.3.3" xref="S3.E21.m1.1.1.1.1.3.3.cmml">m</mi><mo id="S3.E21.m1.1.1.1.1.3.2.3" xref="S3.E21.m1.1.1.1.1.3.2.3.cmml">′′′</mo></msubsup><mo id="S3.E21.m1.1.1.1.1.2" xref="S3.E21.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E21.m1.1.1.1.1.1" xref="S3.E21.m1.1.1.1.1.1.cmml"><msubsup id="S3.E21.m1.1.1.1.1.1.3" xref="S3.E21.m1.1.1.1.1.1.3.cmml"><mi id="S3.E21.m1.1.1.1.1.1.3.2.2" xref="S3.E21.m1.1.1.1.1.1.3.2.2.cmml">V</mi><mi id="S3.E21.m1.1.1.1.1.1.3.3" xref="S3.E21.m1.1.1.1.1.1.3.3.cmml">m</mi><mo id="S3.E21.m1.1.1.1.1.1.3.2.3" xref="S3.E21.m1.1.1.1.1.1.3.2.3.cmml">′′</mo></msubsup><mo id="S3.E21.m1.1.1.1.1.1.2" xref="S3.E21.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="S3.E21.m1.1.1.1.1.1.1" xref="S3.E21.m1.1.1.1.1.1.1.cmml"><mi id="S3.E21.m1.1.1.1.1.1.1.3" xref="S3.E21.m1.1.1.1.1.1.1.3.cmml">FFN</mi><mo lspace="0em" rspace="0em" id="S3.E21.m1.1.1.1.1.1.1.2" xref="S3.E21.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E21.m1.1.1.1.1.1.1.1.1" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E21.m1.1.1.1.1.1.1.1.1.2" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E21.m1.1.1.1.1.1.1.1.1.1" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E21.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.3.cmml">LN</mi><mo lspace="0em" rspace="0em" id="S3.E21.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">V</mi><mi id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">m</mi><mo id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">′′</mo></msubsup><mo stretchy="false" id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E21.m1.1.1.1.1.1.1.1.1.3" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E21.m1.1.1.1.2" xref="S3.E21.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E21.m1.1b"><apply id="S3.E21.m1.1.1.1.1.cmml" xref="S3.E21.m1.1.1.1"><eq id="S3.E21.m1.1.1.1.1.2.cmml" xref="S3.E21.m1.1.1.1.1.2"></eq><apply id="S3.E21.m1.1.1.1.1.3.cmml" xref="S3.E21.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.1.1.3.1.cmml" xref="S3.E21.m1.1.1.1.1.3">subscript</csymbol><apply id="S3.E21.m1.1.1.1.1.3.2.cmml" xref="S3.E21.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.1.1.3.2.1.cmml" xref="S3.E21.m1.1.1.1.1.3">superscript</csymbol><ci id="S3.E21.m1.1.1.1.1.3.2.2.cmml" xref="S3.E21.m1.1.1.1.1.3.2.2">𝑉</ci><ci id="S3.E21.m1.1.1.1.1.3.2.3.cmml" xref="S3.E21.m1.1.1.1.1.3.2.3">′′′</ci></apply><ci id="S3.E21.m1.1.1.1.1.3.3.cmml" xref="S3.E21.m1.1.1.1.1.3.3">𝑚</ci></apply><apply id="S3.E21.m1.1.1.1.1.1.cmml" xref="S3.E21.m1.1.1.1.1.1"><plus id="S3.E21.m1.1.1.1.1.1.2.cmml" xref="S3.E21.m1.1.1.1.1.1.2"></plus><apply id="S3.E21.m1.1.1.1.1.1.3.cmml" xref="S3.E21.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.1.1.1.3.1.cmml" xref="S3.E21.m1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E21.m1.1.1.1.1.1.3.2.cmml" xref="S3.E21.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.1.1.1.3.2.1.cmml" xref="S3.E21.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E21.m1.1.1.1.1.1.3.2.2.cmml" xref="S3.E21.m1.1.1.1.1.1.3.2.2">𝑉</ci><ci id="S3.E21.m1.1.1.1.1.1.3.2.3.cmml" xref="S3.E21.m1.1.1.1.1.1.3.2.3">′′</ci></apply><ci id="S3.E21.m1.1.1.1.1.1.3.3.cmml" xref="S3.E21.m1.1.1.1.1.1.3.3">𝑚</ci></apply><apply id="S3.E21.m1.1.1.1.1.1.1.cmml" xref="S3.E21.m1.1.1.1.1.1.1"><times id="S3.E21.m1.1.1.1.1.1.1.2.cmml" xref="S3.E21.m1.1.1.1.1.1.1.2"></times><ci id="S3.E21.m1.1.1.1.1.1.1.3.cmml" xref="S3.E21.m1.1.1.1.1.1.1.3">FFN</ci><apply id="S3.E21.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1"><times id="S3.E21.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E21.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.3">LN</ci><apply id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑉</ci><ci id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">′′</ci></apply><ci id="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E21.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑚</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E21.m1.1c">\displaystyle V^{\prime\prime\prime}_{m}=V^{\prime\prime}_{m}+\mathrm{FFN}(\mathrm{LN}(V^{\prime\prime}_{m})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(21)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p2.3" class="ltx_p">where <math id="S3.SS4.p2.1.m1.1" class="ltx_Math" alttext="V_{m}" display="inline"><semantics id="S3.SS4.p2.1.m1.1a"><msub id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml"><mi id="S3.SS4.p2.1.m1.1.1.2" xref="S3.SS4.p2.1.m1.1.1.2.cmml">V</mi><mi id="S3.SS4.p2.1.m1.1.1.3" xref="S3.SS4.p2.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><apply id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.1.m1.1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.p2.1.m1.1.1.2.cmml" xref="S3.SS4.p2.1.m1.1.1.2">𝑉</ci><ci id="S3.SS4.p2.1.m1.1.1.3.cmml" xref="S3.SS4.p2.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">V_{m}</annotation></semantics></math> and <math id="S3.SS4.p2.2.m2.1" class="ltx_Math" alttext="V^{\prime\prime\prime}_{m}" display="inline"><semantics id="S3.SS4.p2.2.m2.1a"><msubsup id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml"><mi id="S3.SS4.p2.2.m2.1.1.2.2" xref="S3.SS4.p2.2.m2.1.1.2.2.cmml">V</mi><mi id="S3.SS4.p2.2.m2.1.1.3" xref="S3.SS4.p2.2.m2.1.1.3.cmml">m</mi><mo id="S3.SS4.p2.2.m2.1.1.2.3" xref="S3.SS4.p2.2.m2.1.1.2.3.cmml">′′′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><apply id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.2.m2.1.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1">subscript</csymbol><apply id="S3.SS4.p2.2.m2.1.1.2.cmml" xref="S3.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.2.m2.1.1.2.1.cmml" xref="S3.SS4.p2.2.m2.1.1">superscript</csymbol><ci id="S3.SS4.p2.2.m2.1.1.2.2.cmml" xref="S3.SS4.p2.2.m2.1.1.2.2">𝑉</ci><ci id="S3.SS4.p2.2.m2.1.1.2.3.cmml" xref="S3.SS4.p2.2.m2.1.1.2.3">′′′</ci></apply><ci id="S3.SS4.p2.2.m2.1.1.3.cmml" xref="S3.SS4.p2.2.m2.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">V^{\prime\prime\prime}_{m}</annotation></semantics></math> represent the input and output of the <math id="S3.SS4.p2.3.m3.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S3.SS4.p2.3.m3.1a"><mi id="S3.SS4.p2.3.m3.1.1" xref="S3.SS4.p2.3.m3.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.3.m3.1b"><ci id="S3.SS4.p2.3.m3.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.3.m3.1c">m</annotation></semantics></math>-th transformer block, respectively.</p>
</div>
<div id="S3.SS4.p3" class="ltx_para">
<p id="S3.SS4.p3.4" class="ltx_p">The MHCA in Eq. (<a href="#S3.E20" title="In III-D Attention-based encoder-decoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">20</span></a>) is stacked cross-attention layers, and each cross-attention layer can be formulated as follows:</p>
<table id="S8.EGx5" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E22"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E22.m1.3" class="ltx_Math" alttext="\displaystyle\mathrm{CrossAttn}(V^{\prime}_{m},H)=\mathrm{Softmax}\left(\frac{W^{q}V^{\prime}_{m}(W^{k}H)^{T}}{\sqrt{d^{\prime}}}\right)W^{v}H," display="inline"><semantics id="S3.E22.m1.3a"><mrow id="S3.E22.m1.3.3.1" xref="S3.E22.m1.3.3.1.1.cmml"><mrow id="S3.E22.m1.3.3.1.1" xref="S3.E22.m1.3.3.1.1.cmml"><mrow id="S3.E22.m1.3.3.1.1.1" xref="S3.E22.m1.3.3.1.1.1.cmml"><mi id="S3.E22.m1.3.3.1.1.1.3" xref="S3.E22.m1.3.3.1.1.1.3.cmml">CrossAttn</mi><mo lspace="0em" rspace="0em" id="S3.E22.m1.3.3.1.1.1.2" xref="S3.E22.m1.3.3.1.1.1.2.cmml">​</mo><mrow id="S3.E22.m1.3.3.1.1.1.1.1" xref="S3.E22.m1.3.3.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E22.m1.3.3.1.1.1.1.1.2" xref="S3.E22.m1.3.3.1.1.1.1.2.cmml">(</mo><msubsup id="S3.E22.m1.3.3.1.1.1.1.1.1" xref="S3.E22.m1.3.3.1.1.1.1.1.1.cmml"><mi id="S3.E22.m1.3.3.1.1.1.1.1.1.2.2" xref="S3.E22.m1.3.3.1.1.1.1.1.1.2.2.cmml">V</mi><mi id="S3.E22.m1.3.3.1.1.1.1.1.1.3" xref="S3.E22.m1.3.3.1.1.1.1.1.1.3.cmml">m</mi><mo id="S3.E22.m1.3.3.1.1.1.1.1.1.2.3" xref="S3.E22.m1.3.3.1.1.1.1.1.1.2.3.cmml">′</mo></msubsup><mo id="S3.E22.m1.3.3.1.1.1.1.1.3" xref="S3.E22.m1.3.3.1.1.1.1.2.cmml">,</mo><mi id="S3.E22.m1.2.2" xref="S3.E22.m1.2.2.cmml">H</mi><mo stretchy="false" id="S3.E22.m1.3.3.1.1.1.1.1.4" xref="S3.E22.m1.3.3.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E22.m1.3.3.1.1.2" xref="S3.E22.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E22.m1.3.3.1.1.3" xref="S3.E22.m1.3.3.1.1.3.cmml"><mi id="S3.E22.m1.3.3.1.1.3.2" xref="S3.E22.m1.3.3.1.1.3.2.cmml">Softmax</mi><mo lspace="0em" rspace="0em" id="S3.E22.m1.3.3.1.1.3.1" xref="S3.E22.m1.3.3.1.1.3.1.cmml">​</mo><mrow id="S3.E22.m1.3.3.1.1.3.3.2" xref="S3.E22.m1.1.1.cmml"><mo id="S3.E22.m1.3.3.1.1.3.3.2.1" xref="S3.E22.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="S3.E22.m1.1.1" xref="S3.E22.m1.1.1.cmml"><mfrac id="S3.E22.m1.1.1a" xref="S3.E22.m1.1.1.cmml"><mrow id="S3.E22.m1.1.1.1" xref="S3.E22.m1.1.1.1.cmml"><msup id="S3.E22.m1.1.1.1.3" xref="S3.E22.m1.1.1.1.3.cmml"><mi id="S3.E22.m1.1.1.1.3.2" xref="S3.E22.m1.1.1.1.3.2.cmml">W</mi><mi id="S3.E22.m1.1.1.1.3.3" xref="S3.E22.m1.1.1.1.3.3.cmml">q</mi></msup><mo lspace="0em" rspace="0em" id="S3.E22.m1.1.1.1.2" xref="S3.E22.m1.1.1.1.2.cmml">​</mo><msubsup id="S3.E22.m1.1.1.1.4" xref="S3.E22.m1.1.1.1.4.cmml"><mi id="S3.E22.m1.1.1.1.4.2.2" xref="S3.E22.m1.1.1.1.4.2.2.cmml">V</mi><mi id="S3.E22.m1.1.1.1.4.3" xref="S3.E22.m1.1.1.1.4.3.cmml">m</mi><mo id="S3.E22.m1.1.1.1.4.2.3" xref="S3.E22.m1.1.1.1.4.2.3.cmml">′</mo></msubsup><mo lspace="0em" rspace="0em" id="S3.E22.m1.1.1.1.2a" xref="S3.E22.m1.1.1.1.2.cmml">​</mo><msup id="S3.E22.m1.1.1.1.1" xref="S3.E22.m1.1.1.1.1.cmml"><mrow id="S3.E22.m1.1.1.1.1.1.1" xref="S3.E22.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E22.m1.1.1.1.1.1.1.2" xref="S3.E22.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E22.m1.1.1.1.1.1.1.1" xref="S3.E22.m1.1.1.1.1.1.1.1.cmml"><msup id="S3.E22.m1.1.1.1.1.1.1.1.2" xref="S3.E22.m1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E22.m1.1.1.1.1.1.1.1.2.2" xref="S3.E22.m1.1.1.1.1.1.1.1.2.2.cmml">W</mi><mi id="S3.E22.m1.1.1.1.1.1.1.1.2.3" xref="S3.E22.m1.1.1.1.1.1.1.1.2.3.cmml">k</mi></msup><mo lspace="0em" rspace="0em" id="S3.E22.m1.1.1.1.1.1.1.1.1" xref="S3.E22.m1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="S3.E22.m1.1.1.1.1.1.1.1.3" xref="S3.E22.m1.1.1.1.1.1.1.1.3.cmml">H</mi></mrow><mo stretchy="false" id="S3.E22.m1.1.1.1.1.1.1.3" xref="S3.E22.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mi id="S3.E22.m1.1.1.1.1.3" xref="S3.E22.m1.1.1.1.1.3.cmml">T</mi></msup></mrow><msqrt id="S3.E22.m1.1.1.3" xref="S3.E22.m1.1.1.3.cmml"><msup id="S3.E22.m1.1.1.3.2" xref="S3.E22.m1.1.1.3.2.cmml"><mi id="S3.E22.m1.1.1.3.2.2" xref="S3.E22.m1.1.1.3.2.2.cmml">d</mi><mo id="S3.E22.m1.1.1.3.2.3" xref="S3.E22.m1.1.1.3.2.3.cmml">′</mo></msup></msqrt></mfrac></mstyle><mo id="S3.E22.m1.3.3.1.1.3.3.2.2" xref="S3.E22.m1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E22.m1.3.3.1.1.3.1a" xref="S3.E22.m1.3.3.1.1.3.1.cmml">​</mo><msup id="S3.E22.m1.3.3.1.1.3.4" xref="S3.E22.m1.3.3.1.1.3.4.cmml"><mi id="S3.E22.m1.3.3.1.1.3.4.2" xref="S3.E22.m1.3.3.1.1.3.4.2.cmml">W</mi><mi id="S3.E22.m1.3.3.1.1.3.4.3" xref="S3.E22.m1.3.3.1.1.3.4.3.cmml">v</mi></msup><mo lspace="0em" rspace="0em" id="S3.E22.m1.3.3.1.1.3.1b" xref="S3.E22.m1.3.3.1.1.3.1.cmml">​</mo><mi id="S3.E22.m1.3.3.1.1.3.5" xref="S3.E22.m1.3.3.1.1.3.5.cmml">H</mi></mrow></mrow><mo id="S3.E22.m1.3.3.1.2" xref="S3.E22.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E22.m1.3b"><apply id="S3.E22.m1.3.3.1.1.cmml" xref="S3.E22.m1.3.3.1"><eq id="S3.E22.m1.3.3.1.1.2.cmml" xref="S3.E22.m1.3.3.1.1.2"></eq><apply id="S3.E22.m1.3.3.1.1.1.cmml" xref="S3.E22.m1.3.3.1.1.1"><times id="S3.E22.m1.3.3.1.1.1.2.cmml" xref="S3.E22.m1.3.3.1.1.1.2"></times><ci id="S3.E22.m1.3.3.1.1.1.3.cmml" xref="S3.E22.m1.3.3.1.1.1.3">CrossAttn</ci><interval closure="open" id="S3.E22.m1.3.3.1.1.1.1.2.cmml" xref="S3.E22.m1.3.3.1.1.1.1.1"><apply id="S3.E22.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E22.m1.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E22.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E22.m1.3.3.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E22.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E22.m1.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E22.m1.3.3.1.1.1.1.1.1.2.1.cmml" xref="S3.E22.m1.3.3.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E22.m1.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E22.m1.3.3.1.1.1.1.1.1.2.2">𝑉</ci><ci id="S3.E22.m1.3.3.1.1.1.1.1.1.2.3.cmml" xref="S3.E22.m1.3.3.1.1.1.1.1.1.2.3">′</ci></apply><ci id="S3.E22.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E22.m1.3.3.1.1.1.1.1.1.3">𝑚</ci></apply><ci id="S3.E22.m1.2.2.cmml" xref="S3.E22.m1.2.2">𝐻</ci></interval></apply><apply id="S3.E22.m1.3.3.1.1.3.cmml" xref="S3.E22.m1.3.3.1.1.3"><times id="S3.E22.m1.3.3.1.1.3.1.cmml" xref="S3.E22.m1.3.3.1.1.3.1"></times><ci id="S3.E22.m1.3.3.1.1.3.2.cmml" xref="S3.E22.m1.3.3.1.1.3.2">Softmax</ci><apply id="S3.E22.m1.1.1.cmml" xref="S3.E22.m1.3.3.1.1.3.3.2"><divide id="S3.E22.m1.1.1.2.cmml" xref="S3.E22.m1.3.3.1.1.3.3.2"></divide><apply id="S3.E22.m1.1.1.1.cmml" xref="S3.E22.m1.1.1.1"><times id="S3.E22.m1.1.1.1.2.cmml" xref="S3.E22.m1.1.1.1.2"></times><apply id="S3.E22.m1.1.1.1.3.cmml" xref="S3.E22.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.3.1.cmml" xref="S3.E22.m1.1.1.1.3">superscript</csymbol><ci id="S3.E22.m1.1.1.1.3.2.cmml" xref="S3.E22.m1.1.1.1.3.2">𝑊</ci><ci id="S3.E22.m1.1.1.1.3.3.cmml" xref="S3.E22.m1.1.1.1.3.3">𝑞</ci></apply><apply id="S3.E22.m1.1.1.1.4.cmml" xref="S3.E22.m1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.4.1.cmml" xref="S3.E22.m1.1.1.1.4">subscript</csymbol><apply id="S3.E22.m1.1.1.1.4.2.cmml" xref="S3.E22.m1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.4.2.1.cmml" xref="S3.E22.m1.1.1.1.4">superscript</csymbol><ci id="S3.E22.m1.1.1.1.4.2.2.cmml" xref="S3.E22.m1.1.1.1.4.2.2">𝑉</ci><ci id="S3.E22.m1.1.1.1.4.2.3.cmml" xref="S3.E22.m1.1.1.1.4.2.3">′</ci></apply><ci id="S3.E22.m1.1.1.1.4.3.cmml" xref="S3.E22.m1.1.1.1.4.3">𝑚</ci></apply><apply id="S3.E22.m1.1.1.1.1.cmml" xref="S3.E22.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.1.2.cmml" xref="S3.E22.m1.1.1.1.1">superscript</csymbol><apply id="S3.E22.m1.1.1.1.1.1.1.1.cmml" xref="S3.E22.m1.1.1.1.1.1.1"><times id="S3.E22.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E22.m1.1.1.1.1.1.1.1.1"></times><apply id="S3.E22.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E22.m1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E22.m1.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E22.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E22.m1.1.1.1.1.1.1.1.2.2">𝑊</ci><ci id="S3.E22.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E22.m1.1.1.1.1.1.1.1.2.3">𝑘</ci></apply><ci id="S3.E22.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E22.m1.1.1.1.1.1.1.1.3">𝐻</ci></apply><ci id="S3.E22.m1.1.1.1.1.3.cmml" xref="S3.E22.m1.1.1.1.1.3">𝑇</ci></apply></apply><apply id="S3.E22.m1.1.1.3.cmml" xref="S3.E22.m1.1.1.3"><root id="S3.E22.m1.1.1.3a.cmml" xref="S3.E22.m1.1.1.3"></root><apply id="S3.E22.m1.1.1.3.2.cmml" xref="S3.E22.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E22.m1.1.1.3.2.1.cmml" xref="S3.E22.m1.1.1.3.2">superscript</csymbol><ci id="S3.E22.m1.1.1.3.2.2.cmml" xref="S3.E22.m1.1.1.3.2.2">𝑑</ci><ci id="S3.E22.m1.1.1.3.2.3.cmml" xref="S3.E22.m1.1.1.3.2.3">′</ci></apply></apply></apply><apply id="S3.E22.m1.3.3.1.1.3.4.cmml" xref="S3.E22.m1.3.3.1.1.3.4"><csymbol cd="ambiguous" id="S3.E22.m1.3.3.1.1.3.4.1.cmml" xref="S3.E22.m1.3.3.1.1.3.4">superscript</csymbol><ci id="S3.E22.m1.3.3.1.1.3.4.2.cmml" xref="S3.E22.m1.3.3.1.1.3.4.2">𝑊</ci><ci id="S3.E22.m1.3.3.1.1.3.4.3.cmml" xref="S3.E22.m1.3.3.1.1.3.4.3">𝑣</ci></apply><ci id="S3.E22.m1.3.3.1.1.3.5.cmml" xref="S3.E22.m1.3.3.1.1.3.5">𝐻</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E22.m1.3c">\displaystyle\mathrm{CrossAttn}(V^{\prime}_{m},H)=\mathrm{Softmax}\left(\frac{W^{q}V^{\prime}_{m}(W^{k}H)^{T}}{\sqrt{d^{\prime}}}\right)W^{v}H,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(22)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p3.3" class="ltx_p">where <math id="S3.SS4.p3.1.m1.1" class="ltx_Math" alttext="W^{q}" display="inline"><semantics id="S3.SS4.p3.1.m1.1a"><msup id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml"><mi id="S3.SS4.p3.1.m1.1.1.2" xref="S3.SS4.p3.1.m1.1.1.2.cmml">W</mi><mi id="S3.SS4.p3.1.m1.1.1.3" xref="S3.SS4.p3.1.m1.1.1.3.cmml">q</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.1b"><apply id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.1.m1.1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">superscript</csymbol><ci id="S3.SS4.p3.1.m1.1.1.2.cmml" xref="S3.SS4.p3.1.m1.1.1.2">𝑊</ci><ci id="S3.SS4.p3.1.m1.1.1.3.cmml" xref="S3.SS4.p3.1.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.1c">W^{q}</annotation></semantics></math>, <math id="S3.SS4.p3.2.m2.1" class="ltx_Math" alttext="W^{k}" display="inline"><semantics id="S3.SS4.p3.2.m2.1a"><msup id="S3.SS4.p3.2.m2.1.1" xref="S3.SS4.p3.2.m2.1.1.cmml"><mi id="S3.SS4.p3.2.m2.1.1.2" xref="S3.SS4.p3.2.m2.1.1.2.cmml">W</mi><mi id="S3.SS4.p3.2.m2.1.1.3" xref="S3.SS4.p3.2.m2.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.2.m2.1b"><apply id="S3.SS4.p3.2.m2.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.2.m2.1.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1">superscript</csymbol><ci id="S3.SS4.p3.2.m2.1.1.2.cmml" xref="S3.SS4.p3.2.m2.1.1.2">𝑊</ci><ci id="S3.SS4.p3.2.m2.1.1.3.cmml" xref="S3.SS4.p3.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.2.m2.1c">W^{k}</annotation></semantics></math>, and <math id="S3.SS4.p3.3.m3.1" class="ltx_Math" alttext="W^{v}" display="inline"><semantics id="S3.SS4.p3.3.m3.1a"><msup id="S3.SS4.p3.3.m3.1.1" xref="S3.SS4.p3.3.m3.1.1.cmml"><mi id="S3.SS4.p3.3.m3.1.1.2" xref="S3.SS4.p3.3.m3.1.1.2.cmml">W</mi><mi id="S3.SS4.p3.3.m3.1.1.3" xref="S3.SS4.p3.3.m3.1.1.3.cmml">v</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.3.m3.1b"><apply id="S3.SS4.p3.3.m3.1.1.cmml" xref="S3.SS4.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.3.m3.1.1.1.cmml" xref="S3.SS4.p3.3.m3.1.1">superscript</csymbol><ci id="S3.SS4.p3.3.m3.1.1.2.cmml" xref="S3.SS4.p3.3.m3.1.1.2">𝑊</ci><ci id="S3.SS4.p3.3.m3.1.1.3.cmml" xref="S3.SS4.p3.3.m3.1.1.3">𝑣</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.3.m3.1c">W^{v}</annotation></semantics></math> represent the projection weight matrices for the query key, and vector, respectively. Here, the softmax term represents the alignment. Unlike CTC and RNN-T, which have reasonable monotonic alignment properties as discussed in Section <a href="#S3.SS2" title="III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-B</span></span></a> and <a href="#S3.SS3" title="III-C RNN-T ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-C</span></span></a>, the attention-based encoder-decoder does not maintain this constraint, which often provides irregular alignments.</p>
</div>
<div id="S3.SS4.p4" class="ltx_para">
<p id="S3.SS4.p4.1" class="ltx_p">Attention-based encoder-decoder optimizes the model parameters by minimizing the negative log-likelihood described as follows:</p>
<table id="S3.E23" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E23.m1.1" class="ltx_Math" alttext="L_{\text{att}}=-\log P_{\text{att}}(Y\mid X)." display="block"><semantics id="S3.E23.m1.1a"><mrow id="S3.E23.m1.1.1.1" xref="S3.E23.m1.1.1.1.1.cmml"><mrow id="S3.E23.m1.1.1.1.1" xref="S3.E23.m1.1.1.1.1.cmml"><msub id="S3.E23.m1.1.1.1.1.3" xref="S3.E23.m1.1.1.1.1.3.cmml"><mi id="S3.E23.m1.1.1.1.1.3.2" xref="S3.E23.m1.1.1.1.1.3.2.cmml">L</mi><mtext id="S3.E23.m1.1.1.1.1.3.3" xref="S3.E23.m1.1.1.1.1.3.3a.cmml">att</mtext></msub><mo id="S3.E23.m1.1.1.1.1.2" xref="S3.E23.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E23.m1.1.1.1.1.1" xref="S3.E23.m1.1.1.1.1.1.cmml"><mo rspace="0.167em" id="S3.E23.m1.1.1.1.1.1a" xref="S3.E23.m1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E23.m1.1.1.1.1.1.1" xref="S3.E23.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E23.m1.1.1.1.1.1.1.3" xref="S3.E23.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E23.m1.1.1.1.1.1.1.3.1" xref="S3.E23.m1.1.1.1.1.1.1.3.1.cmml">log</mi><mo lspace="0.167em" id="S3.E23.m1.1.1.1.1.1.1.3a" xref="S3.E23.m1.1.1.1.1.1.1.3.cmml">⁡</mo><msub id="S3.E23.m1.1.1.1.1.1.1.3.2" xref="S3.E23.m1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E23.m1.1.1.1.1.1.1.3.2.2" xref="S3.E23.m1.1.1.1.1.1.1.3.2.2.cmml">P</mi><mtext id="S3.E23.m1.1.1.1.1.1.1.3.2.3" xref="S3.E23.m1.1.1.1.1.1.1.3.2.3a.cmml">att</mtext></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E23.m1.1.1.1.1.1.1.2" xref="S3.E23.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E23.m1.1.1.1.1.1.1.1.1" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E23.m1.1.1.1.1.1.1.1.1.2" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E23.m1.1.1.1.1.1.1.1.1.1" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E23.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.2.cmml">Y</mi><mo id="S3.E23.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E23.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S3.E23.m1.1.1.1.1.1.1.1.1.3" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E23.m1.1.1.1.2" xref="S3.E23.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E23.m1.1b"><apply id="S3.E23.m1.1.1.1.1.cmml" xref="S3.E23.m1.1.1.1"><eq id="S3.E23.m1.1.1.1.1.2.cmml" xref="S3.E23.m1.1.1.1.1.2"></eq><apply id="S3.E23.m1.1.1.1.1.3.cmml" xref="S3.E23.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E23.m1.1.1.1.1.3.1.cmml" xref="S3.E23.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E23.m1.1.1.1.1.3.2.cmml" xref="S3.E23.m1.1.1.1.1.3.2">𝐿</ci><ci id="S3.E23.m1.1.1.1.1.3.3a.cmml" xref="S3.E23.m1.1.1.1.1.3.3"><mtext mathsize="70%" id="S3.E23.m1.1.1.1.1.3.3.cmml" xref="S3.E23.m1.1.1.1.1.3.3">att</mtext></ci></apply><apply id="S3.E23.m1.1.1.1.1.1.cmml" xref="S3.E23.m1.1.1.1.1.1"><minus id="S3.E23.m1.1.1.1.1.1.2.cmml" xref="S3.E23.m1.1.1.1.1.1"></minus><apply id="S3.E23.m1.1.1.1.1.1.1.cmml" xref="S3.E23.m1.1.1.1.1.1.1"><times id="S3.E23.m1.1.1.1.1.1.1.2.cmml" xref="S3.E23.m1.1.1.1.1.1.1.2"></times><apply id="S3.E23.m1.1.1.1.1.1.1.3.cmml" xref="S3.E23.m1.1.1.1.1.1.1.3"><log id="S3.E23.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E23.m1.1.1.1.1.1.1.3.1"></log><apply id="S3.E23.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E23.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E23.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E23.m1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E23.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E23.m1.1.1.1.1.1.1.3.2.2">𝑃</ci><ci id="S3.E23.m1.1.1.1.1.1.1.3.2.3a.cmml" xref="S3.E23.m1.1.1.1.1.1.1.3.2.3"><mtext mathsize="70%" id="S3.E23.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E23.m1.1.1.1.1.1.1.3.2.3">att</mtext></ci></apply></apply><apply id="S3.E23.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E23.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E23.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E23.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.2">𝑌</ci><ci id="S3.E23.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E23.m1.1.1.1.1.1.1.1.1.1.3">𝑋</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E23.m1.1c">L_{\text{att}}=-\log P_{\text{att}}(Y\mid X).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(23)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section id="S3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS5.4.1.1" class="ltx_text">III-E</span> </span><span id="S3.SS5.5.2" class="ltx_text ltx_font_italic">Mask-CTC</span>
</h3>

<div id="S3.SS5.p1" class="ltx_para">
<p id="S3.SS5.p1.3" class="ltx_p">Unlike the attention-based encoder-decoder model (Eq. (<a href="#S3.E16" title="In III-D Attention-based encoder-decoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">16</span></a>)), the Mask CTC estimates the entire token sequence in a non-autoregressive manner based on a masked language model (MLM) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>.
Specifically, the MLM predicts a set of masked tokens <math id="S3.SS5.p1.1.m1.1" class="ltx_Math" alttext="y_{\text{mask}}" display="inline"><semantics id="S3.SS5.p1.1.m1.1a"><msub id="S3.SS5.p1.1.m1.1.1" xref="S3.SS5.p1.1.m1.1.1.cmml"><mi id="S3.SS5.p1.1.m1.1.1.2" xref="S3.SS5.p1.1.m1.1.1.2.cmml">y</mi><mtext id="S3.SS5.p1.1.m1.1.1.3" xref="S3.SS5.p1.1.m1.1.1.3a.cmml">mask</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.1.m1.1b"><apply id="S3.SS5.p1.1.m1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.1.m1.1.1.1.cmml" xref="S3.SS5.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p1.1.m1.1.1.2.cmml" xref="S3.SS5.p1.1.m1.1.1.2">𝑦</ci><ci id="S3.SS5.p1.1.m1.1.1.3a.cmml" xref="S3.SS5.p1.1.m1.1.1.3"><mtext mathsize="70%" id="S3.SS5.p1.1.m1.1.1.3.cmml" xref="S3.SS5.p1.1.m1.1.1.3">mask</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.1.m1.1c">y_{\text{mask}}</annotation></semantics></math> conditioning on the hidden state sequence <math id="S3.SS5.p1.2.m2.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.SS5.p1.2.m2.1a"><mi id="S3.SS5.p1.2.m2.1.1" xref="S3.SS5.p1.2.m2.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.2.m2.1b"><ci id="S3.SS5.p1.2.m2.1.1.cmml" xref="S3.SS5.p1.2.m2.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.2.m2.1c">H</annotation></semantics></math> in Eq. (<a href="#S3.E2" title="In III-A Encoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) and observed (unmasked) tokens <math id="S3.SS5.p1.3.m3.1" class="ltx_Math" alttext="y_{\text{obs}}" display="inline"><semantics id="S3.SS5.p1.3.m3.1a"><msub id="S3.SS5.p1.3.m3.1.1" xref="S3.SS5.p1.3.m3.1.1.cmml"><mi id="S3.SS5.p1.3.m3.1.1.2" xref="S3.SS5.p1.3.m3.1.1.2.cmml">y</mi><mtext id="S3.SS5.p1.3.m3.1.1.3" xref="S3.SS5.p1.3.m3.1.1.3a.cmml">obs</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.3.m3.1b"><apply id="S3.SS5.p1.3.m3.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.3.m3.1.1.1.cmml" xref="S3.SS5.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS5.p1.3.m3.1.1.2.cmml" xref="S3.SS5.p1.3.m3.1.1.2">𝑦</ci><ci id="S3.SS5.p1.3.m3.1.1.3a.cmml" xref="S3.SS5.p1.3.m3.1.1.3"><mtext mathsize="70%" id="S3.SS5.p1.3.m3.1.1.3.cmml" xref="S3.SS5.p1.3.m3.1.1.3">obs</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.3.m3.1c">y_{\text{obs}}</annotation></semantics></math> as follows:</p>
<table id="S3.E24" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E24.m1.3" class="ltx_Math" alttext="P_{\text{mlm}}(y_{\text{mask}}|y_{\text{obs}},X)=\prod_{y\in y_{\text{mask}}}P_{\text{}}(y|y_{\text{obs}},H)." display="block"><semantics id="S3.E24.m1.3a"><mrow id="S3.E24.m1.3.3.1" xref="S3.E24.m1.3.3.1.1.cmml"><mrow id="S3.E24.m1.3.3.1.1" xref="S3.E24.m1.3.3.1.1.cmml"><mrow id="S3.E24.m1.3.3.1.1.1" xref="S3.E24.m1.3.3.1.1.1.cmml"><msub id="S3.E24.m1.3.3.1.1.1.3" xref="S3.E24.m1.3.3.1.1.1.3.cmml"><mi id="S3.E24.m1.3.3.1.1.1.3.2" xref="S3.E24.m1.3.3.1.1.1.3.2.cmml">P</mi><mtext id="S3.E24.m1.3.3.1.1.1.3.3" xref="S3.E24.m1.3.3.1.1.1.3.3a.cmml">mlm</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E24.m1.3.3.1.1.1.2" xref="S3.E24.m1.3.3.1.1.1.2.cmml">​</mo><mrow id="S3.E24.m1.3.3.1.1.1.1.1" xref="S3.E24.m1.3.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E24.m1.3.3.1.1.1.1.1.2" xref="S3.E24.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E24.m1.3.3.1.1.1.1.1.1" xref="S3.E24.m1.3.3.1.1.1.1.1.1.cmml"><msub id="S3.E24.m1.3.3.1.1.1.1.1.1.3" xref="S3.E24.m1.3.3.1.1.1.1.1.1.3.cmml"><mi id="S3.E24.m1.3.3.1.1.1.1.1.1.3.2" xref="S3.E24.m1.3.3.1.1.1.1.1.1.3.2.cmml">y</mi><mtext id="S3.E24.m1.3.3.1.1.1.1.1.1.3.3" xref="S3.E24.m1.3.3.1.1.1.1.1.1.3.3a.cmml">mask</mtext></msub><mo fence="false" id="S3.E24.m1.3.3.1.1.1.1.1.1.2" xref="S3.E24.m1.3.3.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mtext id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.3a.cmml">obs</mtext></msub><mo id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E24.m1.1.1" xref="S3.E24.m1.1.1.cmml">X</mi></mrow></mrow><mo stretchy="false" id="S3.E24.m1.3.3.1.1.1.1.1.3" xref="S3.E24.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E24.m1.3.3.1.1.3" xref="S3.E24.m1.3.3.1.1.3.cmml">=</mo><mrow id="S3.E24.m1.3.3.1.1.2" xref="S3.E24.m1.3.3.1.1.2.cmml"><munder id="S3.E24.m1.3.3.1.1.2.2" xref="S3.E24.m1.3.3.1.1.2.2.cmml"><mo movablelimits="false" id="S3.E24.m1.3.3.1.1.2.2.2" xref="S3.E24.m1.3.3.1.1.2.2.2.cmml">∏</mo><mrow id="S3.E24.m1.3.3.1.1.2.2.3" xref="S3.E24.m1.3.3.1.1.2.2.3.cmml"><mi id="S3.E24.m1.3.3.1.1.2.2.3.2" xref="S3.E24.m1.3.3.1.1.2.2.3.2.cmml">y</mi><mo id="S3.E24.m1.3.3.1.1.2.2.3.1" xref="S3.E24.m1.3.3.1.1.2.2.3.1.cmml">∈</mo><msub id="S3.E24.m1.3.3.1.1.2.2.3.3" xref="S3.E24.m1.3.3.1.1.2.2.3.3.cmml"><mi id="S3.E24.m1.3.3.1.1.2.2.3.3.2" xref="S3.E24.m1.3.3.1.1.2.2.3.3.2.cmml">y</mi><mtext id="S3.E24.m1.3.3.1.1.2.2.3.3.3" xref="S3.E24.m1.3.3.1.1.2.2.3.3.3a.cmml">mask</mtext></msub></mrow></munder><mrow id="S3.E24.m1.3.3.1.1.2.1" xref="S3.E24.m1.3.3.1.1.2.1.cmml"><msub id="S3.E24.m1.3.3.1.1.2.1.3" xref="S3.E24.m1.3.3.1.1.2.1.3.cmml"><mi id="S3.E24.m1.3.3.1.1.2.1.3.2" xref="S3.E24.m1.3.3.1.1.2.1.3.2.cmml">P</mi><mrow id="S3.E24.m1.3.3.1.1.2.1.3.3" xref="S3.E24.m1.3.3.1.1.2.1.3.3a.cmml"></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E24.m1.3.3.1.1.2.1.2" xref="S3.E24.m1.3.3.1.1.2.1.2.cmml">​</mo><mrow id="S3.E24.m1.3.3.1.1.2.1.1.1" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E24.m1.3.3.1.1.2.1.1.1.2" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.cmml">(</mo><mrow id="S3.E24.m1.3.3.1.1.2.1.1.1.1" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.cmml"><mi id="S3.E24.m1.3.3.1.1.2.1.1.1.1.3" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.3.cmml">y</mi><mo fence="false" id="S3.E24.m1.3.3.1.1.2.1.1.1.1.2" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.2.cmml">|</mo><mrow id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.2.cmml"><msub id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.2" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.cmml">y</mi><mtext id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.3" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.3a.cmml">obs</mtext></msub><mo id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.2" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E24.m1.2.2" xref="S3.E24.m1.2.2.cmml">H</mi></mrow></mrow><mo stretchy="false" id="S3.E24.m1.3.3.1.1.2.1.1.1.3" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E24.m1.3.3.1.2" xref="S3.E24.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E24.m1.3b"><apply id="S3.E24.m1.3.3.1.1.cmml" xref="S3.E24.m1.3.3.1"><eq id="S3.E24.m1.3.3.1.1.3.cmml" xref="S3.E24.m1.3.3.1.1.3"></eq><apply id="S3.E24.m1.3.3.1.1.1.cmml" xref="S3.E24.m1.3.3.1.1.1"><times id="S3.E24.m1.3.3.1.1.1.2.cmml" xref="S3.E24.m1.3.3.1.1.1.2"></times><apply id="S3.E24.m1.3.3.1.1.1.3.cmml" xref="S3.E24.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E24.m1.3.3.1.1.1.3.1.cmml" xref="S3.E24.m1.3.3.1.1.1.3">subscript</csymbol><ci id="S3.E24.m1.3.3.1.1.1.3.2.cmml" xref="S3.E24.m1.3.3.1.1.1.3.2">𝑃</ci><ci id="S3.E24.m1.3.3.1.1.1.3.3a.cmml" xref="S3.E24.m1.3.3.1.1.1.3.3"><mtext mathsize="70%" id="S3.E24.m1.3.3.1.1.1.3.3.cmml" xref="S3.E24.m1.3.3.1.1.1.3.3">mlm</mtext></ci></apply><apply id="S3.E24.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S3.E24.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E24.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E24.m1.3.3.1.1.1.1.1.1.3.1.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E24.m1.3.3.1.1.1.1.1.1.3.2.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.3.2">𝑦</ci><ci id="S3.E24.m1.3.3.1.1.1.1.1.1.3.3a.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.3.3"><mtext mathsize="70%" id="S3.E24.m1.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.3.3">mask</mtext></ci></apply><list id="S3.E24.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.1"><apply id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.2">𝑦</ci><ci id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E24.m1.3.3.1.1.1.1.1.1.1.1.1.3">obs</mtext></ci></apply><ci id="S3.E24.m1.1.1.cmml" xref="S3.E24.m1.1.1">𝑋</ci></list></apply></apply><apply id="S3.E24.m1.3.3.1.1.2.cmml" xref="S3.E24.m1.3.3.1.1.2"><apply id="S3.E24.m1.3.3.1.1.2.2.cmml" xref="S3.E24.m1.3.3.1.1.2.2"><csymbol cd="ambiguous" id="S3.E24.m1.3.3.1.1.2.2.1.cmml" xref="S3.E24.m1.3.3.1.1.2.2">subscript</csymbol><csymbol cd="latexml" id="S3.E24.m1.3.3.1.1.2.2.2.cmml" xref="S3.E24.m1.3.3.1.1.2.2.2">product</csymbol><apply id="S3.E24.m1.3.3.1.1.2.2.3.cmml" xref="S3.E24.m1.3.3.1.1.2.2.3"><in id="S3.E24.m1.3.3.1.1.2.2.3.1.cmml" xref="S3.E24.m1.3.3.1.1.2.2.3.1"></in><ci id="S3.E24.m1.3.3.1.1.2.2.3.2.cmml" xref="S3.E24.m1.3.3.1.1.2.2.3.2">𝑦</ci><apply id="S3.E24.m1.3.3.1.1.2.2.3.3.cmml" xref="S3.E24.m1.3.3.1.1.2.2.3.3"><csymbol cd="ambiguous" id="S3.E24.m1.3.3.1.1.2.2.3.3.1.cmml" xref="S3.E24.m1.3.3.1.1.2.2.3.3">subscript</csymbol><ci id="S3.E24.m1.3.3.1.1.2.2.3.3.2.cmml" xref="S3.E24.m1.3.3.1.1.2.2.3.3.2">𝑦</ci><ci id="S3.E24.m1.3.3.1.1.2.2.3.3.3a.cmml" xref="S3.E24.m1.3.3.1.1.2.2.3.3.3"><mtext mathsize="50%" id="S3.E24.m1.3.3.1.1.2.2.3.3.3.cmml" xref="S3.E24.m1.3.3.1.1.2.2.3.3.3">mask</mtext></ci></apply></apply></apply><apply id="S3.E24.m1.3.3.1.1.2.1.cmml" xref="S3.E24.m1.3.3.1.1.2.1"><times id="S3.E24.m1.3.3.1.1.2.1.2.cmml" xref="S3.E24.m1.3.3.1.1.2.1.2"></times><apply id="S3.E24.m1.3.3.1.1.2.1.3.cmml" xref="S3.E24.m1.3.3.1.1.2.1.3"><csymbol cd="ambiguous" id="S3.E24.m1.3.3.1.1.2.1.3.1.cmml" xref="S3.E24.m1.3.3.1.1.2.1.3">subscript</csymbol><ci id="S3.E24.m1.3.3.1.1.2.1.3.2.cmml" xref="S3.E24.m1.3.3.1.1.2.1.3.2">𝑃</ci><ci id="S3.E24.m1.3.3.1.1.2.1.3.3a.cmml" xref="S3.E24.m1.3.3.1.1.2.1.3.3"><mrow id="S3.E24.m1.3.3.1.1.2.1.3.3.cmml" xref="S3.E24.m1.3.3.1.1.2.1.3.3"></mrow></ci></apply><apply id="S3.E24.m1.3.3.1.1.2.1.1.1.1.cmml" xref="S3.E24.m1.3.3.1.1.2.1.1.1"><csymbol cd="latexml" id="S3.E24.m1.3.3.1.1.2.1.1.1.1.2.cmml" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.2">conditional</csymbol><ci id="S3.E24.m1.3.3.1.1.2.1.1.1.1.3.cmml" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.3">𝑦</ci><list id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1"><apply id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.2">𝑦</ci><ci id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.3a.cmml" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E24.m1.3.3.1.1.2.1.1.1.1.1.1.1.3">obs</mtext></ci></apply><ci id="S3.E24.m1.2.2.cmml" xref="S3.E24.m1.2.2">𝐻</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E24.m1.3c">P_{\text{mlm}}(y_{\text{mask}}|y_{\text{obs}},X)=\prod_{y\in y_{\text{mask}}}P_{\text{}}(y|y_{\text{obs}},H).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(24)</span></td>
</tr></tbody>
</table>
<p id="S3.SS5.p1.4" class="ltx_p">During training, randomly sampled tokens from the reference transcription are masked, while during inference, the low confidence tokens of the greedy CTC results are masked to generate <math id="S3.SS5.p1.4.m1.1" class="ltx_Math" alttext="y_{\text{mask}}" display="inline"><semantics id="S3.SS5.p1.4.m1.1a"><msub id="S3.SS5.p1.4.m1.1.1" xref="S3.SS5.p1.4.m1.1.1.cmml"><mi id="S3.SS5.p1.4.m1.1.1.2" xref="S3.SS5.p1.4.m1.1.1.2.cmml">y</mi><mtext id="S3.SS5.p1.4.m1.1.1.3" xref="S3.SS5.p1.4.m1.1.1.3a.cmml">mask</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p1.4.m1.1b"><apply id="S3.SS5.p1.4.m1.1.1.cmml" xref="S3.SS5.p1.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p1.4.m1.1.1.1.cmml" xref="S3.SS5.p1.4.m1.1.1">subscript</csymbol><ci id="S3.SS5.p1.4.m1.1.1.2.cmml" xref="S3.SS5.p1.4.m1.1.1.2">𝑦</ci><ci id="S3.SS5.p1.4.m1.1.1.3a.cmml" xref="S3.SS5.p1.4.m1.1.1.3"><mtext mathsize="70%" id="S3.SS5.p1.4.m1.1.1.3.cmml" xref="S3.SS5.p1.4.m1.1.1.3">mask</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p1.4.m1.1c">y_{\text{mask}}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS5.p2" class="ltx_para">
<p id="S3.SS5.p2.3" class="ltx_p">Specifically, the observed tokens <math id="S3.SS5.p2.1.m1.1" class="ltx_Math" alttext="y_{\text{obs}}" display="inline"><semantics id="S3.SS5.p2.1.m1.1a"><msub id="S3.SS5.p2.1.m1.1.1" xref="S3.SS5.p2.1.m1.1.1.cmml"><mi id="S3.SS5.p2.1.m1.1.1.2" xref="S3.SS5.p2.1.m1.1.1.2.cmml">y</mi><mtext id="S3.SS5.p2.1.m1.1.1.3" xref="S3.SS5.p2.1.m1.1.1.3a.cmml">obs</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.1.m1.1b"><apply id="S3.SS5.p2.1.m1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.1.m1.1.1.1.cmml" xref="S3.SS5.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS5.p2.1.m1.1.1.2.cmml" xref="S3.SS5.p2.1.m1.1.1.2">𝑦</ci><ci id="S3.SS5.p2.1.m1.1.1.3a.cmml" xref="S3.SS5.p2.1.m1.1.1.3"><mtext mathsize="70%" id="S3.SS5.p2.1.m1.1.1.3.cmml" xref="S3.SS5.p2.1.m1.1.1.3">obs</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.1.m1.1c">y_{\text{obs}}</annotation></semantics></math> are first converted to the token embeddings and fed into the <math id="S3.SS5.p2.2.m2.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS5.p2.2.m2.1a"><mi id="S3.SS5.p2.2.m2.1.1" xref="S3.SS5.p2.2.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.2.m2.1b"><ci id="S3.SS5.p2.2.m2.1.1.cmml" xref="S3.SS5.p2.2.m2.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.2.m2.1c">M</annotation></semantics></math> transformer blocks with hidden state sequence <math id="S3.SS5.p2.3.m3.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.SS5.p2.3.m3.1a"><mi id="S3.SS5.p2.3.m3.1.1" xref="S3.SS5.p2.3.m3.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.3.m3.1b"><ci id="S3.SS5.p2.3.m3.1.1.cmml" xref="S3.SS5.p2.3.m3.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.3.m3.1c">H</annotation></semantics></math> in Eq. (<a href="#S3.E2" title="In III-A Encoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) as follows:</p>
<table id="S8.EGx6" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E25"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E25.m1.2" class="ltx_Math" alttext="\displaystyle r_{\text{mask}}=\mathrm{Transformer_{mask}}(\mathrm{Embedding}(y_{\text{obs}}),H)," display="inline"><semantics id="S3.E25.m1.2a"><mrow id="S3.E25.m1.2.2.1" xref="S3.E25.m1.2.2.1.1.cmml"><mrow id="S3.E25.m1.2.2.1.1" xref="S3.E25.m1.2.2.1.1.cmml"><msub id="S3.E25.m1.2.2.1.1.3" xref="S3.E25.m1.2.2.1.1.3.cmml"><mi id="S3.E25.m1.2.2.1.1.3.2" xref="S3.E25.m1.2.2.1.1.3.2.cmml">r</mi><mtext id="S3.E25.m1.2.2.1.1.3.3" xref="S3.E25.m1.2.2.1.1.3.3a.cmml">mask</mtext></msub><mo id="S3.E25.m1.2.2.1.1.2" xref="S3.E25.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E25.m1.2.2.1.1.1" xref="S3.E25.m1.2.2.1.1.1.cmml"><msub id="S3.E25.m1.2.2.1.1.1.3" xref="S3.E25.m1.2.2.1.1.1.3.cmml"><mi id="S3.E25.m1.2.2.1.1.1.3.2" xref="S3.E25.m1.2.2.1.1.1.3.2.cmml">Transformer</mi><mi id="S3.E25.m1.2.2.1.1.1.3.3" xref="S3.E25.m1.2.2.1.1.1.3.3.cmml">mask</mi></msub><mo lspace="0em" rspace="0em" id="S3.E25.m1.2.2.1.1.1.2" xref="S3.E25.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E25.m1.2.2.1.1.1.1.1" xref="S3.E25.m1.2.2.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E25.m1.2.2.1.1.1.1.1.2" xref="S3.E25.m1.2.2.1.1.1.1.2.cmml">(</mo><mrow id="S3.E25.m1.2.2.1.1.1.1.1.1" xref="S3.E25.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E25.m1.2.2.1.1.1.1.1.1.3" xref="S3.E25.m1.2.2.1.1.1.1.1.1.3.cmml">Embedding</mi><mo lspace="0em" rspace="0em" id="S3.E25.m1.2.2.1.1.1.1.1.1.2" xref="S3.E25.m1.2.2.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mtext id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.3a.cmml">obs</mtext></msub><mo stretchy="false" id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E25.m1.2.2.1.1.1.1.1.3" xref="S3.E25.m1.2.2.1.1.1.1.2.cmml">,</mo><mi id="S3.E25.m1.1.1" xref="S3.E25.m1.1.1.cmml">H</mi><mo stretchy="false" id="S3.E25.m1.2.2.1.1.1.1.1.4" xref="S3.E25.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E25.m1.2.2.1.2" xref="S3.E25.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E25.m1.2b"><apply id="S3.E25.m1.2.2.1.1.cmml" xref="S3.E25.m1.2.2.1"><eq id="S3.E25.m1.2.2.1.1.2.cmml" xref="S3.E25.m1.2.2.1.1.2"></eq><apply id="S3.E25.m1.2.2.1.1.3.cmml" xref="S3.E25.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E25.m1.2.2.1.1.3.1.cmml" xref="S3.E25.m1.2.2.1.1.3">subscript</csymbol><ci id="S3.E25.m1.2.2.1.1.3.2.cmml" xref="S3.E25.m1.2.2.1.1.3.2">𝑟</ci><ci id="S3.E25.m1.2.2.1.1.3.3a.cmml" xref="S3.E25.m1.2.2.1.1.3.3"><mtext mathsize="70%" id="S3.E25.m1.2.2.1.1.3.3.cmml" xref="S3.E25.m1.2.2.1.1.3.3">mask</mtext></ci></apply><apply id="S3.E25.m1.2.2.1.1.1.cmml" xref="S3.E25.m1.2.2.1.1.1"><times id="S3.E25.m1.2.2.1.1.1.2.cmml" xref="S3.E25.m1.2.2.1.1.1.2"></times><apply id="S3.E25.m1.2.2.1.1.1.3.cmml" xref="S3.E25.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E25.m1.2.2.1.1.1.3.1.cmml" xref="S3.E25.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E25.m1.2.2.1.1.1.3.2.cmml" xref="S3.E25.m1.2.2.1.1.1.3.2">Transformer</ci><ci id="S3.E25.m1.2.2.1.1.1.3.3.cmml" xref="S3.E25.m1.2.2.1.1.1.3.3">mask</ci></apply><interval closure="open" id="S3.E25.m1.2.2.1.1.1.1.2.cmml" xref="S3.E25.m1.2.2.1.1.1.1.1"><apply id="S3.E25.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E25.m1.2.2.1.1.1.1.1.1"><times id="S3.E25.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E25.m1.2.2.1.1.1.1.1.1.2"></times><ci id="S3.E25.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E25.m1.2.2.1.1.1.1.1.1.3">Embedding</ci><apply id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝑦</ci><ci id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E25.m1.2.2.1.1.1.1.1.1.1.1.1.3">obs</mtext></ci></apply></apply><ci id="S3.E25.m1.1.1.cmml" xref="S3.E25.m1.1.1">𝐻</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E25.m1.2c">\displaystyle r_{\text{mask}}=\mathrm{Transformer_{mask}}(\mathrm{Embedding}(y_{\text{obs}}),H),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(25)</span></td>
</tr></tbody>
<tbody id="S3.E26"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E26.m1.2" class="ltx_Math" alttext="\displaystyle P_{\text{mlm}}(y_{\text{mask}}|y_{\text{obs}},X)=\mathrm{Softmax}(\mathrm{Linear}(r_{\text{mask}}))," display="inline"><semantics id="S3.E26.m1.2a"><mrow id="S3.E26.m1.2.2.1" xref="S3.E26.m1.2.2.1.1.cmml"><mrow id="S3.E26.m1.2.2.1.1" xref="S3.E26.m1.2.2.1.1.cmml"><mrow id="S3.E26.m1.2.2.1.1.1" xref="S3.E26.m1.2.2.1.1.1.cmml"><msub id="S3.E26.m1.2.2.1.1.1.3" xref="S3.E26.m1.2.2.1.1.1.3.cmml"><mi id="S3.E26.m1.2.2.1.1.1.3.2" xref="S3.E26.m1.2.2.1.1.1.3.2.cmml">P</mi><mtext id="S3.E26.m1.2.2.1.1.1.3.3" xref="S3.E26.m1.2.2.1.1.1.3.3a.cmml">mlm</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E26.m1.2.2.1.1.1.2" xref="S3.E26.m1.2.2.1.1.1.2.cmml">​</mo><mrow id="S3.E26.m1.2.2.1.1.1.1.1" xref="S3.E26.m1.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E26.m1.2.2.1.1.1.1.1.2" xref="S3.E26.m1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E26.m1.2.2.1.1.1.1.1.1" xref="S3.E26.m1.2.2.1.1.1.1.1.1.cmml"><msub id="S3.E26.m1.2.2.1.1.1.1.1.1.3" xref="S3.E26.m1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S3.E26.m1.2.2.1.1.1.1.1.1.3.2" xref="S3.E26.m1.2.2.1.1.1.1.1.1.3.2.cmml">y</mi><mtext id="S3.E26.m1.2.2.1.1.1.1.1.1.3.3" xref="S3.E26.m1.2.2.1.1.1.1.1.1.3.3a.cmml">mask</mtext></msub><mo fence="false" id="S3.E26.m1.2.2.1.1.1.1.1.1.2" xref="S3.E26.m1.2.2.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mtext id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.3a.cmml">obs</mtext></msub><mo id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E26.m1.1.1" xref="S3.E26.m1.1.1.cmml">X</mi></mrow></mrow><mo stretchy="false" id="S3.E26.m1.2.2.1.1.1.1.1.3" xref="S3.E26.m1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E26.m1.2.2.1.1.3" xref="S3.E26.m1.2.2.1.1.3.cmml">=</mo><mrow id="S3.E26.m1.2.2.1.1.2" xref="S3.E26.m1.2.2.1.1.2.cmml"><mi id="S3.E26.m1.2.2.1.1.2.3" xref="S3.E26.m1.2.2.1.1.2.3.cmml">Softmax</mi><mo lspace="0em" rspace="0em" id="S3.E26.m1.2.2.1.1.2.2" xref="S3.E26.m1.2.2.1.1.2.2.cmml">​</mo><mrow id="S3.E26.m1.2.2.1.1.2.1.1" xref="S3.E26.m1.2.2.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S3.E26.m1.2.2.1.1.2.1.1.2" xref="S3.E26.m1.2.2.1.1.2.1.1.1.cmml">(</mo><mrow id="S3.E26.m1.2.2.1.1.2.1.1.1" xref="S3.E26.m1.2.2.1.1.2.1.1.1.cmml"><mi id="S3.E26.m1.2.2.1.1.2.1.1.1.3" xref="S3.E26.m1.2.2.1.1.2.1.1.1.3.cmml">Linear</mi><mo lspace="0em" rspace="0em" id="S3.E26.m1.2.2.1.1.2.1.1.1.2" xref="S3.E26.m1.2.2.1.1.2.1.1.1.2.cmml">​</mo><mrow id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.2" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.cmml"><mi id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.2" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml">r</mi><mtext id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.3" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.3a.cmml">mask</mtext></msub><mo stretchy="false" id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.3" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E26.m1.2.2.1.1.2.1.1.3" xref="S3.E26.m1.2.2.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E26.m1.2.2.1.2" xref="S3.E26.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E26.m1.2b"><apply id="S3.E26.m1.2.2.1.1.cmml" xref="S3.E26.m1.2.2.1"><eq id="S3.E26.m1.2.2.1.1.3.cmml" xref="S3.E26.m1.2.2.1.1.3"></eq><apply id="S3.E26.m1.2.2.1.1.1.cmml" xref="S3.E26.m1.2.2.1.1.1"><times id="S3.E26.m1.2.2.1.1.1.2.cmml" xref="S3.E26.m1.2.2.1.1.1.2"></times><apply id="S3.E26.m1.2.2.1.1.1.3.cmml" xref="S3.E26.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E26.m1.2.2.1.1.1.3.1.cmml" xref="S3.E26.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E26.m1.2.2.1.1.1.3.2.cmml" xref="S3.E26.m1.2.2.1.1.1.3.2">𝑃</ci><ci id="S3.E26.m1.2.2.1.1.1.3.3a.cmml" xref="S3.E26.m1.2.2.1.1.1.3.3"><mtext mathsize="70%" id="S3.E26.m1.2.2.1.1.1.3.3.cmml" xref="S3.E26.m1.2.2.1.1.1.3.3">mlm</mtext></ci></apply><apply id="S3.E26.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.E26.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E26.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E26.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E26.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.3.2">𝑦</ci><ci id="S3.E26.m1.2.2.1.1.1.1.1.1.3.3a.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.3.3"><mtext mathsize="70%" id="S3.E26.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.3.3">mask</mtext></ci></apply><list id="S3.E26.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.1"><apply id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝑦</ci><ci id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E26.m1.2.2.1.1.1.1.1.1.1.1.1.3">obs</mtext></ci></apply><ci id="S3.E26.m1.1.1.cmml" xref="S3.E26.m1.1.1">𝑋</ci></list></apply></apply><apply id="S3.E26.m1.2.2.1.1.2.cmml" xref="S3.E26.m1.2.2.1.1.2"><times id="S3.E26.m1.2.2.1.1.2.2.cmml" xref="S3.E26.m1.2.2.1.1.2.2"></times><ci id="S3.E26.m1.2.2.1.1.2.3.cmml" xref="S3.E26.m1.2.2.1.1.2.3">Softmax</ci><apply id="S3.E26.m1.2.2.1.1.2.1.1.1.cmml" xref="S3.E26.m1.2.2.1.1.2.1.1"><times id="S3.E26.m1.2.2.1.1.2.1.1.1.2.cmml" xref="S3.E26.m1.2.2.1.1.2.1.1.1.2"></times><ci id="S3.E26.m1.2.2.1.1.2.1.1.1.3.cmml" xref="S3.E26.m1.2.2.1.1.2.1.1.1.3">Linear</ci><apply id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.2.cmml" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.2">𝑟</ci><ci id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.3a.cmml" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.3.cmml" xref="S3.E26.m1.2.2.1.1.2.1.1.1.1.1.1.3">mask</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E26.m1.2c">\displaystyle P_{\text{mlm}}(y_{\text{mask}}|y_{\text{obs}},X)=\mathrm{Softmax}(\mathrm{Linear}(r_{\text{mask}})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(26)</span></td>
</tr></tbody>
</table>
<p id="S3.SS5.p2.5" class="ltx_p">where <math id="S3.SS5.p2.4.m1.1" class="ltx_Math" alttext="r_{\text{mask}}" display="inline"><semantics id="S3.SS5.p2.4.m1.1a"><msub id="S3.SS5.p2.4.m1.1.1" xref="S3.SS5.p2.4.m1.1.1.cmml"><mi id="S3.SS5.p2.4.m1.1.1.2" xref="S3.SS5.p2.4.m1.1.1.2.cmml">r</mi><mtext id="S3.SS5.p2.4.m1.1.1.3" xref="S3.SS5.p2.4.m1.1.1.3a.cmml">mask</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.4.m1.1b"><apply id="S3.SS5.p2.4.m1.1.1.cmml" xref="S3.SS5.p2.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.4.m1.1.1.1.cmml" xref="S3.SS5.p2.4.m1.1.1">subscript</csymbol><ci id="S3.SS5.p2.4.m1.1.1.2.cmml" xref="S3.SS5.p2.4.m1.1.1.2">𝑟</ci><ci id="S3.SS5.p2.4.m1.1.1.3a.cmml" xref="S3.SS5.p2.4.m1.1.1.3"><mtext mathsize="70%" id="S3.SS5.p2.4.m1.1.1.3.cmml" xref="S3.SS5.p2.4.m1.1.1.3">mask</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.4.m1.1c">r_{\text{mask}}</annotation></semantics></math> represents the hidden state vectors.
Unlike the attention-based encoder-decoder model, the MLM predicts arbitrary subsets of masked tokens <math id="S3.SS5.p2.5.m2.1" class="ltx_Math" alttext="y_{\text{mask}}" display="inline"><semantics id="S3.SS5.p2.5.m2.1a"><msub id="S3.SS5.p2.5.m2.1.1" xref="S3.SS5.p2.5.m2.1.1.cmml"><mi id="S3.SS5.p2.5.m2.1.1.2" xref="S3.SS5.p2.5.m2.1.1.2.cmml">y</mi><mtext id="S3.SS5.p2.5.m2.1.1.3" xref="S3.SS5.p2.5.m2.1.1.3a.cmml">mask</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS5.p2.5.m2.1b"><apply id="S3.SS5.p2.5.m2.1.1.cmml" xref="S3.SS5.p2.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS5.p2.5.m2.1.1.1.cmml" xref="S3.SS5.p2.5.m2.1.1">subscript</csymbol><ci id="S3.SS5.p2.5.m2.1.1.2.cmml" xref="S3.SS5.p2.5.m2.1.1.2">𝑦</ci><ci id="S3.SS5.p2.5.m2.1.1.3a.cmml" xref="S3.SS5.p2.5.m2.1.1.3"><mtext mathsize="70%" id="S3.SS5.p2.5.m2.1.1.3.cmml" xref="S3.SS5.p2.5.m2.1.1.3">mask</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS5.p2.5.m2.1c">y_{\text{mask}}</annotation></semantics></math> in a non-autoregressive manner. This mask-based approach maintains fast parallelized inference, but unlike CTC, it accounts for label dependencies.</p>
</div>
<div id="S3.SS5.p3" class="ltx_para">
<p id="S3.SS5.p3.1" class="ltx_p">Mask-CTC optimizes the model parameters by minimizing the following negative log-likelihood as follows:</p>
<table id="S3.E27" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E27.m1.2" class="ltx_Math" alttext="L_{\text{mlm}}=-\log P_{\text{mlm}}(y_{\text{mask}}|y_{\text{obs}},X)." display="block"><semantics id="S3.E27.m1.2a"><mrow id="S3.E27.m1.2.2.1" xref="S3.E27.m1.2.2.1.1.cmml"><mrow id="S3.E27.m1.2.2.1.1" xref="S3.E27.m1.2.2.1.1.cmml"><msub id="S3.E27.m1.2.2.1.1.3" xref="S3.E27.m1.2.2.1.1.3.cmml"><mi id="S3.E27.m1.2.2.1.1.3.2" xref="S3.E27.m1.2.2.1.1.3.2.cmml">L</mi><mtext id="S3.E27.m1.2.2.1.1.3.3" xref="S3.E27.m1.2.2.1.1.3.3a.cmml">mlm</mtext></msub><mo id="S3.E27.m1.2.2.1.1.2" xref="S3.E27.m1.2.2.1.1.2.cmml">=</mo><mrow id="S3.E27.m1.2.2.1.1.1" xref="S3.E27.m1.2.2.1.1.1.cmml"><mo rspace="0.167em" id="S3.E27.m1.2.2.1.1.1a" xref="S3.E27.m1.2.2.1.1.1.cmml">−</mo><mrow id="S3.E27.m1.2.2.1.1.1.1" xref="S3.E27.m1.2.2.1.1.1.1.cmml"><mrow id="S3.E27.m1.2.2.1.1.1.1.3" xref="S3.E27.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.E27.m1.2.2.1.1.1.1.3.1" xref="S3.E27.m1.2.2.1.1.1.1.3.1.cmml">log</mi><mo lspace="0.167em" id="S3.E27.m1.2.2.1.1.1.1.3a" xref="S3.E27.m1.2.2.1.1.1.1.3.cmml">⁡</mo><msub id="S3.E27.m1.2.2.1.1.1.1.3.2" xref="S3.E27.m1.2.2.1.1.1.1.3.2.cmml"><mi id="S3.E27.m1.2.2.1.1.1.1.3.2.2" xref="S3.E27.m1.2.2.1.1.1.1.3.2.2.cmml">P</mi><mtext id="S3.E27.m1.2.2.1.1.1.1.3.2.3" xref="S3.E27.m1.2.2.1.1.1.1.3.2.3a.cmml">mlm</mtext></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E27.m1.2.2.1.1.1.1.2" xref="S3.E27.m1.2.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E27.m1.2.2.1.1.1.1.1.1" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E27.m1.2.2.1.1.1.1.1.1.2" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E27.m1.2.2.1.1.1.1.1.1.1" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.cmml"><msub id="S3.E27.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.2.cmml">y</mi><mtext id="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.3" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.3a.cmml">mask</mtext></msub><mo fence="false" id="S3.E27.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml">y</mi><mtext id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.3a.cmml">obs</mtext></msub><mo id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E27.m1.1.1" xref="S3.E27.m1.1.1.cmml">X</mi></mrow></mrow><mo stretchy="false" id="S3.E27.m1.2.2.1.1.1.1.1.1.3" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E27.m1.2.2.1.2" xref="S3.E27.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E27.m1.2b"><apply id="S3.E27.m1.2.2.1.1.cmml" xref="S3.E27.m1.2.2.1"><eq id="S3.E27.m1.2.2.1.1.2.cmml" xref="S3.E27.m1.2.2.1.1.2"></eq><apply id="S3.E27.m1.2.2.1.1.3.cmml" xref="S3.E27.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E27.m1.2.2.1.1.3.1.cmml" xref="S3.E27.m1.2.2.1.1.3">subscript</csymbol><ci id="S3.E27.m1.2.2.1.1.3.2.cmml" xref="S3.E27.m1.2.2.1.1.3.2">𝐿</ci><ci id="S3.E27.m1.2.2.1.1.3.3a.cmml" xref="S3.E27.m1.2.2.1.1.3.3"><mtext mathsize="70%" id="S3.E27.m1.2.2.1.1.3.3.cmml" xref="S3.E27.m1.2.2.1.1.3.3">mlm</mtext></ci></apply><apply id="S3.E27.m1.2.2.1.1.1.cmml" xref="S3.E27.m1.2.2.1.1.1"><minus id="S3.E27.m1.2.2.1.1.1.2.cmml" xref="S3.E27.m1.2.2.1.1.1"></minus><apply id="S3.E27.m1.2.2.1.1.1.1.cmml" xref="S3.E27.m1.2.2.1.1.1.1"><times id="S3.E27.m1.2.2.1.1.1.1.2.cmml" xref="S3.E27.m1.2.2.1.1.1.1.2"></times><apply id="S3.E27.m1.2.2.1.1.1.1.3.cmml" xref="S3.E27.m1.2.2.1.1.1.1.3"><log id="S3.E27.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E27.m1.2.2.1.1.1.1.3.1"></log><apply id="S3.E27.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E27.m1.2.2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E27.m1.2.2.1.1.1.1.3.2.1.cmml" xref="S3.E27.m1.2.2.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E27.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S3.E27.m1.2.2.1.1.1.1.3.2.2">𝑃</ci><ci id="S3.E27.m1.2.2.1.1.1.1.3.2.3a.cmml" xref="S3.E27.m1.2.2.1.1.1.1.3.2.3"><mtext mathsize="70%" id="S3.E27.m1.2.2.1.1.1.1.3.2.3.cmml" xref="S3.E27.m1.2.2.1.1.1.1.3.2.3">mlm</mtext></ci></apply></apply><apply id="S3.E27.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E27.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.2">𝑦</ci><ci id="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.3a.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.3"><mtext mathsize="70%" id="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.3.3">mask</mtext></ci></apply><list id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1"><apply id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.2">𝑦</ci><ci id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.3"><mtext mathsize="70%" id="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E27.m1.2.2.1.1.1.1.1.1.1.1.1.1.3">obs</mtext></ci></apply><ci id="S3.E27.m1.1.1.cmml" xref="S3.E27.m1.1.1">𝑋</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E27.m1.2c">L_{\text{mlm}}=-\log P_{\text{mlm}}(y_{\text{mask}}|y_{\text{obs}},X).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(27)</span></td>
</tr></tbody>
</table>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Proposed 4D ASR model</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">This section describes the joint training process utilizing the two-stage optimization strategy and the beam search methodology employed in the proposed 4D model.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.4.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.5.2" class="ltx_text ltx_font_italic">Joint training with a two-stage optimization strategy</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.5" class="ltx_p">Multitask learning is performed using the weighted sum of losses in Eqs. (<a href="#S3.E10" title="In III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>), (<a href="#S3.E15" title="In III-C RNN-T ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">15</span></a>), (<a href="#S3.E23" title="In III-D Attention-based encoder-decoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">23</span></a>), and (<a href="#S3.E27" title="In III-E Mask-CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">27</span></a>) described as follows:</p>
<table id="S4.E28" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E28.m1.1" class="ltx_Math" alttext="L=\lambda_{\text{ctc}}L_{\text{ctc}}+\lambda_{\text{rnnt}}L_{\text{rnnt}}+\lambda_{\text{att}}L_{\text{att}}+\lambda_{\text{mlm}}L_{\text{mlm}}," display="block"><semantics id="S4.E28.m1.1a"><mrow id="S4.E28.m1.1.1.1" xref="S4.E28.m1.1.1.1.1.cmml"><mrow id="S4.E28.m1.1.1.1.1" xref="S4.E28.m1.1.1.1.1.cmml"><mi id="S4.E28.m1.1.1.1.1.2" xref="S4.E28.m1.1.1.1.1.2.cmml">L</mi><mo id="S4.E28.m1.1.1.1.1.1" xref="S4.E28.m1.1.1.1.1.1.cmml">=</mo><mrow id="S4.E28.m1.1.1.1.1.3" xref="S4.E28.m1.1.1.1.1.3.cmml"><mrow id="S4.E28.m1.1.1.1.1.3.2" xref="S4.E28.m1.1.1.1.1.3.2.cmml"><msub id="S4.E28.m1.1.1.1.1.3.2.2" xref="S4.E28.m1.1.1.1.1.3.2.2.cmml"><mi id="S4.E28.m1.1.1.1.1.3.2.2.2" xref="S4.E28.m1.1.1.1.1.3.2.2.2.cmml">λ</mi><mtext id="S4.E28.m1.1.1.1.1.3.2.2.3" xref="S4.E28.m1.1.1.1.1.3.2.2.3a.cmml">ctc</mtext></msub><mo lspace="0em" rspace="0em" id="S4.E28.m1.1.1.1.1.3.2.1" xref="S4.E28.m1.1.1.1.1.3.2.1.cmml">​</mo><msub id="S4.E28.m1.1.1.1.1.3.2.3" xref="S4.E28.m1.1.1.1.1.3.2.3.cmml"><mi id="S4.E28.m1.1.1.1.1.3.2.3.2" xref="S4.E28.m1.1.1.1.1.3.2.3.2.cmml">L</mi><mtext id="S4.E28.m1.1.1.1.1.3.2.3.3" xref="S4.E28.m1.1.1.1.1.3.2.3.3a.cmml">ctc</mtext></msub></mrow><mo id="S4.E28.m1.1.1.1.1.3.1" xref="S4.E28.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S4.E28.m1.1.1.1.1.3.3" xref="S4.E28.m1.1.1.1.1.3.3.cmml"><msub id="S4.E28.m1.1.1.1.1.3.3.2" xref="S4.E28.m1.1.1.1.1.3.3.2.cmml"><mi id="S4.E28.m1.1.1.1.1.3.3.2.2" xref="S4.E28.m1.1.1.1.1.3.3.2.2.cmml">λ</mi><mtext id="S4.E28.m1.1.1.1.1.3.3.2.3" xref="S4.E28.m1.1.1.1.1.3.3.2.3a.cmml">rnnt</mtext></msub><mo lspace="0em" rspace="0em" id="S4.E28.m1.1.1.1.1.3.3.1" xref="S4.E28.m1.1.1.1.1.3.3.1.cmml">​</mo><msub id="S4.E28.m1.1.1.1.1.3.3.3" xref="S4.E28.m1.1.1.1.1.3.3.3.cmml"><mi id="S4.E28.m1.1.1.1.1.3.3.3.2" xref="S4.E28.m1.1.1.1.1.3.3.3.2.cmml">L</mi><mtext id="S4.E28.m1.1.1.1.1.3.3.3.3" xref="S4.E28.m1.1.1.1.1.3.3.3.3a.cmml">rnnt</mtext></msub></mrow><mo id="S4.E28.m1.1.1.1.1.3.1a" xref="S4.E28.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S4.E28.m1.1.1.1.1.3.4" xref="S4.E28.m1.1.1.1.1.3.4.cmml"><msub id="S4.E28.m1.1.1.1.1.3.4.2" xref="S4.E28.m1.1.1.1.1.3.4.2.cmml"><mi id="S4.E28.m1.1.1.1.1.3.4.2.2" xref="S4.E28.m1.1.1.1.1.3.4.2.2.cmml">λ</mi><mtext id="S4.E28.m1.1.1.1.1.3.4.2.3" xref="S4.E28.m1.1.1.1.1.3.4.2.3a.cmml">att</mtext></msub><mo lspace="0em" rspace="0em" id="S4.E28.m1.1.1.1.1.3.4.1" xref="S4.E28.m1.1.1.1.1.3.4.1.cmml">​</mo><msub id="S4.E28.m1.1.1.1.1.3.4.3" xref="S4.E28.m1.1.1.1.1.3.4.3.cmml"><mi id="S4.E28.m1.1.1.1.1.3.4.3.2" xref="S4.E28.m1.1.1.1.1.3.4.3.2.cmml">L</mi><mtext id="S4.E28.m1.1.1.1.1.3.4.3.3" xref="S4.E28.m1.1.1.1.1.3.4.3.3a.cmml">att</mtext></msub></mrow><mo id="S4.E28.m1.1.1.1.1.3.1b" xref="S4.E28.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S4.E28.m1.1.1.1.1.3.5" xref="S4.E28.m1.1.1.1.1.3.5.cmml"><msub id="S4.E28.m1.1.1.1.1.3.5.2" xref="S4.E28.m1.1.1.1.1.3.5.2.cmml"><mi id="S4.E28.m1.1.1.1.1.3.5.2.2" xref="S4.E28.m1.1.1.1.1.3.5.2.2.cmml">λ</mi><mtext id="S4.E28.m1.1.1.1.1.3.5.2.3" xref="S4.E28.m1.1.1.1.1.3.5.2.3a.cmml">mlm</mtext></msub><mo lspace="0em" rspace="0em" id="S4.E28.m1.1.1.1.1.3.5.1" xref="S4.E28.m1.1.1.1.1.3.5.1.cmml">​</mo><msub id="S4.E28.m1.1.1.1.1.3.5.3" xref="S4.E28.m1.1.1.1.1.3.5.3.cmml"><mi id="S4.E28.m1.1.1.1.1.3.5.3.2" xref="S4.E28.m1.1.1.1.1.3.5.3.2.cmml">L</mi><mtext id="S4.E28.m1.1.1.1.1.3.5.3.3" xref="S4.E28.m1.1.1.1.1.3.5.3.3a.cmml">mlm</mtext></msub></mrow></mrow></mrow><mo id="S4.E28.m1.1.1.1.2" xref="S4.E28.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E28.m1.1b"><apply id="S4.E28.m1.1.1.1.1.cmml" xref="S4.E28.m1.1.1.1"><eq id="S4.E28.m1.1.1.1.1.1.cmml" xref="S4.E28.m1.1.1.1.1.1"></eq><ci id="S4.E28.m1.1.1.1.1.2.cmml" xref="S4.E28.m1.1.1.1.1.2">𝐿</ci><apply id="S4.E28.m1.1.1.1.1.3.cmml" xref="S4.E28.m1.1.1.1.1.3"><plus id="S4.E28.m1.1.1.1.1.3.1.cmml" xref="S4.E28.m1.1.1.1.1.3.1"></plus><apply id="S4.E28.m1.1.1.1.1.3.2.cmml" xref="S4.E28.m1.1.1.1.1.3.2"><times id="S4.E28.m1.1.1.1.1.3.2.1.cmml" xref="S4.E28.m1.1.1.1.1.3.2.1"></times><apply id="S4.E28.m1.1.1.1.1.3.2.2.cmml" xref="S4.E28.m1.1.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.E28.m1.1.1.1.1.3.2.2.1.cmml" xref="S4.E28.m1.1.1.1.1.3.2.2">subscript</csymbol><ci id="S4.E28.m1.1.1.1.1.3.2.2.2.cmml" xref="S4.E28.m1.1.1.1.1.3.2.2.2">𝜆</ci><ci id="S4.E28.m1.1.1.1.1.3.2.2.3a.cmml" xref="S4.E28.m1.1.1.1.1.3.2.2.3"><mtext mathsize="70%" id="S4.E28.m1.1.1.1.1.3.2.2.3.cmml" xref="S4.E28.m1.1.1.1.1.3.2.2.3">ctc</mtext></ci></apply><apply id="S4.E28.m1.1.1.1.1.3.2.3.cmml" xref="S4.E28.m1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.E28.m1.1.1.1.1.3.2.3.1.cmml" xref="S4.E28.m1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S4.E28.m1.1.1.1.1.3.2.3.2.cmml" xref="S4.E28.m1.1.1.1.1.3.2.3.2">𝐿</ci><ci id="S4.E28.m1.1.1.1.1.3.2.3.3a.cmml" xref="S4.E28.m1.1.1.1.1.3.2.3.3"><mtext mathsize="70%" id="S4.E28.m1.1.1.1.1.3.2.3.3.cmml" xref="S4.E28.m1.1.1.1.1.3.2.3.3">ctc</mtext></ci></apply></apply><apply id="S4.E28.m1.1.1.1.1.3.3.cmml" xref="S4.E28.m1.1.1.1.1.3.3"><times id="S4.E28.m1.1.1.1.1.3.3.1.cmml" xref="S4.E28.m1.1.1.1.1.3.3.1"></times><apply id="S4.E28.m1.1.1.1.1.3.3.2.cmml" xref="S4.E28.m1.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S4.E28.m1.1.1.1.1.3.3.2.1.cmml" xref="S4.E28.m1.1.1.1.1.3.3.2">subscript</csymbol><ci id="S4.E28.m1.1.1.1.1.3.3.2.2.cmml" xref="S4.E28.m1.1.1.1.1.3.3.2.2">𝜆</ci><ci id="S4.E28.m1.1.1.1.1.3.3.2.3a.cmml" xref="S4.E28.m1.1.1.1.1.3.3.2.3"><mtext mathsize="70%" id="S4.E28.m1.1.1.1.1.3.3.2.3.cmml" xref="S4.E28.m1.1.1.1.1.3.3.2.3">rnnt</mtext></ci></apply><apply id="S4.E28.m1.1.1.1.1.3.3.3.cmml" xref="S4.E28.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E28.m1.1.1.1.1.3.3.3.1.cmml" xref="S4.E28.m1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.E28.m1.1.1.1.1.3.3.3.2.cmml" xref="S4.E28.m1.1.1.1.1.3.3.3.2">𝐿</ci><ci id="S4.E28.m1.1.1.1.1.3.3.3.3a.cmml" xref="S4.E28.m1.1.1.1.1.3.3.3.3"><mtext mathsize="70%" id="S4.E28.m1.1.1.1.1.3.3.3.3.cmml" xref="S4.E28.m1.1.1.1.1.3.3.3.3">rnnt</mtext></ci></apply></apply><apply id="S4.E28.m1.1.1.1.1.3.4.cmml" xref="S4.E28.m1.1.1.1.1.3.4"><times id="S4.E28.m1.1.1.1.1.3.4.1.cmml" xref="S4.E28.m1.1.1.1.1.3.4.1"></times><apply id="S4.E28.m1.1.1.1.1.3.4.2.cmml" xref="S4.E28.m1.1.1.1.1.3.4.2"><csymbol cd="ambiguous" id="S4.E28.m1.1.1.1.1.3.4.2.1.cmml" xref="S4.E28.m1.1.1.1.1.3.4.2">subscript</csymbol><ci id="S4.E28.m1.1.1.1.1.3.4.2.2.cmml" xref="S4.E28.m1.1.1.1.1.3.4.2.2">𝜆</ci><ci id="S4.E28.m1.1.1.1.1.3.4.2.3a.cmml" xref="S4.E28.m1.1.1.1.1.3.4.2.3"><mtext mathsize="70%" id="S4.E28.m1.1.1.1.1.3.4.2.3.cmml" xref="S4.E28.m1.1.1.1.1.3.4.2.3">att</mtext></ci></apply><apply id="S4.E28.m1.1.1.1.1.3.4.3.cmml" xref="S4.E28.m1.1.1.1.1.3.4.3"><csymbol cd="ambiguous" id="S4.E28.m1.1.1.1.1.3.4.3.1.cmml" xref="S4.E28.m1.1.1.1.1.3.4.3">subscript</csymbol><ci id="S4.E28.m1.1.1.1.1.3.4.3.2.cmml" xref="S4.E28.m1.1.1.1.1.3.4.3.2">𝐿</ci><ci id="S4.E28.m1.1.1.1.1.3.4.3.3a.cmml" xref="S4.E28.m1.1.1.1.1.3.4.3.3"><mtext mathsize="70%" id="S4.E28.m1.1.1.1.1.3.4.3.3.cmml" xref="S4.E28.m1.1.1.1.1.3.4.3.3">att</mtext></ci></apply></apply><apply id="S4.E28.m1.1.1.1.1.3.5.cmml" xref="S4.E28.m1.1.1.1.1.3.5"><times id="S4.E28.m1.1.1.1.1.3.5.1.cmml" xref="S4.E28.m1.1.1.1.1.3.5.1"></times><apply id="S4.E28.m1.1.1.1.1.3.5.2.cmml" xref="S4.E28.m1.1.1.1.1.3.5.2"><csymbol cd="ambiguous" id="S4.E28.m1.1.1.1.1.3.5.2.1.cmml" xref="S4.E28.m1.1.1.1.1.3.5.2">subscript</csymbol><ci id="S4.E28.m1.1.1.1.1.3.5.2.2.cmml" xref="S4.E28.m1.1.1.1.1.3.5.2.2">𝜆</ci><ci id="S4.E28.m1.1.1.1.1.3.5.2.3a.cmml" xref="S4.E28.m1.1.1.1.1.3.5.2.3"><mtext mathsize="70%" id="S4.E28.m1.1.1.1.1.3.5.2.3.cmml" xref="S4.E28.m1.1.1.1.1.3.5.2.3">mlm</mtext></ci></apply><apply id="S4.E28.m1.1.1.1.1.3.5.3.cmml" xref="S4.E28.m1.1.1.1.1.3.5.3"><csymbol cd="ambiguous" id="S4.E28.m1.1.1.1.1.3.5.3.1.cmml" xref="S4.E28.m1.1.1.1.1.3.5.3">subscript</csymbol><ci id="S4.E28.m1.1.1.1.1.3.5.3.2.cmml" xref="S4.E28.m1.1.1.1.1.3.5.3.2">𝐿</ci><ci id="S4.E28.m1.1.1.1.1.3.5.3.3a.cmml" xref="S4.E28.m1.1.1.1.1.3.5.3.3"><mtext mathsize="70%" id="S4.E28.m1.1.1.1.1.3.5.3.3.cmml" xref="S4.E28.m1.1.1.1.1.3.5.3.3">mlm</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E28.m1.1c">L=\lambda_{\text{ctc}}L_{\text{ctc}}+\lambda_{\text{rnnt}}L_{\text{rnnt}}+\lambda_{\text{att}}L_{\text{att}}+\lambda_{\text{mlm}}L_{\text{mlm}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(28)</span></td>
</tr></tbody>
</table>
<p id="S4.SS1.p1.4" class="ltx_p">where <math id="S4.SS1.p1.1.m1.4" class="ltx_Math" alttext="(\lambda_{\text{ctc}},\lambda_{\text{rnnt}},\lambda_{\text{att}},\lambda_{\text{mlm}})" display="inline"><semantics id="S4.SS1.p1.1.m1.4a"><mrow id="S4.SS1.p1.1.m1.4.4.4" xref="S4.SS1.p1.1.m1.4.4.5.cmml"><mo stretchy="false" id="S4.SS1.p1.1.m1.4.4.4.5" xref="S4.SS1.p1.1.m1.4.4.5.cmml">(</mo><msub id="S4.SS1.p1.1.m1.1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.1.1.2.cmml">λ</mi><mtext id="S4.SS1.p1.1.m1.1.1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.1.1.3a.cmml">ctc</mtext></msub><mo id="S4.SS1.p1.1.m1.4.4.4.6" xref="S4.SS1.p1.1.m1.4.4.5.cmml">,</mo><msub id="S4.SS1.p1.1.m1.2.2.2.2" xref="S4.SS1.p1.1.m1.2.2.2.2.cmml"><mi id="S4.SS1.p1.1.m1.2.2.2.2.2" xref="S4.SS1.p1.1.m1.2.2.2.2.2.cmml">λ</mi><mtext id="S4.SS1.p1.1.m1.2.2.2.2.3" xref="S4.SS1.p1.1.m1.2.2.2.2.3a.cmml">rnnt</mtext></msub><mo id="S4.SS1.p1.1.m1.4.4.4.7" xref="S4.SS1.p1.1.m1.4.4.5.cmml">,</mo><msub id="S4.SS1.p1.1.m1.3.3.3.3" xref="S4.SS1.p1.1.m1.3.3.3.3.cmml"><mi id="S4.SS1.p1.1.m1.3.3.3.3.2" xref="S4.SS1.p1.1.m1.3.3.3.3.2.cmml">λ</mi><mtext id="S4.SS1.p1.1.m1.3.3.3.3.3" xref="S4.SS1.p1.1.m1.3.3.3.3.3a.cmml">att</mtext></msub><mo id="S4.SS1.p1.1.m1.4.4.4.8" xref="S4.SS1.p1.1.m1.4.4.5.cmml">,</mo><msub id="S4.SS1.p1.1.m1.4.4.4.4" xref="S4.SS1.p1.1.m1.4.4.4.4.cmml"><mi id="S4.SS1.p1.1.m1.4.4.4.4.2" xref="S4.SS1.p1.1.m1.4.4.4.4.2.cmml">λ</mi><mtext id="S4.SS1.p1.1.m1.4.4.4.4.3" xref="S4.SS1.p1.1.m1.4.4.4.4.3a.cmml">mlm</mtext></msub><mo stretchy="false" id="S4.SS1.p1.1.m1.4.4.4.9" xref="S4.SS1.p1.1.m1.4.4.5.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.4b"><vector id="S4.SS1.p1.1.m1.4.4.5.cmml" xref="S4.SS1.p1.1.m1.4.4.4"><apply id="S4.SS1.p1.1.m1.1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.2">𝜆</ci><ci id="S4.SS1.p1.1.m1.1.1.1.1.3a.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.3"><mtext mathsize="70%" id="S4.SS1.p1.1.m1.1.1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.3">ctc</mtext></ci></apply><apply id="S4.SS1.p1.1.m1.2.2.2.2.cmml" xref="S4.SS1.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.2.2.2.2.1.cmml" xref="S4.SS1.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="S4.SS1.p1.1.m1.2.2.2.2.2.cmml" xref="S4.SS1.p1.1.m1.2.2.2.2.2">𝜆</ci><ci id="S4.SS1.p1.1.m1.2.2.2.2.3a.cmml" xref="S4.SS1.p1.1.m1.2.2.2.2.3"><mtext mathsize="70%" id="S4.SS1.p1.1.m1.2.2.2.2.3.cmml" xref="S4.SS1.p1.1.m1.2.2.2.2.3">rnnt</mtext></ci></apply><apply id="S4.SS1.p1.1.m1.3.3.3.3.cmml" xref="S4.SS1.p1.1.m1.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.3.3.3.3.1.cmml" xref="S4.SS1.p1.1.m1.3.3.3.3">subscript</csymbol><ci id="S4.SS1.p1.1.m1.3.3.3.3.2.cmml" xref="S4.SS1.p1.1.m1.3.3.3.3.2">𝜆</ci><ci id="S4.SS1.p1.1.m1.3.3.3.3.3a.cmml" xref="S4.SS1.p1.1.m1.3.3.3.3.3"><mtext mathsize="70%" id="S4.SS1.p1.1.m1.3.3.3.3.3.cmml" xref="S4.SS1.p1.1.m1.3.3.3.3.3">att</mtext></ci></apply><apply id="S4.SS1.p1.1.m1.4.4.4.4.cmml" xref="S4.SS1.p1.1.m1.4.4.4.4"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.4.4.4.4.1.cmml" xref="S4.SS1.p1.1.m1.4.4.4.4">subscript</csymbol><ci id="S4.SS1.p1.1.m1.4.4.4.4.2.cmml" xref="S4.SS1.p1.1.m1.4.4.4.4.2">𝜆</ci><ci id="S4.SS1.p1.1.m1.4.4.4.4.3a.cmml" xref="S4.SS1.p1.1.m1.4.4.4.4.3"><mtext mathsize="70%" id="S4.SS1.p1.1.m1.4.4.4.4.3.cmml" xref="S4.SS1.p1.1.m1.4.4.4.4.3">mlm</mtext></ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.4c">(\lambda_{\text{ctc}},\lambda_{\text{rnnt}},\lambda_{\text{att}},\lambda_{\text{mlm}})</annotation></semantics></math> represent training weights.
The training weights are usually determined experimentally <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> or based on meta-learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite>.
The complexity introduced by four weights makes conducting exhaustive experimental exploration impractical.
To address this challenge, we implement a two-stage optimization strategy to determine the training weights. In the first stage, all four training weights are initialized to be equal <math id="S4.SS1.p1.2.m2.4" class="ltx_Math" alttext="(0.25,0.25,0.25,0.25)" display="inline"><semantics id="S4.SS1.p1.2.m2.4a"><mrow id="S4.SS1.p1.2.m2.4.5.2" xref="S4.SS1.p1.2.m2.4.5.1.cmml"><mo stretchy="false" id="S4.SS1.p1.2.m2.4.5.2.1" xref="S4.SS1.p1.2.m2.4.5.1.cmml">(</mo><mn id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml">0.25</mn><mo id="S4.SS1.p1.2.m2.4.5.2.2" xref="S4.SS1.p1.2.m2.4.5.1.cmml">,</mo><mn id="S4.SS1.p1.2.m2.2.2" xref="S4.SS1.p1.2.m2.2.2.cmml">0.25</mn><mo id="S4.SS1.p1.2.m2.4.5.2.3" xref="S4.SS1.p1.2.m2.4.5.1.cmml">,</mo><mn id="S4.SS1.p1.2.m2.3.3" xref="S4.SS1.p1.2.m2.3.3.cmml">0.25</mn><mo id="S4.SS1.p1.2.m2.4.5.2.4" xref="S4.SS1.p1.2.m2.4.5.1.cmml">,</mo><mn id="S4.SS1.p1.2.m2.4.4" xref="S4.SS1.p1.2.m2.4.4.cmml">0.25</mn><mo stretchy="false" id="S4.SS1.p1.2.m2.4.5.2.5" xref="S4.SS1.p1.2.m2.4.5.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.4b"><vector id="S4.SS1.p1.2.m2.4.5.1.cmml" xref="S4.SS1.p1.2.m2.4.5.2"><cn type="float" id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1">0.25</cn><cn type="float" id="S4.SS1.p1.2.m2.2.2.cmml" xref="S4.SS1.p1.2.m2.2.2">0.25</cn><cn type="float" id="S4.SS1.p1.2.m2.3.3.cmml" xref="S4.SS1.p1.2.m2.3.3">0.25</cn><cn type="float" id="S4.SS1.p1.2.m2.4.4.cmml" xref="S4.SS1.p1.2.m2.4.4">0.25</cn></vector></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.4c">(0.25,0.25,0.25,0.25)</annotation></semantics></math>. Subsequently, in the second stage, these weights are proportionally adjusted based on the epochs at which each validation loss reaches its minimum value in the first stage. For example, if the validation losses (<math id="S4.SS1.p1.3.m3.4" class="ltx_Math" alttext="L_{\text{ctc}},L_{\text{rnnt}},L_{\text{att}},L_{\text{mlm}}" display="inline"><semantics id="S4.SS1.p1.3.m3.4a"><mrow id="S4.SS1.p1.3.m3.4.4.4" xref="S4.SS1.p1.3.m3.4.4.5.cmml"><msub id="S4.SS1.p1.3.m3.1.1.1.1" xref="S4.SS1.p1.3.m3.1.1.1.1.cmml"><mi id="S4.SS1.p1.3.m3.1.1.1.1.2" xref="S4.SS1.p1.3.m3.1.1.1.1.2.cmml">L</mi><mtext id="S4.SS1.p1.3.m3.1.1.1.1.3" xref="S4.SS1.p1.3.m3.1.1.1.1.3a.cmml">ctc</mtext></msub><mo id="S4.SS1.p1.3.m3.4.4.4.5" xref="S4.SS1.p1.3.m3.4.4.5.cmml">,</mo><msub id="S4.SS1.p1.3.m3.2.2.2.2" xref="S4.SS1.p1.3.m3.2.2.2.2.cmml"><mi id="S4.SS1.p1.3.m3.2.2.2.2.2" xref="S4.SS1.p1.3.m3.2.2.2.2.2.cmml">L</mi><mtext id="S4.SS1.p1.3.m3.2.2.2.2.3" xref="S4.SS1.p1.3.m3.2.2.2.2.3a.cmml">rnnt</mtext></msub><mo id="S4.SS1.p1.3.m3.4.4.4.6" xref="S4.SS1.p1.3.m3.4.4.5.cmml">,</mo><msub id="S4.SS1.p1.3.m3.3.3.3.3" xref="S4.SS1.p1.3.m3.3.3.3.3.cmml"><mi id="S4.SS1.p1.3.m3.3.3.3.3.2" xref="S4.SS1.p1.3.m3.3.3.3.3.2.cmml">L</mi><mtext id="S4.SS1.p1.3.m3.3.3.3.3.3" xref="S4.SS1.p1.3.m3.3.3.3.3.3a.cmml">att</mtext></msub><mo id="S4.SS1.p1.3.m3.4.4.4.7" xref="S4.SS1.p1.3.m3.4.4.5.cmml">,</mo><msub id="S4.SS1.p1.3.m3.4.4.4.4" xref="S4.SS1.p1.3.m3.4.4.4.4.cmml"><mi id="S4.SS1.p1.3.m3.4.4.4.4.2" xref="S4.SS1.p1.3.m3.4.4.4.4.2.cmml">L</mi><mtext id="S4.SS1.p1.3.m3.4.4.4.4.3" xref="S4.SS1.p1.3.m3.4.4.4.4.3a.cmml">mlm</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.4b"><list id="S4.SS1.p1.3.m3.4.4.5.cmml" xref="S4.SS1.p1.3.m3.4.4.4"><apply id="S4.SS1.p1.3.m3.1.1.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.1.1.1.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p1.3.m3.1.1.1.1.2.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.2">𝐿</ci><ci id="S4.SS1.p1.3.m3.1.1.1.1.3a.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.3"><mtext mathsize="70%" id="S4.SS1.p1.3.m3.1.1.1.1.3.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.3">ctc</mtext></ci></apply><apply id="S4.SS1.p1.3.m3.2.2.2.2.cmml" xref="S4.SS1.p1.3.m3.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.2.2.2.2.1.cmml" xref="S4.SS1.p1.3.m3.2.2.2.2">subscript</csymbol><ci id="S4.SS1.p1.3.m3.2.2.2.2.2.cmml" xref="S4.SS1.p1.3.m3.2.2.2.2.2">𝐿</ci><ci id="S4.SS1.p1.3.m3.2.2.2.2.3a.cmml" xref="S4.SS1.p1.3.m3.2.2.2.2.3"><mtext mathsize="70%" id="S4.SS1.p1.3.m3.2.2.2.2.3.cmml" xref="S4.SS1.p1.3.m3.2.2.2.2.3">rnnt</mtext></ci></apply><apply id="S4.SS1.p1.3.m3.3.3.3.3.cmml" xref="S4.SS1.p1.3.m3.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.3.3.3.3.1.cmml" xref="S4.SS1.p1.3.m3.3.3.3.3">subscript</csymbol><ci id="S4.SS1.p1.3.m3.3.3.3.3.2.cmml" xref="S4.SS1.p1.3.m3.3.3.3.3.2">𝐿</ci><ci id="S4.SS1.p1.3.m3.3.3.3.3.3a.cmml" xref="S4.SS1.p1.3.m3.3.3.3.3.3"><mtext mathsize="70%" id="S4.SS1.p1.3.m3.3.3.3.3.3.cmml" xref="S4.SS1.p1.3.m3.3.3.3.3.3">att</mtext></ci></apply><apply id="S4.SS1.p1.3.m3.4.4.4.4.cmml" xref="S4.SS1.p1.3.m3.4.4.4.4"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.4.4.4.4.1.cmml" xref="S4.SS1.p1.3.m3.4.4.4.4">subscript</csymbol><ci id="S4.SS1.p1.3.m3.4.4.4.4.2.cmml" xref="S4.SS1.p1.3.m3.4.4.4.4.2">𝐿</ci><ci id="S4.SS1.p1.3.m3.4.4.4.4.3a.cmml" xref="S4.SS1.p1.3.m3.4.4.4.4.3"><mtext mathsize="70%" id="S4.SS1.p1.3.m3.4.4.4.4.3.cmml" xref="S4.SS1.p1.3.m3.4.4.4.4.3">mlm</mtext></ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.4c">L_{\text{ctc}},L_{\text{rnnt}},L_{\text{att}},L_{\text{mlm}}</annotation></semantics></math>) reach their minimum values at the 10th, 10th, 10th, and 70th epochs in the first stage, the training weights in the second stage are set to <math id="S4.SS1.p1.4.m4.4" class="ltx_Math" alttext="(0.1,0.1,0.1,0.7)" display="inline"><semantics id="S4.SS1.p1.4.m4.4a"><mrow id="S4.SS1.p1.4.m4.4.5.2" xref="S4.SS1.p1.4.m4.4.5.1.cmml"><mo stretchy="false" id="S4.SS1.p1.4.m4.4.5.2.1" xref="S4.SS1.p1.4.m4.4.5.1.cmml">(</mo><mn id="S4.SS1.p1.4.m4.1.1" xref="S4.SS1.p1.4.m4.1.1.cmml">0.1</mn><mo id="S4.SS1.p1.4.m4.4.5.2.2" xref="S4.SS1.p1.4.m4.4.5.1.cmml">,</mo><mn id="S4.SS1.p1.4.m4.2.2" xref="S4.SS1.p1.4.m4.2.2.cmml">0.1</mn><mo id="S4.SS1.p1.4.m4.4.5.2.3" xref="S4.SS1.p1.4.m4.4.5.1.cmml">,</mo><mn id="S4.SS1.p1.4.m4.3.3" xref="S4.SS1.p1.4.m4.3.3.cmml">0.1</mn><mo id="S4.SS1.p1.4.m4.4.5.2.4" xref="S4.SS1.p1.4.m4.4.5.1.cmml">,</mo><mn id="S4.SS1.p1.4.m4.4.4" xref="S4.SS1.p1.4.m4.4.4.cmml">0.7</mn><mo stretchy="false" id="S4.SS1.p1.4.m4.4.5.2.5" xref="S4.SS1.p1.4.m4.4.5.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.4b"><vector id="S4.SS1.p1.4.m4.4.5.1.cmml" xref="S4.SS1.p1.4.m4.4.5.2"><cn type="float" id="S4.SS1.p1.4.m4.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1">0.1</cn><cn type="float" id="S4.SS1.p1.4.m4.2.2.cmml" xref="S4.SS1.p1.4.m4.2.2">0.1</cn><cn type="float" id="S4.SS1.p1.4.m4.3.3.cmml" xref="S4.SS1.p1.4.m4.3.3">0.1</cn><cn type="float" id="S4.SS1.p1.4.m4.4.4.cmml" xref="S4.SS1.p1.4.m4.4.4">0.7</cn></vector></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.4c">(0.1,0.1,0.1,0.7)</annotation></semantics></math>. This strategy is based on the proposition that losses requiring more epochs to converge should be given higher weights.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.4.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.5.2" class="ltx_text ltx_font_italic">Overview of the joint decoding of CTC/RNN-T/attention</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Another contribution of this paper is the introduction of three one-pass beam search algorithms using CTC/RNN-T/attention decoders: attention-driven, CTC-driven, and RNN-T-driven one-pass beam search.
The proposed one-pass beam search algorithms consist of three parts: hypotheses expansion using a primary decoder, joint scoring using the other two decoders, and beam pruning based on the joint score.
The difference between the three one-pass beam search algorithms is based on which decoder is the primary decoder.
Subsequent sections delve into the specifics of the three variants of the proposed one-pass beam search algorithms.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">Note that, the Mask-CTC is excluded from the proposed beam search because it predicts the entire output sequence in parallel, unlike the other three decoders.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS3.4.1.1" class="ltx_text">IV-C</span> </span><span id="S4.SS3.5.2" class="ltx_text ltx_font_italic">Attention-driven one-pass beam search</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">In the attention-driven one-pass beam search, the attention decoder serves as the primary decoder to generate hypotheses whose scores are augmented by the CTC decoder and the RNN-T decoder as shown in Algorithm 1. This approach directly extends the joint CTC/attention decoding algorithm proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>, including RNN-T scoring.</p>
</div>
<section id="S4.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS3.SSS1.5.1.1" class="ltx_text">IV-C</span>1 </span>Overall flow</h4>

<div id="S4.SS3.SSS1.p1" class="ltx_para">
<p id="S4.SS3.SSS1.p1.19" class="ltx_p">Similar to the joint CTC/attention decoding, the attention decoder primarily generates <math id="S4.SS3.SSS1.p1.1.m1.1" class="ltx_Math" alttext="k_{\text{pre}}" display="inline"><semantics id="S4.SS3.SSS1.p1.1.m1.1a"><msub id="S4.SS3.SSS1.p1.1.m1.1.1" xref="S4.SS3.SSS1.p1.1.m1.1.1.cmml"><mi id="S4.SS3.SSS1.p1.1.m1.1.1.2" xref="S4.SS3.SSS1.p1.1.m1.1.1.2.cmml">k</mi><mtext id="S4.SS3.SSS1.p1.1.m1.1.1.3" xref="S4.SS3.SSS1.p1.1.m1.1.1.3a.cmml">pre</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.1.m1.1b"><apply id="S4.SS3.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.1.m1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.1.m1.1.1.2.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1.2">𝑘</ci><ci id="S4.SS3.SSS1.p1.1.m1.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.1.m1.1.1.3.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1.3">pre</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.1.m1.1c">k_{\text{pre}}</annotation></semantics></math> hypotheses (<span id="S4.SS3.SSS1.p1.19.1" class="ltx_text ltx_font_italic">ext_hyps</span>) with the scores <math id="S4.SS3.SSS1.p1.2.m2.1" class="ltx_Math" alttext="\alpha_{\text{att}}" display="inline"><semantics id="S4.SS3.SSS1.p1.2.m2.1a"><msub id="S4.SS3.SSS1.p1.2.m2.1.1" xref="S4.SS3.SSS1.p1.2.m2.1.1.cmml"><mi id="S4.SS3.SSS1.p1.2.m2.1.1.2" xref="S4.SS3.SSS1.p1.2.m2.1.1.2.cmml">α</mi><mtext id="S4.SS3.SSS1.p1.2.m2.1.1.3" xref="S4.SS3.SSS1.p1.2.m2.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.2.m2.1b"><apply id="S4.SS3.SSS1.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.2.m2.1.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.2.m2.1.1.2.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.2">𝛼</ci><ci id="S4.SS3.SSS1.p1.2.m2.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.2.m2.1.1.3.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.2.m2.1c">\alpha_{\text{att}}</annotation></semantics></math> label-synchronously (lines 5-10 in Algorithm 1), where <math id="S4.SS3.SSS1.p1.3.m3.1" class="ltx_Math" alttext="k_{\text{pre}}" display="inline"><semantics id="S4.SS3.SSS1.p1.3.m3.1a"><msub id="S4.SS3.SSS1.p1.3.m3.1.1" xref="S4.SS3.SSS1.p1.3.m3.1.1.cmml"><mi id="S4.SS3.SSS1.p1.3.m3.1.1.2" xref="S4.SS3.SSS1.p1.3.m3.1.1.2.cmml">k</mi><mtext id="S4.SS3.SSS1.p1.3.m3.1.1.3" xref="S4.SS3.SSS1.p1.3.m3.1.1.3a.cmml">pre</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.3.m3.1b"><apply id="S4.SS3.SSS1.p1.3.m3.1.1.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.3.m3.1.1.1.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.3.m3.1.1.2.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1.2">𝑘</ci><ci id="S4.SS3.SSS1.p1.3.m3.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.3.m3.1.1.3.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1.3">pre</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.3.m3.1c">k_{\text{pre}}</annotation></semantics></math> represents the pre-beam size, which is larger than the main beam size <math id="S4.SS3.SSS1.p1.4.m4.1" class="ltx_Math" alttext="k_{\text{beam}}" display="inline"><semantics id="S4.SS3.SSS1.p1.4.m4.1a"><msub id="S4.SS3.SSS1.p1.4.m4.1.1" xref="S4.SS3.SSS1.p1.4.m4.1.1.cmml"><mi id="S4.SS3.SSS1.p1.4.m4.1.1.2" xref="S4.SS3.SSS1.p1.4.m4.1.1.2.cmml">k</mi><mtext id="S4.SS3.SSS1.p1.4.m4.1.1.3" xref="S4.SS3.SSS1.p1.4.m4.1.1.3a.cmml">beam</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.4.m4.1b"><apply id="S4.SS3.SSS1.p1.4.m4.1.1.cmml" xref="S4.SS3.SSS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.4.m4.1.1.1.cmml" xref="S4.SS3.SSS1.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.4.m4.1.1.2.cmml" xref="S4.SS3.SSS1.p1.4.m4.1.1.2">𝑘</ci><ci id="S4.SS3.SSS1.p1.4.m4.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.4.m4.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.4.m4.1.1.3.cmml" xref="S4.SS3.SSS1.p1.4.m4.1.1.3">beam</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.4.m4.1c">k_{\text{beam}}</annotation></semantics></math>.
Subsequently, each hypothesis <math id="S4.SS3.SSS1.p1.5.m5.1" class="ltx_Math" alttext="\tilde{l}" display="inline"><semantics id="S4.SS3.SSS1.p1.5.m5.1a"><mover accent="true" id="S4.SS3.SSS1.p1.5.m5.1.1" xref="S4.SS3.SSS1.p1.5.m5.1.1.cmml"><mi id="S4.SS3.SSS1.p1.5.m5.1.1.2" xref="S4.SS3.SSS1.p1.5.m5.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS1.p1.5.m5.1.1.1" xref="S4.SS3.SSS1.p1.5.m5.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.5.m5.1b"><apply id="S4.SS3.SSS1.p1.5.m5.1.1.cmml" xref="S4.SS3.SSS1.p1.5.m5.1.1"><ci id="S4.SS3.SSS1.p1.5.m5.1.1.1.cmml" xref="S4.SS3.SSS1.p1.5.m5.1.1.1">~</ci><ci id="S4.SS3.SSS1.p1.5.m5.1.1.2.cmml" xref="S4.SS3.SSS1.p1.5.m5.1.1.2">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.5.m5.1c">\tilde{l}</annotation></semantics></math> in <span id="S4.SS3.SSS1.p1.19.2" class="ltx_text ltx_font_italic">ext_hyps</span> is scored using the CTC and RNN-T decoders (lines 13-14 in Algorithm 1). The CTC score <math id="S4.SS3.SSS1.p1.6.m6.1" class="ltx_Math" alttext="\alpha_{\text{ctc}}" display="inline"><semantics id="S4.SS3.SSS1.p1.6.m6.1a"><msub id="S4.SS3.SSS1.p1.6.m6.1.1" xref="S4.SS3.SSS1.p1.6.m6.1.1.cmml"><mi id="S4.SS3.SSS1.p1.6.m6.1.1.2" xref="S4.SS3.SSS1.p1.6.m6.1.1.2.cmml">α</mi><mtext id="S4.SS3.SSS1.p1.6.m6.1.1.3" xref="S4.SS3.SSS1.p1.6.m6.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.6.m6.1b"><apply id="S4.SS3.SSS1.p1.6.m6.1.1.cmml" xref="S4.SS3.SSS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.6.m6.1.1.1.cmml" xref="S4.SS3.SSS1.p1.6.m6.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.6.m6.1.1.2.cmml" xref="S4.SS3.SSS1.p1.6.m6.1.1.2">𝛼</ci><ci id="S4.SS3.SSS1.p1.6.m6.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.6.m6.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.6.m6.1.1.3.cmml" xref="S4.SS3.SSS1.p1.6.m6.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.6.m6.1c">\alpha_{\text{ctc}}</annotation></semantics></math> is computed using the CTC prefix scoring as in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>.
Similarly, we propose the RNN-T prefix scoring to calculate the RNN-T score <math id="S4.SS3.SSS1.p1.7.m7.1" class="ltx_Math" alttext="\alpha_{\text{rnnt}}" display="inline"><semantics id="S4.SS3.SSS1.p1.7.m7.1a"><msub id="S4.SS3.SSS1.p1.7.m7.1.1" xref="S4.SS3.SSS1.p1.7.m7.1.1.cmml"><mi id="S4.SS3.SSS1.p1.7.m7.1.1.2" xref="S4.SS3.SSS1.p1.7.m7.1.1.2.cmml">α</mi><mtext id="S4.SS3.SSS1.p1.7.m7.1.1.3" xref="S4.SS3.SSS1.p1.7.m7.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.7.m7.1b"><apply id="S4.SS3.SSS1.p1.7.m7.1.1.cmml" xref="S4.SS3.SSS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.7.m7.1.1.1.cmml" xref="S4.SS3.SSS1.p1.7.m7.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.7.m7.1.1.2.cmml" xref="S4.SS3.SSS1.p1.7.m7.1.1.2">𝛼</ci><ci id="S4.SS3.SSS1.p1.7.m7.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.7.m7.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.7.m7.1.1.3.cmml" xref="S4.SS3.SSS1.p1.7.m7.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.7.m7.1c">\alpha_{\text{rnnt}}</annotation></semantics></math> label-synchronously, which will be described in Section <a href="#S4.SS3.SSS2" title="IV-C2 RNN-T prefix scoring ‣ IV-C Attention-driven one-pass beam search ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-C</span>2</span></a>.
Each score is then added using the decoder weights (<math id="S4.SS3.SSS1.p1.8.m8.1" class="ltx_Math" alttext="\mu_{\text{ctc}}" display="inline"><semantics id="S4.SS3.SSS1.p1.8.m8.1a"><msub id="S4.SS3.SSS1.p1.8.m8.1.1" xref="S4.SS3.SSS1.p1.8.m8.1.1.cmml"><mi id="S4.SS3.SSS1.p1.8.m8.1.1.2" xref="S4.SS3.SSS1.p1.8.m8.1.1.2.cmml">μ</mi><mtext id="S4.SS3.SSS1.p1.8.m8.1.1.3" xref="S4.SS3.SSS1.p1.8.m8.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.8.m8.1b"><apply id="S4.SS3.SSS1.p1.8.m8.1.1.cmml" xref="S4.SS3.SSS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.8.m8.1.1.1.cmml" xref="S4.SS3.SSS1.p1.8.m8.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.8.m8.1.1.2.cmml" xref="S4.SS3.SSS1.p1.8.m8.1.1.2">𝜇</ci><ci id="S4.SS3.SSS1.p1.8.m8.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.8.m8.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.8.m8.1.1.3.cmml" xref="S4.SS3.SSS1.p1.8.m8.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.8.m8.1c">\mu_{\text{ctc}}</annotation></semantics></math>, <math id="S4.SS3.SSS1.p1.9.m9.1" class="ltx_Math" alttext="\mu_{\text{att}}" display="inline"><semantics id="S4.SS3.SSS1.p1.9.m9.1a"><msub id="S4.SS3.SSS1.p1.9.m9.1.1" xref="S4.SS3.SSS1.p1.9.m9.1.1.cmml"><mi id="S4.SS3.SSS1.p1.9.m9.1.1.2" xref="S4.SS3.SSS1.p1.9.m9.1.1.2.cmml">μ</mi><mtext id="S4.SS3.SSS1.p1.9.m9.1.1.3" xref="S4.SS3.SSS1.p1.9.m9.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.9.m9.1b"><apply id="S4.SS3.SSS1.p1.9.m9.1.1.cmml" xref="S4.SS3.SSS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.9.m9.1.1.1.cmml" xref="S4.SS3.SSS1.p1.9.m9.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.9.m9.1.1.2.cmml" xref="S4.SS3.SSS1.p1.9.m9.1.1.2">𝜇</ci><ci id="S4.SS3.SSS1.p1.9.m9.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.9.m9.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.9.m9.1.1.3.cmml" xref="S4.SS3.SSS1.p1.9.m9.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.9.m9.1c">\mu_{\text{att}}</annotation></semantics></math>, <math id="S4.SS3.SSS1.p1.10.m10.1" class="ltx_Math" alttext="\mu_{\text{rnnt}}" display="inline"><semantics id="S4.SS3.SSS1.p1.10.m10.1a"><msub id="S4.SS3.SSS1.p1.10.m10.1.1" xref="S4.SS3.SSS1.p1.10.m10.1.1.cmml"><mi id="S4.SS3.SSS1.p1.10.m10.1.1.2" xref="S4.SS3.SSS1.p1.10.m10.1.1.2.cmml">μ</mi><mtext id="S4.SS3.SSS1.p1.10.m10.1.1.3" xref="S4.SS3.SSS1.p1.10.m10.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.10.m10.1b"><apply id="S4.SS3.SSS1.p1.10.m10.1.1.cmml" xref="S4.SS3.SSS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.10.m10.1.1.1.cmml" xref="S4.SS3.SSS1.p1.10.m10.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.10.m10.1.1.2.cmml" xref="S4.SS3.SSS1.p1.10.m10.1.1.2">𝜇</ci><ci id="S4.SS3.SSS1.p1.10.m10.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.10.m10.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.10.m10.1.1.3.cmml" xref="S4.SS3.SSS1.p1.10.m10.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.10.m10.1c">\mu_{\text{rnnt}}</annotation></semantics></math>) along with the length penalty <math id="S4.SS3.SSS1.p1.11.m11.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS3.SSS1.p1.11.m11.1a"><mi id="S4.SS3.SSS1.p1.11.m11.1.1" xref="S4.SS3.SSS1.p1.11.m11.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.11.m11.1b"><ci id="S4.SS3.SSS1.p1.11.m11.1.1.cmml" xref="S4.SS3.SSS1.p1.11.m11.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.11.m11.1c">\beta</annotation></semantics></math> (line 16 in Algorithm 1).
After that, if <math id="S4.SS3.SSS1.p1.12.m12.1" class="ltx_Math" alttext="y_{s}" display="inline"><semantics id="S4.SS3.SSS1.p1.12.m12.1a"><msub id="S4.SS3.SSS1.p1.12.m12.1.1" xref="S4.SS3.SSS1.p1.12.m12.1.1.cmml"><mi id="S4.SS3.SSS1.p1.12.m12.1.1.2" xref="S4.SS3.SSS1.p1.12.m12.1.1.2.cmml">y</mi><mi id="S4.SS3.SSS1.p1.12.m12.1.1.3" xref="S4.SS3.SSS1.p1.12.m12.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.12.m12.1b"><apply id="S4.SS3.SSS1.p1.12.m12.1.1.cmml" xref="S4.SS3.SSS1.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.12.m12.1.1.1.cmml" xref="S4.SS3.SSS1.p1.12.m12.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.12.m12.1.1.2.cmml" xref="S4.SS3.SSS1.p1.12.m12.1.1.2">𝑦</ci><ci id="S4.SS3.SSS1.p1.12.m12.1.1.3.cmml" xref="S4.SS3.SSS1.p1.12.m12.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.12.m12.1c">y_{s}</annotation></semantics></math> = <math id="S4.SS3.SSS1.p1.13.m13.1" class="ltx_Math" alttext="&lt;" display="inline"><semantics id="S4.SS3.SSS1.p1.13.m13.1a"><mo id="S4.SS3.SSS1.p1.13.m13.1.1" xref="S4.SS3.SSS1.p1.13.m13.1.1.cmml">&lt;</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.13.m13.1b"><lt id="S4.SS3.SSS1.p1.13.m13.1.1.cmml" xref="S4.SS3.SSS1.p1.13.m13.1.1"></lt></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.13.m13.1c">&lt;</annotation></semantics></math>eos<math id="S4.SS3.SSS1.p1.14.m14.1" class="ltx_Math" alttext="&gt;" display="inline"><semantics id="S4.SS3.SSS1.p1.14.m14.1a"><mo id="S4.SS3.SSS1.p1.14.m14.1.1" xref="S4.SS3.SSS1.p1.14.m14.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.14.m14.1b"><gt id="S4.SS3.SSS1.p1.14.m14.1.1.cmml" xref="S4.SS3.SSS1.p1.14.m14.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.14.m14.1c">&gt;</annotation></semantics></math>, the hypothesis <math id="S4.SS3.SSS1.p1.15.m15.1" class="ltx_Math" alttext="\tilde{l}" display="inline"><semantics id="S4.SS3.SSS1.p1.15.m15.1a"><mover accent="true" id="S4.SS3.SSS1.p1.15.m15.1.1" xref="S4.SS3.SSS1.p1.15.m15.1.1.cmml"><mi id="S4.SS3.SSS1.p1.15.m15.1.1.2" xref="S4.SS3.SSS1.p1.15.m15.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS1.p1.15.m15.1.1.1" xref="S4.SS3.SSS1.p1.15.m15.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.15.m15.1b"><apply id="S4.SS3.SSS1.p1.15.m15.1.1.cmml" xref="S4.SS3.SSS1.p1.15.m15.1.1"><ci id="S4.SS3.SSS1.p1.15.m15.1.1.1.cmml" xref="S4.SS3.SSS1.p1.15.m15.1.1.1">~</ci><ci id="S4.SS3.SSS1.p1.15.m15.1.1.2.cmml" xref="S4.SS3.SSS1.p1.15.m15.1.1.2">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.15.m15.1c">\tilde{l}</annotation></semantics></math> is assumed to be complete and stored in <span id="S4.SS3.SSS1.p1.19.3" class="ltx_text ltx_font_italic">end_hyps</span> (line 18 in Algorithm 1).
Otherwise, <math id="S4.SS3.SSS1.p1.16.m16.1" class="ltx_Math" alttext="\tilde{l}" display="inline"><semantics id="S4.SS3.SSS1.p1.16.m16.1a"><mover accent="true" id="S4.SS3.SSS1.p1.16.m16.1.1" xref="S4.SS3.SSS1.p1.16.m16.1.1.cmml"><mi id="S4.SS3.SSS1.p1.16.m16.1.1.2" xref="S4.SS3.SSS1.p1.16.m16.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS1.p1.16.m16.1.1.1" xref="S4.SS3.SSS1.p1.16.m16.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.16.m16.1b"><apply id="S4.SS3.SSS1.p1.16.m16.1.1.cmml" xref="S4.SS3.SSS1.p1.16.m16.1.1"><ci id="S4.SS3.SSS1.p1.16.m16.1.1.1.cmml" xref="S4.SS3.SSS1.p1.16.m16.1.1.1">~</ci><ci id="S4.SS3.SSS1.p1.16.m16.1.1.2.cmml" xref="S4.SS3.SSS1.p1.16.m16.1.1.2">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.16.m16.1c">\tilde{l}</annotation></semantics></math> is stored in <span id="S4.SS3.SSS1.p1.19.4" class="ltx_text ltx_font_italic">ext_hyps</span> with the joint score <math id="S4.SS3.SSS1.p1.17.m17.1" class="ltx_Math" alttext="\alpha_{\text{joint}}" display="inline"><semantics id="S4.SS3.SSS1.p1.17.m17.1a"><msub id="S4.SS3.SSS1.p1.17.m17.1.1" xref="S4.SS3.SSS1.p1.17.m17.1.1.cmml"><mi id="S4.SS3.SSS1.p1.17.m17.1.1.2" xref="S4.SS3.SSS1.p1.17.m17.1.1.2.cmml">α</mi><mtext id="S4.SS3.SSS1.p1.17.m17.1.1.3" xref="S4.SS3.SSS1.p1.17.m17.1.1.3a.cmml">joint</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.17.m17.1b"><apply id="S4.SS3.SSS1.p1.17.m17.1.1.cmml" xref="S4.SS3.SSS1.p1.17.m17.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.17.m17.1.1.1.cmml" xref="S4.SS3.SSS1.p1.17.m17.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.17.m17.1.1.2.cmml" xref="S4.SS3.SSS1.p1.17.m17.1.1.2">𝛼</ci><ci id="S4.SS3.SSS1.p1.17.m17.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.17.m17.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.17.m17.1.1.3.cmml" xref="S4.SS3.SSS1.p1.17.m17.1.1.3">joint</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.17.m17.1c">\alpha_{\text{joint}}</annotation></semantics></math> (line 20 in Algorithm 1).
Finally, the top <math id="S4.SS3.SSS1.p1.18.m18.1" class="ltx_Math" alttext="k_{\text{beam}}" display="inline"><semantics id="S4.SS3.SSS1.p1.18.m18.1a"><msub id="S4.SS3.SSS1.p1.18.m18.1.1" xref="S4.SS3.SSS1.p1.18.m18.1.1.cmml"><mi id="S4.SS3.SSS1.p1.18.m18.1.1.2" xref="S4.SS3.SSS1.p1.18.m18.1.1.2.cmml">k</mi><mtext id="S4.SS3.SSS1.p1.18.m18.1.1.3" xref="S4.SS3.SSS1.p1.18.m18.1.1.3a.cmml">beam</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.18.m18.1b"><apply id="S4.SS3.SSS1.p1.18.m18.1.1.cmml" xref="S4.SS3.SSS1.p1.18.m18.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.18.m18.1.1.1.cmml" xref="S4.SS3.SSS1.p1.18.m18.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.18.m18.1.1.2.cmml" xref="S4.SS3.SSS1.p1.18.m18.1.1.2">𝑘</ci><ci id="S4.SS3.SSS1.p1.18.m18.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.18.m18.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.18.m18.1.1.3.cmml" xref="S4.SS3.SSS1.p1.18.m18.1.1.3">beam</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.18.m18.1c">k_{\text{beam}}</annotation></semantics></math> hypotheses (<span id="S4.SS3.SSS1.p1.19.5" class="ltx_text ltx_font_italic">hyps</span>) are retained for the next label frame based on the joint score <math id="S4.SS3.SSS1.p1.19.m19.1" class="ltx_Math" alttext="\alpha_{\text{joint}}" display="inline"><semantics id="S4.SS3.SSS1.p1.19.m19.1a"><msub id="S4.SS3.SSS1.p1.19.m19.1.1" xref="S4.SS3.SSS1.p1.19.m19.1.1.cmml"><mi id="S4.SS3.SSS1.p1.19.m19.1.1.2" xref="S4.SS3.SSS1.p1.19.m19.1.1.2.cmml">α</mi><mtext id="S4.SS3.SSS1.p1.19.m19.1.1.3" xref="S4.SS3.SSS1.p1.19.m19.1.1.3a.cmml">joint</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.19.m19.1b"><apply id="S4.SS3.SSS1.p1.19.m19.1.1.cmml" xref="S4.SS3.SSS1.p1.19.m19.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.19.m19.1.1.1.cmml" xref="S4.SS3.SSS1.p1.19.m19.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.19.m19.1.1.2.cmml" xref="S4.SS3.SSS1.p1.19.m19.1.1.2">𝛼</ci><ci id="S4.SS3.SSS1.p1.19.m19.1.1.3a.cmml" xref="S4.SS3.SSS1.p1.19.m19.1.1.3"><mtext mathsize="70%" id="S4.SS3.SSS1.p1.19.m19.1.1.3.cmml" xref="S4.SS3.SSS1.p1.19.m19.1.1.3">joint</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.19.m19.1c">\alpha_{\text{joint}}</annotation></semantics></math> (line 22 in Algorithm 1).</p>
</div>
<figure id="S4.SS3.SSS1.1" class="ltx_figure">
<div id="S4.SS3.SSS1.1.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:212.5pt;">
<img src="/html/2406.02950/assets/figures/algorithm1.png" id="S4.SS3.SSS1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="598" height="769" alt="[Uncaptioned image]">
</div>
</figure>
</section>
<section id="S4.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS3.SSS2.5.1.1" class="ltx_text">IV-C</span>2 </span>RNN-T prefix scoring</h4>

<div id="S4.SS3.SSS2.p1" class="ltx_para">
<p id="S4.SS3.SSS2.p1.9" class="ltx_p">Similar to the CTC prefix scoring <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> in joint CTC/attention decoding, we propose the RNN-T prefix scoring, which modifies a forward algorithm in a label synchronous manner.
Algorithm 2 shows the details of the RNN-T prefix scoring, which computes the sum of the probabilities of all RNN-T paths that yield the hypothesis <math id="S4.SS3.SSS2.p1.1.m1.1" class="ltx_Math" alttext="\tilde{l}" display="inline"><semantics id="S4.SS3.SSS2.p1.1.m1.1a"><mover accent="true" id="S4.SS3.SSS2.p1.1.m1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.cmml"><mi id="S4.SS3.SSS2.p1.1.m1.1.1.2" xref="S4.SS3.SSS2.p1.1.m1.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS2.p1.1.m1.1.1.1" xref="S4.SS3.SSS2.p1.1.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.1.m1.1b"><apply id="S4.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1"><ci id="S4.SS3.SSS2.p1.1.m1.1.1.1.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.1">~</ci><ci id="S4.SS3.SSS2.p1.1.m1.1.1.2.cmml" xref="S4.SS3.SSS2.p1.1.m1.1.1.2">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.1.m1.1c">\tilde{l}</annotation></semantics></math>.
Specifically, it repeats the <math id="S4.SS3.SSS2.p1.2.m2.1" class="ltx_Math" alttext="\gamma_{t}(l)" display="inline"><semantics id="S4.SS3.SSS2.p1.2.m2.1a"><mrow id="S4.SS3.SSS2.p1.2.m2.1.2" xref="S4.SS3.SSS2.p1.2.m2.1.2.cmml"><msub id="S4.SS3.SSS2.p1.2.m2.1.2.2" xref="S4.SS3.SSS2.p1.2.m2.1.2.2.cmml"><mi id="S4.SS3.SSS2.p1.2.m2.1.2.2.2" xref="S4.SS3.SSS2.p1.2.m2.1.2.2.2.cmml">γ</mi><mi id="S4.SS3.SSS2.p1.2.m2.1.2.2.3" xref="S4.SS3.SSS2.p1.2.m2.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p1.2.m2.1.2.1" xref="S4.SS3.SSS2.p1.2.m2.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p1.2.m2.1.2.3.2" xref="S4.SS3.SSS2.p1.2.m2.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p1.2.m2.1.2.3.2.1" xref="S4.SS3.SSS2.p1.2.m2.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p1.2.m2.1.1" xref="S4.SS3.SSS2.p1.2.m2.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p1.2.m2.1.2.3.2.2" xref="S4.SS3.SSS2.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.2.m2.1b"><apply id="S4.SS3.SSS2.p1.2.m2.1.2.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.2"><times id="S4.SS3.SSS2.p1.2.m2.1.2.1.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.2.1"></times><apply id="S4.SS3.SSS2.p1.2.m2.1.2.2.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.2.m2.1.2.2.1.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p1.2.m2.1.2.2.2.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.2.2.2">𝛾</ci><ci id="S4.SS3.SSS2.p1.2.m2.1.2.2.3.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.2.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p1.2.m2.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.2.m2.1c">\gamma_{t}(l)</annotation></semantics></math> computation step and the <math id="S4.SS3.SSS2.p1.3.m3.1" class="ltx_Math" alttext="\Psi_{t}(\tilde{l})" display="inline"><semantics id="S4.SS3.SSS2.p1.3.m3.1a"><mrow id="S4.SS3.SSS2.p1.3.m3.1.2" xref="S4.SS3.SSS2.p1.3.m3.1.2.cmml"><msub id="S4.SS3.SSS2.p1.3.m3.1.2.2" xref="S4.SS3.SSS2.p1.3.m3.1.2.2.cmml"><mi mathvariant="normal" id="S4.SS3.SSS2.p1.3.m3.1.2.2.2" xref="S4.SS3.SSS2.p1.3.m3.1.2.2.2.cmml">Ψ</mi><mi id="S4.SS3.SSS2.p1.3.m3.1.2.2.3" xref="S4.SS3.SSS2.p1.3.m3.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p1.3.m3.1.2.1" xref="S4.SS3.SSS2.p1.3.m3.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p1.3.m3.1.2.3.2" xref="S4.SS3.SSS2.p1.3.m3.1.1.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p1.3.m3.1.2.3.2.1" xref="S4.SS3.SSS2.p1.3.m3.1.1.cmml">(</mo><mover accent="true" id="S4.SS3.SSS2.p1.3.m3.1.1" xref="S4.SS3.SSS2.p1.3.m3.1.1.cmml"><mi id="S4.SS3.SSS2.p1.3.m3.1.1.2" xref="S4.SS3.SSS2.p1.3.m3.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS2.p1.3.m3.1.1.1" xref="S4.SS3.SSS2.p1.3.m3.1.1.1.cmml">~</mo></mover><mo stretchy="false" id="S4.SS3.SSS2.p1.3.m3.1.2.3.2.2" xref="S4.SS3.SSS2.p1.3.m3.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.3.m3.1b"><apply id="S4.SS3.SSS2.p1.3.m3.1.2.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.2"><times id="S4.SS3.SSS2.p1.3.m3.1.2.1.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.2.1"></times><apply id="S4.SS3.SSS2.p1.3.m3.1.2.2.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.3.m3.1.2.2.1.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p1.3.m3.1.2.2.2.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.2.2.2">Ψ</ci><ci id="S4.SS3.SSS2.p1.3.m3.1.2.2.3.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.2.2.3">𝑡</ci></apply><apply id="S4.SS3.SSS2.p1.3.m3.1.1.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.2.3.2"><ci id="S4.SS3.SSS2.p1.3.m3.1.1.1.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.1.1">~</ci><ci id="S4.SS3.SSS2.p1.3.m3.1.1.2.cmml" xref="S4.SS3.SSS2.p1.3.m3.1.1.2">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.3.m3.1c">\Psi_{t}(\tilde{l})</annotation></semantics></math> computation step (lines 3-4 in Algorithm 2). Here, <math id="S4.SS3.SSS2.p1.4.m4.1" class="ltx_Math" alttext="\gamma_{t}(l)" display="inline"><semantics id="S4.SS3.SSS2.p1.4.m4.1a"><mrow id="S4.SS3.SSS2.p1.4.m4.1.2" xref="S4.SS3.SSS2.p1.4.m4.1.2.cmml"><msub id="S4.SS3.SSS2.p1.4.m4.1.2.2" xref="S4.SS3.SSS2.p1.4.m4.1.2.2.cmml"><mi id="S4.SS3.SSS2.p1.4.m4.1.2.2.2" xref="S4.SS3.SSS2.p1.4.m4.1.2.2.2.cmml">γ</mi><mi id="S4.SS3.SSS2.p1.4.m4.1.2.2.3" xref="S4.SS3.SSS2.p1.4.m4.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p1.4.m4.1.2.1" xref="S4.SS3.SSS2.p1.4.m4.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p1.4.m4.1.2.3.2" xref="S4.SS3.SSS2.p1.4.m4.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p1.4.m4.1.2.3.2.1" xref="S4.SS3.SSS2.p1.4.m4.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p1.4.m4.1.1" xref="S4.SS3.SSS2.p1.4.m4.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p1.4.m4.1.2.3.2.2" xref="S4.SS3.SSS2.p1.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.4.m4.1b"><apply id="S4.SS3.SSS2.p1.4.m4.1.2.cmml" xref="S4.SS3.SSS2.p1.4.m4.1.2"><times id="S4.SS3.SSS2.p1.4.m4.1.2.1.cmml" xref="S4.SS3.SSS2.p1.4.m4.1.2.1"></times><apply id="S4.SS3.SSS2.p1.4.m4.1.2.2.cmml" xref="S4.SS3.SSS2.p1.4.m4.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.4.m4.1.2.2.1.cmml" xref="S4.SS3.SSS2.p1.4.m4.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p1.4.m4.1.2.2.2.cmml" xref="S4.SS3.SSS2.p1.4.m4.1.2.2.2">𝛾</ci><ci id="S4.SS3.SSS2.p1.4.m4.1.2.2.3.cmml" xref="S4.SS3.SSS2.p1.4.m4.1.2.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p1.4.m4.1.1.cmml" xref="S4.SS3.SSS2.p1.4.m4.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.4.m4.1c">\gamma_{t}(l)</annotation></semantics></math> and <math id="S4.SS3.SSS2.p1.5.m5.1" class="ltx_Math" alttext="\Psi_{t}(\tilde{l})" display="inline"><semantics id="S4.SS3.SSS2.p1.5.m5.1a"><mrow id="S4.SS3.SSS2.p1.5.m5.1.2" xref="S4.SS3.SSS2.p1.5.m5.1.2.cmml"><msub id="S4.SS3.SSS2.p1.5.m5.1.2.2" xref="S4.SS3.SSS2.p1.5.m5.1.2.2.cmml"><mi mathvariant="normal" id="S4.SS3.SSS2.p1.5.m5.1.2.2.2" xref="S4.SS3.SSS2.p1.5.m5.1.2.2.2.cmml">Ψ</mi><mi id="S4.SS3.SSS2.p1.5.m5.1.2.2.3" xref="S4.SS3.SSS2.p1.5.m5.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p1.5.m5.1.2.1" xref="S4.SS3.SSS2.p1.5.m5.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p1.5.m5.1.2.3.2" xref="S4.SS3.SSS2.p1.5.m5.1.1.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p1.5.m5.1.2.3.2.1" xref="S4.SS3.SSS2.p1.5.m5.1.1.cmml">(</mo><mover accent="true" id="S4.SS3.SSS2.p1.5.m5.1.1" xref="S4.SS3.SSS2.p1.5.m5.1.1.cmml"><mi id="S4.SS3.SSS2.p1.5.m5.1.1.2" xref="S4.SS3.SSS2.p1.5.m5.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS2.p1.5.m5.1.1.1" xref="S4.SS3.SSS2.p1.5.m5.1.1.1.cmml">~</mo></mover><mo stretchy="false" id="S4.SS3.SSS2.p1.5.m5.1.2.3.2.2" xref="S4.SS3.SSS2.p1.5.m5.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.5.m5.1b"><apply id="S4.SS3.SSS2.p1.5.m5.1.2.cmml" xref="S4.SS3.SSS2.p1.5.m5.1.2"><times id="S4.SS3.SSS2.p1.5.m5.1.2.1.cmml" xref="S4.SS3.SSS2.p1.5.m5.1.2.1"></times><apply id="S4.SS3.SSS2.p1.5.m5.1.2.2.cmml" xref="S4.SS3.SSS2.p1.5.m5.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.5.m5.1.2.2.1.cmml" xref="S4.SS3.SSS2.p1.5.m5.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p1.5.m5.1.2.2.2.cmml" xref="S4.SS3.SSS2.p1.5.m5.1.2.2.2">Ψ</ci><ci id="S4.SS3.SSS2.p1.5.m5.1.2.2.3.cmml" xref="S4.SS3.SSS2.p1.5.m5.1.2.2.3">𝑡</ci></apply><apply id="S4.SS3.SSS2.p1.5.m5.1.1.cmml" xref="S4.SS3.SSS2.p1.5.m5.1.2.3.2"><ci id="S4.SS3.SSS2.p1.5.m5.1.1.1.cmml" xref="S4.SS3.SSS2.p1.5.m5.1.1.1">~</ci><ci id="S4.SS3.SSS2.p1.5.m5.1.1.2.cmml" xref="S4.SS3.SSS2.p1.5.m5.1.1.2">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.5.m5.1c">\Psi_{t}(\tilde{l})</annotation></semantics></math> denote the sum of the probabilities yielding hypothesis <math id="S4.SS3.SSS2.p1.6.m6.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S4.SS3.SSS2.p1.6.m6.1a"><mi id="S4.SS3.SSS2.p1.6.m6.1.1" xref="S4.SS3.SSS2.p1.6.m6.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.6.m6.1b"><ci id="S4.SS3.SSS2.p1.6.m6.1.1.cmml" xref="S4.SS3.SSS2.p1.6.m6.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.6.m6.1c">l</annotation></semantics></math> and the probability of outputting the last token <math id="S4.SS3.SSS2.p1.7.m7.1" class="ltx_Math" alttext="y_{s}" display="inline"><semantics id="S4.SS3.SSS2.p1.7.m7.1a"><msub id="S4.SS3.SSS2.p1.7.m7.1.1" xref="S4.SS3.SSS2.p1.7.m7.1.1.cmml"><mi id="S4.SS3.SSS2.p1.7.m7.1.1.2" xref="S4.SS3.SSS2.p1.7.m7.1.1.2.cmml">y</mi><mi id="S4.SS3.SSS2.p1.7.m7.1.1.3" xref="S4.SS3.SSS2.p1.7.m7.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.7.m7.1b"><apply id="S4.SS3.SSS2.p1.7.m7.1.1.cmml" xref="S4.SS3.SSS2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p1.7.m7.1.1.1.cmml" xref="S4.SS3.SSS2.p1.7.m7.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p1.7.m7.1.1.2.cmml" xref="S4.SS3.SSS2.p1.7.m7.1.1.2">𝑦</ci><ci id="S4.SS3.SSS2.p1.7.m7.1.1.3.cmml" xref="S4.SS3.SSS2.p1.7.m7.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.7.m7.1c">y_{s}</annotation></semantics></math>, resulting in the hypothesis <math id="S4.SS3.SSS2.p1.8.m8.1" class="ltx_Math" alttext="\tilde{l}" display="inline"><semantics id="S4.SS3.SSS2.p1.8.m8.1a"><mover accent="true" id="S4.SS3.SSS2.p1.8.m8.1.1" xref="S4.SS3.SSS2.p1.8.m8.1.1.cmml"><mi id="S4.SS3.SSS2.p1.8.m8.1.1.2" xref="S4.SS3.SSS2.p1.8.m8.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS2.p1.8.m8.1.1.1" xref="S4.SS3.SSS2.p1.8.m8.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.8.m8.1b"><apply id="S4.SS3.SSS2.p1.8.m8.1.1.cmml" xref="S4.SS3.SSS2.p1.8.m8.1.1"><ci id="S4.SS3.SSS2.p1.8.m8.1.1.1.cmml" xref="S4.SS3.SSS2.p1.8.m8.1.1.1">~</ci><ci id="S4.SS3.SSS2.p1.8.m8.1.1.2.cmml" xref="S4.SS3.SSS2.p1.8.m8.1.1.2">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.8.m8.1c">\tilde{l}</annotation></semantics></math> at time <math id="S4.SS3.SSS2.p1.9.m9.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS3.SSS2.p1.9.m9.1a"><mi id="S4.SS3.SSS2.p1.9.m9.1.1" xref="S4.SS3.SSS2.p1.9.m9.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p1.9.m9.1b"><ci id="S4.SS3.SSS2.p1.9.m9.1.1.cmml" xref="S4.SS3.SSS2.p1.9.m9.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p1.9.m9.1c">t</annotation></semantics></math>, respectively (Figure <a href="#S4.F2" title="Figure 2 ‣ IV-C2 RNN-T prefix scoring ‣ IV-C Attention-driven one-pass beam search ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).</p>
</div>
<div id="S4.SS3.SSS2.p2" class="ltx_para">
<p id="S4.SS3.SSS2.p2.21" class="ltx_p">First, <math id="S4.SS3.SSS2.p2.1.m1.1" class="ltx_Math" alttext="\gamma_{t}(l)" display="inline"><semantics id="S4.SS3.SSS2.p2.1.m1.1a"><mrow id="S4.SS3.SSS2.p2.1.m1.1.2" xref="S4.SS3.SSS2.p2.1.m1.1.2.cmml"><msub id="S4.SS3.SSS2.p2.1.m1.1.2.2" xref="S4.SS3.SSS2.p2.1.m1.1.2.2.cmml"><mi id="S4.SS3.SSS2.p2.1.m1.1.2.2.2" xref="S4.SS3.SSS2.p2.1.m1.1.2.2.2.cmml">γ</mi><mi id="S4.SS3.SSS2.p2.1.m1.1.2.2.3" xref="S4.SS3.SSS2.p2.1.m1.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.1.m1.1.2.1" xref="S4.SS3.SSS2.p2.1.m1.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.1.m1.1.2.3.2" xref="S4.SS3.SSS2.p2.1.m1.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.1.m1.1.2.3.2.1" xref="S4.SS3.SSS2.p2.1.m1.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p2.1.m1.1.1" xref="S4.SS3.SSS2.p2.1.m1.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p2.1.m1.1.2.3.2.2" xref="S4.SS3.SSS2.p2.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.1.m1.1b"><apply id="S4.SS3.SSS2.p2.1.m1.1.2.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.2"><times id="S4.SS3.SSS2.p2.1.m1.1.2.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.2.1"></times><apply id="S4.SS3.SSS2.p2.1.m1.1.2.2.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.1.m1.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.1.m1.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.2.2.2">𝛾</ci><ci id="S4.SS3.SSS2.p2.1.m1.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.2.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.1.m1.1c">\gamma_{t}(l)</annotation></semantics></math> is computed based on <math id="S4.SS3.SSS2.p2.2.m2.1" class="ltx_Math" alttext="\Psi_{t}(l)" display="inline"><semantics id="S4.SS3.SSS2.p2.2.m2.1a"><mrow id="S4.SS3.SSS2.p2.2.m2.1.2" xref="S4.SS3.SSS2.p2.2.m2.1.2.cmml"><msub id="S4.SS3.SSS2.p2.2.m2.1.2.2" xref="S4.SS3.SSS2.p2.2.m2.1.2.2.cmml"><mi mathvariant="normal" id="S4.SS3.SSS2.p2.2.m2.1.2.2.2" xref="S4.SS3.SSS2.p2.2.m2.1.2.2.2.cmml">Ψ</mi><mi id="S4.SS3.SSS2.p2.2.m2.1.2.2.3" xref="S4.SS3.SSS2.p2.2.m2.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.2.m2.1.2.1" xref="S4.SS3.SSS2.p2.2.m2.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.2.m2.1.2.3.2" xref="S4.SS3.SSS2.p2.2.m2.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.2.m2.1.2.3.2.1" xref="S4.SS3.SSS2.p2.2.m2.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p2.2.m2.1.1" xref="S4.SS3.SSS2.p2.2.m2.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p2.2.m2.1.2.3.2.2" xref="S4.SS3.SSS2.p2.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.2.m2.1b"><apply id="S4.SS3.SSS2.p2.2.m2.1.2.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.2"><times id="S4.SS3.SSS2.p2.2.m2.1.2.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.2.1"></times><apply id="S4.SS3.SSS2.p2.2.m2.1.2.2.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.2.m2.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.2.m2.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.2.2.2">Ψ</ci><ci id="S4.SS3.SSS2.p2.2.m2.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.2.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p2.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.2.m2.1c">\Psi_{t}(l)</annotation></semantics></math>, which is initialized for <math id="S4.SS3.SSS2.p2.3.m3.3" class="ltx_Math" alttext="t=1,\cdots,T" display="inline"><semantics id="S4.SS3.SSS2.p2.3.m3.3a"><mrow id="S4.SS3.SSS2.p2.3.m3.3.4" xref="S4.SS3.SSS2.p2.3.m3.3.4.cmml"><mi id="S4.SS3.SSS2.p2.3.m3.3.4.2" xref="S4.SS3.SSS2.p2.3.m3.3.4.2.cmml">t</mi><mo id="S4.SS3.SSS2.p2.3.m3.3.4.1" xref="S4.SS3.SSS2.p2.3.m3.3.4.1.cmml">=</mo><mrow id="S4.SS3.SSS2.p2.3.m3.3.4.3.2" xref="S4.SS3.SSS2.p2.3.m3.3.4.3.1.cmml"><mn id="S4.SS3.SSS2.p2.3.m3.1.1" xref="S4.SS3.SSS2.p2.3.m3.1.1.cmml">1</mn><mo id="S4.SS3.SSS2.p2.3.m3.3.4.3.2.1" xref="S4.SS3.SSS2.p2.3.m3.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S4.SS3.SSS2.p2.3.m3.2.2" xref="S4.SS3.SSS2.p2.3.m3.2.2.cmml">⋯</mi><mo id="S4.SS3.SSS2.p2.3.m3.3.4.3.2.2" xref="S4.SS3.SSS2.p2.3.m3.3.4.3.1.cmml">,</mo><mi id="S4.SS3.SSS2.p2.3.m3.3.3" xref="S4.SS3.SSS2.p2.3.m3.3.3.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.3.m3.3b"><apply id="S4.SS3.SSS2.p2.3.m3.3.4.cmml" xref="S4.SS3.SSS2.p2.3.m3.3.4"><eq id="S4.SS3.SSS2.p2.3.m3.3.4.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.3.4.1"></eq><ci id="S4.SS3.SSS2.p2.3.m3.3.4.2.cmml" xref="S4.SS3.SSS2.p2.3.m3.3.4.2">𝑡</ci><list id="S4.SS3.SSS2.p2.3.m3.3.4.3.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.3.4.3.2"><cn type="integer" id="S4.SS3.SSS2.p2.3.m3.1.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1">1</cn><ci id="S4.SS3.SSS2.p2.3.m3.2.2.cmml" xref="S4.SS3.SSS2.p2.3.m3.2.2">⋯</ci><ci id="S4.SS3.SSS2.p2.3.m3.3.3.cmml" xref="S4.SS3.SSS2.p2.3.m3.3.3">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.3.m3.3c">t=1,\cdots,T</annotation></semantics></math> before starting the beam search (line 2 in Algorithm 1).
As depicted in Figure <a href="#S4.F2" title="Figure 2 ‣ IV-C2 RNN-T prefix scoring ‣ IV-C Attention-driven one-pass beam search ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (a), <math id="S4.SS3.SSS2.p2.4.m4.1" class="ltx_Math" alttext="\gamma_{t}(l)" display="inline"><semantics id="S4.SS3.SSS2.p2.4.m4.1a"><mrow id="S4.SS3.SSS2.p2.4.m4.1.2" xref="S4.SS3.SSS2.p2.4.m4.1.2.cmml"><msub id="S4.SS3.SSS2.p2.4.m4.1.2.2" xref="S4.SS3.SSS2.p2.4.m4.1.2.2.cmml"><mi id="S4.SS3.SSS2.p2.4.m4.1.2.2.2" xref="S4.SS3.SSS2.p2.4.m4.1.2.2.2.cmml">γ</mi><mi id="S4.SS3.SSS2.p2.4.m4.1.2.2.3" xref="S4.SS3.SSS2.p2.4.m4.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.4.m4.1.2.1" xref="S4.SS3.SSS2.p2.4.m4.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.4.m4.1.2.3.2" xref="S4.SS3.SSS2.p2.4.m4.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.4.m4.1.2.3.2.1" xref="S4.SS3.SSS2.p2.4.m4.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p2.4.m4.1.1" xref="S4.SS3.SSS2.p2.4.m4.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p2.4.m4.1.2.3.2.2" xref="S4.SS3.SSS2.p2.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.4.m4.1b"><apply id="S4.SS3.SSS2.p2.4.m4.1.2.cmml" xref="S4.SS3.SSS2.p2.4.m4.1.2"><times id="S4.SS3.SSS2.p2.4.m4.1.2.1.cmml" xref="S4.SS3.SSS2.p2.4.m4.1.2.1"></times><apply id="S4.SS3.SSS2.p2.4.m4.1.2.2.cmml" xref="S4.SS3.SSS2.p2.4.m4.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.4.m4.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.4.m4.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.4.m4.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.4.m4.1.2.2.2">𝛾</ci><ci id="S4.SS3.SSS2.p2.4.m4.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.4.m4.1.2.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p2.4.m4.1.1.cmml" xref="S4.SS3.SSS2.p2.4.m4.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.4.m4.1c">\gamma_{t}(l)</annotation></semantics></math> is the sum of <math id="S4.SS3.SSS2.p2.5.m5.1" class="ltx_Math" alttext="\Psi_{t}(l)" display="inline"><semantics id="S4.SS3.SSS2.p2.5.m5.1a"><mrow id="S4.SS3.SSS2.p2.5.m5.1.2" xref="S4.SS3.SSS2.p2.5.m5.1.2.cmml"><msub id="S4.SS3.SSS2.p2.5.m5.1.2.2" xref="S4.SS3.SSS2.p2.5.m5.1.2.2.cmml"><mi mathvariant="normal" id="S4.SS3.SSS2.p2.5.m5.1.2.2.2" xref="S4.SS3.SSS2.p2.5.m5.1.2.2.2.cmml">Ψ</mi><mi id="S4.SS3.SSS2.p2.5.m5.1.2.2.3" xref="S4.SS3.SSS2.p2.5.m5.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.5.m5.1.2.1" xref="S4.SS3.SSS2.p2.5.m5.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.5.m5.1.2.3.2" xref="S4.SS3.SSS2.p2.5.m5.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.5.m5.1.2.3.2.1" xref="S4.SS3.SSS2.p2.5.m5.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p2.5.m5.1.1" xref="S4.SS3.SSS2.p2.5.m5.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p2.5.m5.1.2.3.2.2" xref="S4.SS3.SSS2.p2.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.5.m5.1b"><apply id="S4.SS3.SSS2.p2.5.m5.1.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.1.2"><times id="S4.SS3.SSS2.p2.5.m5.1.2.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.1.2.1"></times><apply id="S4.SS3.SSS2.p2.5.m5.1.2.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.5.m5.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.5.m5.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.1.2.2.2">Ψ</ci><ci id="S4.SS3.SSS2.p2.5.m5.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.5.m5.1.2.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p2.5.m5.1.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.5.m5.1c">\Psi_{t}(l)</annotation></semantics></math> and the probability of outputting a blank label <math id="S4.SS3.SSS2.p2.6.m6.1" class="ltx_Math" alttext="\phi" display="inline"><semantics id="S4.SS3.SSS2.p2.6.m6.1a"><mi id="S4.SS3.SSS2.p2.6.m6.1.1" xref="S4.SS3.SSS2.p2.6.m6.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.6.m6.1b"><ci id="S4.SS3.SSS2.p2.6.m6.1.1.cmml" xref="S4.SS3.SSS2.p2.6.m6.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.6.m6.1c">\phi</annotation></semantics></math> from <math id="S4.SS3.SSS2.p2.7.m7.1" class="ltx_Math" alttext="\gamma_{t-1}(l)" display="inline"><semantics id="S4.SS3.SSS2.p2.7.m7.1a"><mrow id="S4.SS3.SSS2.p2.7.m7.1.2" xref="S4.SS3.SSS2.p2.7.m7.1.2.cmml"><msub id="S4.SS3.SSS2.p2.7.m7.1.2.2" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.cmml"><mi id="S4.SS3.SSS2.p2.7.m7.1.2.2.2" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.2.cmml">γ</mi><mrow id="S4.SS3.SSS2.p2.7.m7.1.2.2.3" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.3.cmml"><mi id="S4.SS3.SSS2.p2.7.m7.1.2.2.3.2" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.3.2.cmml">t</mi><mo id="S4.SS3.SSS2.p2.7.m7.1.2.2.3.1" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.3.1.cmml">−</mo><mn id="S4.SS3.SSS2.p2.7.m7.1.2.2.3.3" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.3.3.cmml">1</mn></mrow></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.7.m7.1.2.1" xref="S4.SS3.SSS2.p2.7.m7.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.7.m7.1.2.3.2" xref="S4.SS3.SSS2.p2.7.m7.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.7.m7.1.2.3.2.1" xref="S4.SS3.SSS2.p2.7.m7.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p2.7.m7.1.1" xref="S4.SS3.SSS2.p2.7.m7.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p2.7.m7.1.2.3.2.2" xref="S4.SS3.SSS2.p2.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.7.m7.1b"><apply id="S4.SS3.SSS2.p2.7.m7.1.2.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.2"><times id="S4.SS3.SSS2.p2.7.m7.1.2.1.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.2.1"></times><apply id="S4.SS3.SSS2.p2.7.m7.1.2.2.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.7.m7.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.7.m7.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.2">𝛾</ci><apply id="S4.SS3.SSS2.p2.7.m7.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.3"><minus id="S4.SS3.SSS2.p2.7.m7.1.2.2.3.1.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.3.1"></minus><ci id="S4.SS3.SSS2.p2.7.m7.1.2.2.3.2.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.3.2">𝑡</ci><cn type="integer" id="S4.SS3.SSS2.p2.7.m7.1.2.2.3.3.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.2.2.3.3">1</cn></apply></apply><ci id="S4.SS3.SSS2.p2.7.m7.1.1.cmml" xref="S4.SS3.SSS2.p2.7.m7.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.7.m7.1c">\gamma_{t-1}(l)</annotation></semantics></math>.
Then, <math id="S4.SS3.SSS2.p2.8.m8.1" class="ltx_Math" alttext="\Psi_{t}(\tilde{l})" display="inline"><semantics id="S4.SS3.SSS2.p2.8.m8.1a"><mrow id="S4.SS3.SSS2.p2.8.m8.1.2" xref="S4.SS3.SSS2.p2.8.m8.1.2.cmml"><msub id="S4.SS3.SSS2.p2.8.m8.1.2.2" xref="S4.SS3.SSS2.p2.8.m8.1.2.2.cmml"><mi mathvariant="normal" id="S4.SS3.SSS2.p2.8.m8.1.2.2.2" xref="S4.SS3.SSS2.p2.8.m8.1.2.2.2.cmml">Ψ</mi><mi id="S4.SS3.SSS2.p2.8.m8.1.2.2.3" xref="S4.SS3.SSS2.p2.8.m8.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.8.m8.1.2.1" xref="S4.SS3.SSS2.p2.8.m8.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.8.m8.1.2.3.2" xref="S4.SS3.SSS2.p2.8.m8.1.1.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.8.m8.1.2.3.2.1" xref="S4.SS3.SSS2.p2.8.m8.1.1.cmml">(</mo><mover accent="true" id="S4.SS3.SSS2.p2.8.m8.1.1" xref="S4.SS3.SSS2.p2.8.m8.1.1.cmml"><mi id="S4.SS3.SSS2.p2.8.m8.1.1.2" xref="S4.SS3.SSS2.p2.8.m8.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS2.p2.8.m8.1.1.1" xref="S4.SS3.SSS2.p2.8.m8.1.1.1.cmml">~</mo></mover><mo stretchy="false" id="S4.SS3.SSS2.p2.8.m8.1.2.3.2.2" xref="S4.SS3.SSS2.p2.8.m8.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.8.m8.1b"><apply id="S4.SS3.SSS2.p2.8.m8.1.2.cmml" xref="S4.SS3.SSS2.p2.8.m8.1.2"><times id="S4.SS3.SSS2.p2.8.m8.1.2.1.cmml" xref="S4.SS3.SSS2.p2.8.m8.1.2.1"></times><apply id="S4.SS3.SSS2.p2.8.m8.1.2.2.cmml" xref="S4.SS3.SSS2.p2.8.m8.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.8.m8.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.8.m8.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.8.m8.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.8.m8.1.2.2.2">Ψ</ci><ci id="S4.SS3.SSS2.p2.8.m8.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.8.m8.1.2.2.3">𝑡</ci></apply><apply id="S4.SS3.SSS2.p2.8.m8.1.1.cmml" xref="S4.SS3.SSS2.p2.8.m8.1.2.3.2"><ci id="S4.SS3.SSS2.p2.8.m8.1.1.1.cmml" xref="S4.SS3.SSS2.p2.8.m8.1.1.1">~</ci><ci id="S4.SS3.SSS2.p2.8.m8.1.1.2.cmml" xref="S4.SS3.SSS2.p2.8.m8.1.1.2">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.8.m8.1c">\Psi_{t}(\tilde{l})</annotation></semantics></math> is computed using <math id="S4.SS3.SSS2.p2.9.m9.1" class="ltx_Math" alttext="\gamma_{t}(l)" display="inline"><semantics id="S4.SS3.SSS2.p2.9.m9.1a"><mrow id="S4.SS3.SSS2.p2.9.m9.1.2" xref="S4.SS3.SSS2.p2.9.m9.1.2.cmml"><msub id="S4.SS3.SSS2.p2.9.m9.1.2.2" xref="S4.SS3.SSS2.p2.9.m9.1.2.2.cmml"><mi id="S4.SS3.SSS2.p2.9.m9.1.2.2.2" xref="S4.SS3.SSS2.p2.9.m9.1.2.2.2.cmml">γ</mi><mi id="S4.SS3.SSS2.p2.9.m9.1.2.2.3" xref="S4.SS3.SSS2.p2.9.m9.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.9.m9.1.2.1" xref="S4.SS3.SSS2.p2.9.m9.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.9.m9.1.2.3.2" xref="S4.SS3.SSS2.p2.9.m9.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.9.m9.1.2.3.2.1" xref="S4.SS3.SSS2.p2.9.m9.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p2.9.m9.1.1" xref="S4.SS3.SSS2.p2.9.m9.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p2.9.m9.1.2.3.2.2" xref="S4.SS3.SSS2.p2.9.m9.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.9.m9.1b"><apply id="S4.SS3.SSS2.p2.9.m9.1.2.cmml" xref="S4.SS3.SSS2.p2.9.m9.1.2"><times id="S4.SS3.SSS2.p2.9.m9.1.2.1.cmml" xref="S4.SS3.SSS2.p2.9.m9.1.2.1"></times><apply id="S4.SS3.SSS2.p2.9.m9.1.2.2.cmml" xref="S4.SS3.SSS2.p2.9.m9.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.9.m9.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.9.m9.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.9.m9.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.9.m9.1.2.2.2">𝛾</ci><ci id="S4.SS3.SSS2.p2.9.m9.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.9.m9.1.2.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p2.9.m9.1.1.cmml" xref="S4.SS3.SSS2.p2.9.m9.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.9.m9.1c">\gamma_{t}(l)</annotation></semantics></math> (line 4 in Algorithm 2). As shown in Figure <a href="#S4.F2" title="Figure 2 ‣ IV-C2 RNN-T prefix scoring ‣ IV-C Attention-driven one-pass beam search ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (b), <math id="S4.SS3.SSS2.p2.10.m10.1" class="ltx_Math" alttext="\Psi_{t}(\tilde{l})" display="inline"><semantics id="S4.SS3.SSS2.p2.10.m10.1a"><mrow id="S4.SS3.SSS2.p2.10.m10.1.2" xref="S4.SS3.SSS2.p2.10.m10.1.2.cmml"><msub id="S4.SS3.SSS2.p2.10.m10.1.2.2" xref="S4.SS3.SSS2.p2.10.m10.1.2.2.cmml"><mi mathvariant="normal" id="S4.SS3.SSS2.p2.10.m10.1.2.2.2" xref="S4.SS3.SSS2.p2.10.m10.1.2.2.2.cmml">Ψ</mi><mi id="S4.SS3.SSS2.p2.10.m10.1.2.2.3" xref="S4.SS3.SSS2.p2.10.m10.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.10.m10.1.2.1" xref="S4.SS3.SSS2.p2.10.m10.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.10.m10.1.2.3.2" xref="S4.SS3.SSS2.p2.10.m10.1.1.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.10.m10.1.2.3.2.1" xref="S4.SS3.SSS2.p2.10.m10.1.1.cmml">(</mo><mover accent="true" id="S4.SS3.SSS2.p2.10.m10.1.1" xref="S4.SS3.SSS2.p2.10.m10.1.1.cmml"><mi id="S4.SS3.SSS2.p2.10.m10.1.1.2" xref="S4.SS3.SSS2.p2.10.m10.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS2.p2.10.m10.1.1.1" xref="S4.SS3.SSS2.p2.10.m10.1.1.1.cmml">~</mo></mover><mo stretchy="false" id="S4.SS3.SSS2.p2.10.m10.1.2.3.2.2" xref="S4.SS3.SSS2.p2.10.m10.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.10.m10.1b"><apply id="S4.SS3.SSS2.p2.10.m10.1.2.cmml" xref="S4.SS3.SSS2.p2.10.m10.1.2"><times id="S4.SS3.SSS2.p2.10.m10.1.2.1.cmml" xref="S4.SS3.SSS2.p2.10.m10.1.2.1"></times><apply id="S4.SS3.SSS2.p2.10.m10.1.2.2.cmml" xref="S4.SS3.SSS2.p2.10.m10.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.10.m10.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.10.m10.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.10.m10.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.10.m10.1.2.2.2">Ψ</ci><ci id="S4.SS3.SSS2.p2.10.m10.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.10.m10.1.2.2.3">𝑡</ci></apply><apply id="S4.SS3.SSS2.p2.10.m10.1.1.cmml" xref="S4.SS3.SSS2.p2.10.m10.1.2.3.2"><ci id="S4.SS3.SSS2.p2.10.m10.1.1.1.cmml" xref="S4.SS3.SSS2.p2.10.m10.1.1.1">~</ci><ci id="S4.SS3.SSS2.p2.10.m10.1.1.2.cmml" xref="S4.SS3.SSS2.p2.10.m10.1.1.2">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.10.m10.1c">\Psi_{t}(\tilde{l})</annotation></semantics></math> is the probability of outputting <math id="S4.SS3.SSS2.p2.11.m11.1" class="ltx_Math" alttext="y_{s}" display="inline"><semantics id="S4.SS3.SSS2.p2.11.m11.1a"><msub id="S4.SS3.SSS2.p2.11.m11.1.1" xref="S4.SS3.SSS2.p2.11.m11.1.1.cmml"><mi id="S4.SS3.SSS2.p2.11.m11.1.1.2" xref="S4.SS3.SSS2.p2.11.m11.1.1.2.cmml">y</mi><mi id="S4.SS3.SSS2.p2.11.m11.1.1.3" xref="S4.SS3.SSS2.p2.11.m11.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.11.m11.1b"><apply id="S4.SS3.SSS2.p2.11.m11.1.1.cmml" xref="S4.SS3.SSS2.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.11.m11.1.1.1.cmml" xref="S4.SS3.SSS2.p2.11.m11.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p2.11.m11.1.1.2.cmml" xref="S4.SS3.SSS2.p2.11.m11.1.1.2">𝑦</ci><ci id="S4.SS3.SSS2.p2.11.m11.1.1.3.cmml" xref="S4.SS3.SSS2.p2.11.m11.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.11.m11.1c">y_{s}</annotation></semantics></math> from <math id="S4.SS3.SSS2.p2.12.m12.1" class="ltx_Math" alttext="\gamma_{t}(l)" display="inline"><semantics id="S4.SS3.SSS2.p2.12.m12.1a"><mrow id="S4.SS3.SSS2.p2.12.m12.1.2" xref="S4.SS3.SSS2.p2.12.m12.1.2.cmml"><msub id="S4.SS3.SSS2.p2.12.m12.1.2.2" xref="S4.SS3.SSS2.p2.12.m12.1.2.2.cmml"><mi id="S4.SS3.SSS2.p2.12.m12.1.2.2.2" xref="S4.SS3.SSS2.p2.12.m12.1.2.2.2.cmml">γ</mi><mi id="S4.SS3.SSS2.p2.12.m12.1.2.2.3" xref="S4.SS3.SSS2.p2.12.m12.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.12.m12.1.2.1" xref="S4.SS3.SSS2.p2.12.m12.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.12.m12.1.2.3.2" xref="S4.SS3.SSS2.p2.12.m12.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.12.m12.1.2.3.2.1" xref="S4.SS3.SSS2.p2.12.m12.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p2.12.m12.1.1" xref="S4.SS3.SSS2.p2.12.m12.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p2.12.m12.1.2.3.2.2" xref="S4.SS3.SSS2.p2.12.m12.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.12.m12.1b"><apply id="S4.SS3.SSS2.p2.12.m12.1.2.cmml" xref="S4.SS3.SSS2.p2.12.m12.1.2"><times id="S4.SS3.SSS2.p2.12.m12.1.2.1.cmml" xref="S4.SS3.SSS2.p2.12.m12.1.2.1"></times><apply id="S4.SS3.SSS2.p2.12.m12.1.2.2.cmml" xref="S4.SS3.SSS2.p2.12.m12.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.12.m12.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.12.m12.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.12.m12.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.12.m12.1.2.2.2">𝛾</ci><ci id="S4.SS3.SSS2.p2.12.m12.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.12.m12.1.2.2.3">𝑡</ci></apply><ci id="S4.SS3.SSS2.p2.12.m12.1.1.cmml" xref="S4.SS3.SSS2.p2.12.m12.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.12.m12.1c">\gamma_{t}(l)</annotation></semantics></math>.
These processes are computed iteratively for <math id="S4.SS3.SSS2.p2.13.m13.3" class="ltx_Math" alttext="t=1,\cdots,T" display="inline"><semantics id="S4.SS3.SSS2.p2.13.m13.3a"><mrow id="S4.SS3.SSS2.p2.13.m13.3.4" xref="S4.SS3.SSS2.p2.13.m13.3.4.cmml"><mi id="S4.SS3.SSS2.p2.13.m13.3.4.2" xref="S4.SS3.SSS2.p2.13.m13.3.4.2.cmml">t</mi><mo id="S4.SS3.SSS2.p2.13.m13.3.4.1" xref="S4.SS3.SSS2.p2.13.m13.3.4.1.cmml">=</mo><mrow id="S4.SS3.SSS2.p2.13.m13.3.4.3.2" xref="S4.SS3.SSS2.p2.13.m13.3.4.3.1.cmml"><mn id="S4.SS3.SSS2.p2.13.m13.1.1" xref="S4.SS3.SSS2.p2.13.m13.1.1.cmml">1</mn><mo id="S4.SS3.SSS2.p2.13.m13.3.4.3.2.1" xref="S4.SS3.SSS2.p2.13.m13.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S4.SS3.SSS2.p2.13.m13.2.2" xref="S4.SS3.SSS2.p2.13.m13.2.2.cmml">⋯</mi><mo id="S4.SS3.SSS2.p2.13.m13.3.4.3.2.2" xref="S4.SS3.SSS2.p2.13.m13.3.4.3.1.cmml">,</mo><mi id="S4.SS3.SSS2.p2.13.m13.3.3" xref="S4.SS3.SSS2.p2.13.m13.3.3.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.13.m13.3b"><apply id="S4.SS3.SSS2.p2.13.m13.3.4.cmml" xref="S4.SS3.SSS2.p2.13.m13.3.4"><eq id="S4.SS3.SSS2.p2.13.m13.3.4.1.cmml" xref="S4.SS3.SSS2.p2.13.m13.3.4.1"></eq><ci id="S4.SS3.SSS2.p2.13.m13.3.4.2.cmml" xref="S4.SS3.SSS2.p2.13.m13.3.4.2">𝑡</ci><list id="S4.SS3.SSS2.p2.13.m13.3.4.3.1.cmml" xref="S4.SS3.SSS2.p2.13.m13.3.4.3.2"><cn type="integer" id="S4.SS3.SSS2.p2.13.m13.1.1.cmml" xref="S4.SS3.SSS2.p2.13.m13.1.1">1</cn><ci id="S4.SS3.SSS2.p2.13.m13.2.2.cmml" xref="S4.SS3.SSS2.p2.13.m13.2.2">⋯</ci><ci id="S4.SS3.SSS2.p2.13.m13.3.3.cmml" xref="S4.SS3.SSS2.p2.13.m13.3.3">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.13.m13.3c">t=1,\cdots,T</annotation></semantics></math>.
Finally, <math id="S4.SS3.SSS2.p2.14.m14.1" class="ltx_Math" alttext="\Psi_{t}(\tilde{l})" display="inline"><semantics id="S4.SS3.SSS2.p2.14.m14.1a"><mrow id="S4.SS3.SSS2.p2.14.m14.1.2" xref="S4.SS3.SSS2.p2.14.m14.1.2.cmml"><msub id="S4.SS3.SSS2.p2.14.m14.1.2.2" xref="S4.SS3.SSS2.p2.14.m14.1.2.2.cmml"><mi mathvariant="normal" id="S4.SS3.SSS2.p2.14.m14.1.2.2.2" xref="S4.SS3.SSS2.p2.14.m14.1.2.2.2.cmml">Ψ</mi><mi id="S4.SS3.SSS2.p2.14.m14.1.2.2.3" xref="S4.SS3.SSS2.p2.14.m14.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.14.m14.1.2.1" xref="S4.SS3.SSS2.p2.14.m14.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.14.m14.1.2.3.2" xref="S4.SS3.SSS2.p2.14.m14.1.1.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.14.m14.1.2.3.2.1" xref="S4.SS3.SSS2.p2.14.m14.1.1.cmml">(</mo><mover accent="true" id="S4.SS3.SSS2.p2.14.m14.1.1" xref="S4.SS3.SSS2.p2.14.m14.1.1.cmml"><mi id="S4.SS3.SSS2.p2.14.m14.1.1.2" xref="S4.SS3.SSS2.p2.14.m14.1.1.2.cmml">l</mi><mo id="S4.SS3.SSS2.p2.14.m14.1.1.1" xref="S4.SS3.SSS2.p2.14.m14.1.1.1.cmml">~</mo></mover><mo stretchy="false" id="S4.SS3.SSS2.p2.14.m14.1.2.3.2.2" xref="S4.SS3.SSS2.p2.14.m14.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.14.m14.1b"><apply id="S4.SS3.SSS2.p2.14.m14.1.2.cmml" xref="S4.SS3.SSS2.p2.14.m14.1.2"><times id="S4.SS3.SSS2.p2.14.m14.1.2.1.cmml" xref="S4.SS3.SSS2.p2.14.m14.1.2.1"></times><apply id="S4.SS3.SSS2.p2.14.m14.1.2.2.cmml" xref="S4.SS3.SSS2.p2.14.m14.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.14.m14.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.14.m14.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.14.m14.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.14.m14.1.2.2.2">Ψ</ci><ci id="S4.SS3.SSS2.p2.14.m14.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.14.m14.1.2.2.3">𝑡</ci></apply><apply id="S4.SS3.SSS2.p2.14.m14.1.1.cmml" xref="S4.SS3.SSS2.p2.14.m14.1.2.3.2"><ci id="S4.SS3.SSS2.p2.14.m14.1.1.1.cmml" xref="S4.SS3.SSS2.p2.14.m14.1.1.1">~</ci><ci id="S4.SS3.SSS2.p2.14.m14.1.1.2.cmml" xref="S4.SS3.SSS2.p2.14.m14.1.1.2">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.14.m14.1c">\Psi_{t}(\tilde{l})</annotation></semantics></math> is summed for <math id="S4.SS3.SSS2.p2.15.m15.3" class="ltx_Math" alttext="t=1,\cdots,T" display="inline"><semantics id="S4.SS3.SSS2.p2.15.m15.3a"><mrow id="S4.SS3.SSS2.p2.15.m15.3.4" xref="S4.SS3.SSS2.p2.15.m15.3.4.cmml"><mi id="S4.SS3.SSS2.p2.15.m15.3.4.2" xref="S4.SS3.SSS2.p2.15.m15.3.4.2.cmml">t</mi><mo id="S4.SS3.SSS2.p2.15.m15.3.4.1" xref="S4.SS3.SSS2.p2.15.m15.3.4.1.cmml">=</mo><mrow id="S4.SS3.SSS2.p2.15.m15.3.4.3.2" xref="S4.SS3.SSS2.p2.15.m15.3.4.3.1.cmml"><mn id="S4.SS3.SSS2.p2.15.m15.1.1" xref="S4.SS3.SSS2.p2.15.m15.1.1.cmml">1</mn><mo id="S4.SS3.SSS2.p2.15.m15.3.4.3.2.1" xref="S4.SS3.SSS2.p2.15.m15.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S4.SS3.SSS2.p2.15.m15.2.2" xref="S4.SS3.SSS2.p2.15.m15.2.2.cmml">⋯</mi><mo id="S4.SS3.SSS2.p2.15.m15.3.4.3.2.2" xref="S4.SS3.SSS2.p2.15.m15.3.4.3.1.cmml">,</mo><mi id="S4.SS3.SSS2.p2.15.m15.3.3" xref="S4.SS3.SSS2.p2.15.m15.3.3.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.15.m15.3b"><apply id="S4.SS3.SSS2.p2.15.m15.3.4.cmml" xref="S4.SS3.SSS2.p2.15.m15.3.4"><eq id="S4.SS3.SSS2.p2.15.m15.3.4.1.cmml" xref="S4.SS3.SSS2.p2.15.m15.3.4.1"></eq><ci id="S4.SS3.SSS2.p2.15.m15.3.4.2.cmml" xref="S4.SS3.SSS2.p2.15.m15.3.4.2">𝑡</ci><list id="S4.SS3.SSS2.p2.15.m15.3.4.3.1.cmml" xref="S4.SS3.SSS2.p2.15.m15.3.4.3.2"><cn type="integer" id="S4.SS3.SSS2.p2.15.m15.1.1.cmml" xref="S4.SS3.SSS2.p2.15.m15.1.1">1</cn><ci id="S4.SS3.SSS2.p2.15.m15.2.2.cmml" xref="S4.SS3.SSS2.p2.15.m15.2.2">⋯</ci><ci id="S4.SS3.SSS2.p2.15.m15.3.3.cmml" xref="S4.SS3.SSS2.p2.15.m15.3.3">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.15.m15.3c">t=1,\cdots,T</annotation></semantics></math> (line 9 in Algorithm 2). If <math id="S4.SS3.SSS2.p2.16.m16.1" class="ltx_Math" alttext="y_{s}" display="inline"><semantics id="S4.SS3.SSS2.p2.16.m16.1a"><msub id="S4.SS3.SSS2.p2.16.m16.1.1" xref="S4.SS3.SSS2.p2.16.m16.1.1.cmml"><mi id="S4.SS3.SSS2.p2.16.m16.1.1.2" xref="S4.SS3.SSS2.p2.16.m16.1.1.2.cmml">y</mi><mi id="S4.SS3.SSS2.p2.16.m16.1.1.3" xref="S4.SS3.SSS2.p2.16.m16.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.16.m16.1b"><apply id="S4.SS3.SSS2.p2.16.m16.1.1.cmml" xref="S4.SS3.SSS2.p2.16.m16.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.16.m16.1.1.1.cmml" xref="S4.SS3.SSS2.p2.16.m16.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p2.16.m16.1.1.2.cmml" xref="S4.SS3.SSS2.p2.16.m16.1.1.2">𝑦</ci><ci id="S4.SS3.SSS2.p2.16.m16.1.1.3.cmml" xref="S4.SS3.SSS2.p2.16.m16.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.16.m16.1c">y_{s}</annotation></semantics></math> is the <math id="S4.SS3.SSS2.p2.17.m17.1" class="ltx_Math" alttext="&lt;" display="inline"><semantics id="S4.SS3.SSS2.p2.17.m17.1a"><mo id="S4.SS3.SSS2.p2.17.m17.1.1" xref="S4.SS3.SSS2.p2.17.m17.1.1.cmml">&lt;</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.17.m17.1b"><lt id="S4.SS3.SSS2.p2.17.m17.1.1.cmml" xref="S4.SS3.SSS2.p2.17.m17.1.1"></lt></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.17.m17.1c">&lt;</annotation></semantics></math>eos<math id="S4.SS3.SSS2.p2.18.m18.1" class="ltx_Math" alttext="&gt;" display="inline"><semantics id="S4.SS3.SSS2.p2.18.m18.1a"><mo id="S4.SS3.SSS2.p2.18.m18.1.1" xref="S4.SS3.SSS2.p2.18.m18.1.1.cmml">&gt;</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.18.m18.1b"><gt id="S4.SS3.SSS2.p2.18.m18.1.1.cmml" xref="S4.SS3.SSS2.p2.18.m18.1.1"></gt></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.18.m18.1c">&gt;</annotation></semantics></math> token, the probability of outputting a blank label <math id="S4.SS3.SSS2.p2.19.m19.1" class="ltx_Math" alttext="\phi" display="inline"><semantics id="S4.SS3.SSS2.p2.19.m19.1a"><mi id="S4.SS3.SSS2.p2.19.m19.1.1" xref="S4.SS3.SSS2.p2.19.m19.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.19.m19.1b"><ci id="S4.SS3.SSS2.p2.19.m19.1.1.cmml" xref="S4.SS3.SSS2.p2.19.m19.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.19.m19.1c">\phi</annotation></semantics></math> at time <math id="S4.SS3.SSS2.p2.20.m20.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S4.SS3.SSS2.p2.20.m20.1a"><mi id="S4.SS3.SSS2.p2.20.m20.1.1" xref="S4.SS3.SSS2.p2.20.m20.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.20.m20.1b"><ci id="S4.SS3.SSS2.p2.20.m20.1.1.cmml" xref="S4.SS3.SSS2.p2.20.m20.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.20.m20.1c">T</annotation></semantics></math> is determined from <math id="S4.SS3.SSS2.p2.21.m21.1" class="ltx_Math" alttext="\gamma_{T}(l)" display="inline"><semantics id="S4.SS3.SSS2.p2.21.m21.1a"><mrow id="S4.SS3.SSS2.p2.21.m21.1.2" xref="S4.SS3.SSS2.p2.21.m21.1.2.cmml"><msub id="S4.SS3.SSS2.p2.21.m21.1.2.2" xref="S4.SS3.SSS2.p2.21.m21.1.2.2.cmml"><mi id="S4.SS3.SSS2.p2.21.m21.1.2.2.2" xref="S4.SS3.SSS2.p2.21.m21.1.2.2.2.cmml">γ</mi><mi id="S4.SS3.SSS2.p2.21.m21.1.2.2.3" xref="S4.SS3.SSS2.p2.21.m21.1.2.2.3.cmml">T</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.21.m21.1.2.1" xref="S4.SS3.SSS2.p2.21.m21.1.2.1.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.21.m21.1.2.3.2" xref="S4.SS3.SSS2.p2.21.m21.1.2.cmml"><mo stretchy="false" id="S4.SS3.SSS2.p2.21.m21.1.2.3.2.1" xref="S4.SS3.SSS2.p2.21.m21.1.2.cmml">(</mo><mi id="S4.SS3.SSS2.p2.21.m21.1.1" xref="S4.SS3.SSS2.p2.21.m21.1.1.cmml">l</mi><mo stretchy="false" id="S4.SS3.SSS2.p2.21.m21.1.2.3.2.2" xref="S4.SS3.SSS2.p2.21.m21.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.21.m21.1b"><apply id="S4.SS3.SSS2.p2.21.m21.1.2.cmml" xref="S4.SS3.SSS2.p2.21.m21.1.2"><times id="S4.SS3.SSS2.p2.21.m21.1.2.1.cmml" xref="S4.SS3.SSS2.p2.21.m21.1.2.1"></times><apply id="S4.SS3.SSS2.p2.21.m21.1.2.2.cmml" xref="S4.SS3.SSS2.p2.21.m21.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.21.m21.1.2.2.1.cmml" xref="S4.SS3.SSS2.p2.21.m21.1.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.21.m21.1.2.2.2.cmml" xref="S4.SS3.SSS2.p2.21.m21.1.2.2.2">𝛾</ci><ci id="S4.SS3.SSS2.p2.21.m21.1.2.2.3.cmml" xref="S4.SS3.SSS2.p2.21.m21.1.2.2.3">𝑇</ci></apply><ci id="S4.SS3.SSS2.p2.21.m21.1.1.cmml" xref="S4.SS3.SSS2.p2.21.m21.1.1">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.21.m21.1c">\gamma_{T}(l)</annotation></semantics></math> (line 7 in Algorithm 2).</p>
</div>
<figure id="S4.SS3.SSS2.1" class="ltx_figure">
<div id="S4.SS3.SSS2.1.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:210.3pt;">
<img src="/html/2406.02950/assets/figures/algorithm2.png" id="S4.SS3.SSS2.1.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="394" alt="[Uncaptioned image]">
</div>
</figure>
<figure id="S4.F2" class="ltx_figure">
<div id="S4.F2.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:195.1pt;">
<img src="/html/2406.02950/assets/figures/rnntprefix.png" id="S4.F2.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="253" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>RNN-T prefix scoring (lines 3 and 4 in Algorithm 2).</figcaption>
</figure>
<div id="S4.SS3.SSS2.p3" class="ltx_para">
<p id="S4.SS3.SSS2.p3.1" class="ltx_p">Note that CTC prefix scoring and RNN-T prefix scoring require more computation for scoring than using the CTC and RNN-T decoders as the primary decoder, respectively, because all possible CTC and RNN-T alignment paths must be computed.</p>
</div>
</section>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS4.5.1.1" class="ltx_text">IV-D</span> </span><span id="S4.SS4.6.2" class="ltx_text ltx_font_italic">CTC-driven one-pass beam search</span>
</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">The CTC-driven one-pass beam search employs the CTC decoder as the primary decoder, and the scores of the hypotheses generated by the CTC decoder are augmented by the attention decoder and the RNN-T decoder. This approach is similar to CTC-driven beam search with the attention decoder <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib50" title="" class="ltx_ref">50</a>, <a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite>, but with an additional consideration of RNN-T likelihoods.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.9" class="ltx_p">As shown in Algorithm 3, the CTC decoder generates the <math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="k_{\text{pre}}" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><msub id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mi id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2.cmml">k</mi><mtext id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3a.cmml">pre</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2">𝑘</ci><ci id="S4.SS4.p2.1.m1.1.1.3a.cmml" xref="S4.SS4.p2.1.m1.1.1.3"><mtext mathsize="70%" id="S4.SS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3">pre</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">k_{\text{pre}}</annotation></semantics></math> hypotheses with the CTC score <math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="\alpha_{\text{ctc}}" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><msub id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><mi id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml">α</mi><mtext id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2">𝛼</ci><ci id="S4.SS4.p2.2.m2.1.1.3a.cmml" xref="S4.SS4.p2.2.m2.1.1.3"><mtext mathsize="70%" id="S4.SS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">\alpha_{\text{ctc}}</annotation></semantics></math>, denoted as <span id="S4.SS4.p2.9.1" class="ltx_text ltx_font_italic">ext_hyps</span> (lines 4-9 in Algorithm 3).
Subsequently, the generated hypotheses, <span id="S4.SS4.p2.9.2" class="ltx_text ltx_font_italic">ext_hyps</span>, are scored using the attention and RNN-T decoders (lines 12-13 in Algorithm 3).
The attention score <math id="S4.SS4.p2.3.m3.1" class="ltx_Math" alttext="\alpha_{\text{att}}" display="inline"><semantics id="S4.SS4.p2.3.m3.1a"><msub id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml"><mi id="S4.SS4.p2.3.m3.1.1.2" xref="S4.SS4.p2.3.m3.1.1.2.cmml">α</mi><mtext id="S4.SS4.p2.3.m3.1.1.3" xref="S4.SS4.p2.3.m3.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><apply id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p2.3.m3.1.1.2.cmml" xref="S4.SS4.p2.3.m3.1.1.2">𝛼</ci><ci id="S4.SS4.p2.3.m3.1.1.3a.cmml" xref="S4.SS4.p2.3.m3.1.1.3"><mtext mathsize="70%" id="S4.SS4.p2.3.m3.1.1.3.cmml" xref="S4.SS4.p2.3.m3.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">\alpha_{\text{att}}</annotation></semantics></math> is computed using the forward computation as described in Eq. (<a href="#S3.E16" title="In III-D Attention-based encoder-decoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">16</span></a>). Similar to the attention-driven one-pass beam search (in Algorithm 1), the RNN-T prefix scoring is used to compute the RNN-T score <math id="S4.SS4.p2.4.m4.1" class="ltx_Math" alttext="\alpha_{\text{rnnt}}" display="inline"><semantics id="S4.SS4.p2.4.m4.1a"><msub id="S4.SS4.p2.4.m4.1.1" xref="S4.SS4.p2.4.m4.1.1.cmml"><mi id="S4.SS4.p2.4.m4.1.1.2" xref="S4.SS4.p2.4.m4.1.1.2.cmml">α</mi><mtext id="S4.SS4.p2.4.m4.1.1.3" xref="S4.SS4.p2.4.m4.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.4.m4.1b"><apply id="S4.SS4.p2.4.m4.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.4.m4.1.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS4.p2.4.m4.1.1.2.cmml" xref="S4.SS4.p2.4.m4.1.1.2">𝛼</ci><ci id="S4.SS4.p2.4.m4.1.1.3a.cmml" xref="S4.SS4.p2.4.m4.1.1.3"><mtext mathsize="70%" id="S4.SS4.p2.4.m4.1.1.3.cmml" xref="S4.SS4.p2.4.m4.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.4.m4.1c">\alpha_{\text{rnnt}}</annotation></semantics></math>.
Note that although both CTC and RNN-T are based on time-synchronous beam search, they have different alignment paths and different mapping functions, as shown in Figure <a href="#S3.F1" title="Figure 1 ‣ III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Since the CTC alignment path cannot be directly scored by the RNN-T decoder, the RNN-T prefix scoring is used after all blank labels are removed.
Each decoder score is then added using the decoder weights (<math id="S4.SS4.p2.5.m5.1" class="ltx_Math" alttext="\mu_{\text{ctc}}" display="inline"><semantics id="S4.SS4.p2.5.m5.1a"><msub id="S4.SS4.p2.5.m5.1.1" xref="S4.SS4.p2.5.m5.1.1.cmml"><mi id="S4.SS4.p2.5.m5.1.1.2" xref="S4.SS4.p2.5.m5.1.1.2.cmml">μ</mi><mtext id="S4.SS4.p2.5.m5.1.1.3" xref="S4.SS4.p2.5.m5.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.5.m5.1b"><apply id="S4.SS4.p2.5.m5.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.5.m5.1.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS4.p2.5.m5.1.1.2.cmml" xref="S4.SS4.p2.5.m5.1.1.2">𝜇</ci><ci id="S4.SS4.p2.5.m5.1.1.3a.cmml" xref="S4.SS4.p2.5.m5.1.1.3"><mtext mathsize="70%" id="S4.SS4.p2.5.m5.1.1.3.cmml" xref="S4.SS4.p2.5.m5.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.5.m5.1c">\mu_{\text{ctc}}</annotation></semantics></math>, <math id="S4.SS4.p2.6.m6.1" class="ltx_Math" alttext="\mu_{\text{att}}" display="inline"><semantics id="S4.SS4.p2.6.m6.1a"><msub id="S4.SS4.p2.6.m6.1.1" xref="S4.SS4.p2.6.m6.1.1.cmml"><mi id="S4.SS4.p2.6.m6.1.1.2" xref="S4.SS4.p2.6.m6.1.1.2.cmml">μ</mi><mtext id="S4.SS4.p2.6.m6.1.1.3" xref="S4.SS4.p2.6.m6.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.6.m6.1b"><apply id="S4.SS4.p2.6.m6.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.6.m6.1.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1">subscript</csymbol><ci id="S4.SS4.p2.6.m6.1.1.2.cmml" xref="S4.SS4.p2.6.m6.1.1.2">𝜇</ci><ci id="S4.SS4.p2.6.m6.1.1.3a.cmml" xref="S4.SS4.p2.6.m6.1.1.3"><mtext mathsize="70%" id="S4.SS4.p2.6.m6.1.1.3.cmml" xref="S4.SS4.p2.6.m6.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.6.m6.1c">\mu_{\text{att}}</annotation></semantics></math>, <math id="S4.SS4.p2.7.m7.1" class="ltx_Math" alttext="\mu_{\text{rnnt}}" display="inline"><semantics id="S4.SS4.p2.7.m7.1a"><msub id="S4.SS4.p2.7.m7.1.1" xref="S4.SS4.p2.7.m7.1.1.cmml"><mi id="S4.SS4.p2.7.m7.1.1.2" xref="S4.SS4.p2.7.m7.1.1.2.cmml">μ</mi><mtext id="S4.SS4.p2.7.m7.1.1.3" xref="S4.SS4.p2.7.m7.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.7.m7.1b"><apply id="S4.SS4.p2.7.m7.1.1.cmml" xref="S4.SS4.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.7.m7.1.1.1.cmml" xref="S4.SS4.p2.7.m7.1.1">subscript</csymbol><ci id="S4.SS4.p2.7.m7.1.1.2.cmml" xref="S4.SS4.p2.7.m7.1.1.2">𝜇</ci><ci id="S4.SS4.p2.7.m7.1.1.3a.cmml" xref="S4.SS4.p2.7.m7.1.1.3"><mtext mathsize="70%" id="S4.SS4.p2.7.m7.1.1.3.cmml" xref="S4.SS4.p2.7.m7.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.7.m7.1c">\mu_{\text{rnnt}}</annotation></semantics></math>) along with the length penalty (line 15 in Algorithm 3).
Finally, the top <math id="S4.SS4.p2.8.m8.1" class="ltx_Math" alttext="k_{\text{beam}}" display="inline"><semantics id="S4.SS4.p2.8.m8.1a"><msub id="S4.SS4.p2.8.m8.1.1" xref="S4.SS4.p2.8.m8.1.1.cmml"><mi id="S4.SS4.p2.8.m8.1.1.2" xref="S4.SS4.p2.8.m8.1.1.2.cmml">k</mi><mtext id="S4.SS4.p2.8.m8.1.1.3" xref="S4.SS4.p2.8.m8.1.1.3a.cmml">beam</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.8.m8.1b"><apply id="S4.SS4.p2.8.m8.1.1.cmml" xref="S4.SS4.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.8.m8.1.1.1.cmml" xref="S4.SS4.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS4.p2.8.m8.1.1.2.cmml" xref="S4.SS4.p2.8.m8.1.1.2">𝑘</ci><ci id="S4.SS4.p2.8.m8.1.1.3a.cmml" xref="S4.SS4.p2.8.m8.1.1.3"><mtext mathsize="70%" id="S4.SS4.p2.8.m8.1.1.3.cmml" xref="S4.SS4.p2.8.m8.1.1.3">beam</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.8.m8.1c">k_{\text{beam}}</annotation></semantics></math> hypotheses, <span id="S4.SS4.p2.9.3" class="ltx_text ltx_font_italic">hyps</span>, are retained for the next time frame based on the joint score (line 17 in Algorithm 3). Unlike the attention-driven one-pass beam search, this process is iterated time-synchronously (<math id="S4.SS4.p2.9.m9.3" class="ltx_Math" alttext="t=1,\cdots,T" display="inline"><semantics id="S4.SS4.p2.9.m9.3a"><mrow id="S4.SS4.p2.9.m9.3.4" xref="S4.SS4.p2.9.m9.3.4.cmml"><mi id="S4.SS4.p2.9.m9.3.4.2" xref="S4.SS4.p2.9.m9.3.4.2.cmml">t</mi><mo id="S4.SS4.p2.9.m9.3.4.1" xref="S4.SS4.p2.9.m9.3.4.1.cmml">=</mo><mrow id="S4.SS4.p2.9.m9.3.4.3.2" xref="S4.SS4.p2.9.m9.3.4.3.1.cmml"><mn id="S4.SS4.p2.9.m9.1.1" xref="S4.SS4.p2.9.m9.1.1.cmml">1</mn><mo id="S4.SS4.p2.9.m9.3.4.3.2.1" xref="S4.SS4.p2.9.m9.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S4.SS4.p2.9.m9.2.2" xref="S4.SS4.p2.9.m9.2.2.cmml">⋯</mi><mo id="S4.SS4.p2.9.m9.3.4.3.2.2" xref="S4.SS4.p2.9.m9.3.4.3.1.cmml">,</mo><mi id="S4.SS4.p2.9.m9.3.3" xref="S4.SS4.p2.9.m9.3.3.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.9.m9.3b"><apply id="S4.SS4.p2.9.m9.3.4.cmml" xref="S4.SS4.p2.9.m9.3.4"><eq id="S4.SS4.p2.9.m9.3.4.1.cmml" xref="S4.SS4.p2.9.m9.3.4.1"></eq><ci id="S4.SS4.p2.9.m9.3.4.2.cmml" xref="S4.SS4.p2.9.m9.3.4.2">𝑡</ci><list id="S4.SS4.p2.9.m9.3.4.3.1.cmml" xref="S4.SS4.p2.9.m9.3.4.3.2"><cn type="integer" id="S4.SS4.p2.9.m9.1.1.cmml" xref="S4.SS4.p2.9.m9.1.1">1</cn><ci id="S4.SS4.p2.9.m9.2.2.cmml" xref="S4.SS4.p2.9.m9.2.2">⋯</ci><ci id="S4.SS4.p2.9.m9.3.3.cmml" xref="S4.SS4.p2.9.m9.3.3">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.9.m9.3c">t=1,\cdots,T</annotation></semantics></math>).</p>
</div>
<figure id="S4.SS4.1" class="ltx_figure">
<div id="S4.SS4.1.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:212.5pt;">
<img src="/html/2406.02950/assets/figures/algorithm3.png" id="S4.SS4.1.1.g1" class="ltx_graphics ltx_img_square" width="598" height="599" alt="[Uncaptioned image]">
</div>
</figure>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.1" class="ltx_p">Note that while the CTC-driven one-pass beam search algorithm avoids CTC prefix scoring which calculates all possible CTC alignment paths, it still computes all possible RNN-T alignment paths via RNN-TPrefixScore(<math id="S4.SS4.p3.1.m1.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="S4.SS4.p3.1.m1.1a"><mo id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.1b"><ci id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.1c">\cdot</annotation></semantics></math>).</p>
</div>
</section>
<section id="S4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS5.5.1.1" class="ltx_text">IV-E</span> </span><span id="S4.SS5.6.2" class="ltx_text ltx_font_italic">RNN-T-driven one-pass beam search</span>
</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p id="S4.SS5.p1.1" class="ltx_p">The RNN-T-driven one-pass beam search employs the RNN-T decoder as the primary decoder, and the scores of the hypotheses generated by the RNN-T decoder are augmented by the CTC decoder and attention decoder. Unlike the two-pass rescoring-based methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib34" title="" class="ltx_ref">34</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>, the joint scoring is performed time-synchronously in the one-pass beam search.</p>
</div>
<div id="S4.SS5.p2" class="ltx_para">
<p id="S4.SS5.p2.6" class="ltx_p">First, the RNN-T decoder generates the <math id="S4.SS5.p2.1.m1.1" class="ltx_Math" alttext="k_{\text{pre}}" display="inline"><semantics id="S4.SS5.p2.1.m1.1a"><msub id="S4.SS5.p2.1.m1.1.1" xref="S4.SS5.p2.1.m1.1.1.cmml"><mi id="S4.SS5.p2.1.m1.1.1.2" xref="S4.SS5.p2.1.m1.1.1.2.cmml">k</mi><mtext id="S4.SS5.p2.1.m1.1.1.3" xref="S4.SS5.p2.1.m1.1.1.3a.cmml">pre</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.1.m1.1b"><apply id="S4.SS5.p2.1.m1.1.1.cmml" xref="S4.SS5.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS5.p2.1.m1.1.1.1.cmml" xref="S4.SS5.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS5.p2.1.m1.1.1.2.cmml" xref="S4.SS5.p2.1.m1.1.1.2">𝑘</ci><ci id="S4.SS5.p2.1.m1.1.1.3a.cmml" xref="S4.SS5.p2.1.m1.1.1.3"><mtext mathsize="70%" id="S4.SS5.p2.1.m1.1.1.3.cmml" xref="S4.SS5.p2.1.m1.1.1.3">pre</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.1.m1.1c">k_{\text{pre}}</annotation></semantics></math> hypotheses (lines 4-9 in Algorithm 4).
Subsequently, the generated hypotheses, <span id="S4.SS5.p2.6.1" class="ltx_text ltx_font_italic">ext_hyps</span>, are scored by combining the CTC and attention decoders (lines 12-13 in Algorithm 4).
The attention score is calculated using the forward computation as in Eq. (<a href="#S3.E16" title="In III-D Attention-based encoder-decoder ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">16</span></a>).
The CTC score is calculated using CTC prefix scoring as in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>.
Note that although both CTC and RNN-T are based on time-synchronous beam search, they have different alignment paths and different mapping functions, as shown in Figure <a href="#S3.F1" title="Figure 1 ‣ III-B CTC ‣ III Preliminary ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Since the RNN-T alignment path cannot be directly scored by the CTC decoder, the CTC prefix scoring is used after all blank labels are removed.
Each decoder score is then added using the decoder weights (<math id="S4.SS5.p2.2.m2.1" class="ltx_Math" alttext="\mu_{\text{ctc}}" display="inline"><semantics id="S4.SS5.p2.2.m2.1a"><msub id="S4.SS5.p2.2.m2.1.1" xref="S4.SS5.p2.2.m2.1.1.cmml"><mi id="S4.SS5.p2.2.m2.1.1.2" xref="S4.SS5.p2.2.m2.1.1.2.cmml">μ</mi><mtext id="S4.SS5.p2.2.m2.1.1.3" xref="S4.SS5.p2.2.m2.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.2.m2.1b"><apply id="S4.SS5.p2.2.m2.1.1.cmml" xref="S4.SS5.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS5.p2.2.m2.1.1.1.cmml" xref="S4.SS5.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS5.p2.2.m2.1.1.2.cmml" xref="S4.SS5.p2.2.m2.1.1.2">𝜇</ci><ci id="S4.SS5.p2.2.m2.1.1.3a.cmml" xref="S4.SS5.p2.2.m2.1.1.3"><mtext mathsize="70%" id="S4.SS5.p2.2.m2.1.1.3.cmml" xref="S4.SS5.p2.2.m2.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.2.m2.1c">\mu_{\text{ctc}}</annotation></semantics></math>, <math id="S4.SS5.p2.3.m3.1" class="ltx_Math" alttext="\mu_{\text{att}}" display="inline"><semantics id="S4.SS5.p2.3.m3.1a"><msub id="S4.SS5.p2.3.m3.1.1" xref="S4.SS5.p2.3.m3.1.1.cmml"><mi id="S4.SS5.p2.3.m3.1.1.2" xref="S4.SS5.p2.3.m3.1.1.2.cmml">μ</mi><mtext id="S4.SS5.p2.3.m3.1.1.3" xref="S4.SS5.p2.3.m3.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.3.m3.1b"><apply id="S4.SS5.p2.3.m3.1.1.cmml" xref="S4.SS5.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS5.p2.3.m3.1.1.1.cmml" xref="S4.SS5.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS5.p2.3.m3.1.1.2.cmml" xref="S4.SS5.p2.3.m3.1.1.2">𝜇</ci><ci id="S4.SS5.p2.3.m3.1.1.3a.cmml" xref="S4.SS5.p2.3.m3.1.1.3"><mtext mathsize="70%" id="S4.SS5.p2.3.m3.1.1.3.cmml" xref="S4.SS5.p2.3.m3.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.3.m3.1c">\mu_{\text{att}}</annotation></semantics></math>, <math id="S4.SS5.p2.4.m4.1" class="ltx_Math" alttext="\mu_{\text{rnnt}}" display="inline"><semantics id="S4.SS5.p2.4.m4.1a"><msub id="S4.SS5.p2.4.m4.1.1" xref="S4.SS5.p2.4.m4.1.1.cmml"><mi id="S4.SS5.p2.4.m4.1.1.2" xref="S4.SS5.p2.4.m4.1.1.2.cmml">μ</mi><mtext id="S4.SS5.p2.4.m4.1.1.3" xref="S4.SS5.p2.4.m4.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.4.m4.1b"><apply id="S4.SS5.p2.4.m4.1.1.cmml" xref="S4.SS5.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS5.p2.4.m4.1.1.1.cmml" xref="S4.SS5.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS5.p2.4.m4.1.1.2.cmml" xref="S4.SS5.p2.4.m4.1.1.2">𝜇</ci><ci id="S4.SS5.p2.4.m4.1.1.3a.cmml" xref="S4.SS5.p2.4.m4.1.1.3"><mtext mathsize="70%" id="S4.SS5.p2.4.m4.1.1.3.cmml" xref="S4.SS5.p2.4.m4.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.4.m4.1c">\mu_{\text{rnnt}}</annotation></semantics></math>) along with the length penalty (line 15 in Algorithm 4).
Finally, the top <math id="S4.SS5.p2.5.m5.1" class="ltx_Math" alttext="k_{\text{beam}}" display="inline"><semantics id="S4.SS5.p2.5.m5.1a"><msub id="S4.SS5.p2.5.m5.1.1" xref="S4.SS5.p2.5.m5.1.1.cmml"><mi id="S4.SS5.p2.5.m5.1.1.2" xref="S4.SS5.p2.5.m5.1.1.2.cmml">k</mi><mtext id="S4.SS5.p2.5.m5.1.1.3" xref="S4.SS5.p2.5.m5.1.1.3a.cmml">beam</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.5.m5.1b"><apply id="S4.SS5.p2.5.m5.1.1.cmml" xref="S4.SS5.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS5.p2.5.m5.1.1.1.cmml" xref="S4.SS5.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS5.p2.5.m5.1.1.2.cmml" xref="S4.SS5.p2.5.m5.1.1.2">𝑘</ci><ci id="S4.SS5.p2.5.m5.1.1.3a.cmml" xref="S4.SS5.p2.5.m5.1.1.3"><mtext mathsize="70%" id="S4.SS5.p2.5.m5.1.1.3.cmml" xref="S4.SS5.p2.5.m5.1.1.3">beam</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.5.m5.1c">k_{\text{beam}}</annotation></semantics></math> hypotheses, <span id="S4.SS5.p2.6.2" class="ltx_text ltx_font_italic">hyps</span>, are retained for the next time frame based on the obtained joint score (line 17 in Algorithm 4). Similar to the CTC-driven one-pass beam search, this process is repeated time-synchronously (<math id="S4.SS5.p2.6.m6.3" class="ltx_Math" alttext="t=1,\cdots,T" display="inline"><semantics id="S4.SS5.p2.6.m6.3a"><mrow id="S4.SS5.p2.6.m6.3.4" xref="S4.SS5.p2.6.m6.3.4.cmml"><mi id="S4.SS5.p2.6.m6.3.4.2" xref="S4.SS5.p2.6.m6.3.4.2.cmml">t</mi><mo id="S4.SS5.p2.6.m6.3.4.1" xref="S4.SS5.p2.6.m6.3.4.1.cmml">=</mo><mrow id="S4.SS5.p2.6.m6.3.4.3.2" xref="S4.SS5.p2.6.m6.3.4.3.1.cmml"><mn id="S4.SS5.p2.6.m6.1.1" xref="S4.SS5.p2.6.m6.1.1.cmml">1</mn><mo id="S4.SS5.p2.6.m6.3.4.3.2.1" xref="S4.SS5.p2.6.m6.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S4.SS5.p2.6.m6.2.2" xref="S4.SS5.p2.6.m6.2.2.cmml">⋯</mi><mo id="S4.SS5.p2.6.m6.3.4.3.2.2" xref="S4.SS5.p2.6.m6.3.4.3.1.cmml">,</mo><mi id="S4.SS5.p2.6.m6.3.3" xref="S4.SS5.p2.6.m6.3.3.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.6.m6.3b"><apply id="S4.SS5.p2.6.m6.3.4.cmml" xref="S4.SS5.p2.6.m6.3.4"><eq id="S4.SS5.p2.6.m6.3.4.1.cmml" xref="S4.SS5.p2.6.m6.3.4.1"></eq><ci id="S4.SS5.p2.6.m6.3.4.2.cmml" xref="S4.SS5.p2.6.m6.3.4.2">𝑡</ci><list id="S4.SS5.p2.6.m6.3.4.3.1.cmml" xref="S4.SS5.p2.6.m6.3.4.3.2"><cn type="integer" id="S4.SS5.p2.6.m6.1.1.cmml" xref="S4.SS5.p2.6.m6.1.1">1</cn><ci id="S4.SS5.p2.6.m6.2.2.cmml" xref="S4.SS5.p2.6.m6.2.2">⋯</ci><ci id="S4.SS5.p2.6.m6.3.3.cmml" xref="S4.SS5.p2.6.m6.3.3">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.6.m6.3c">t=1,\cdots,T</annotation></semantics></math>).</p>
</div>
<figure id="S4.SS5.1" class="ltx_figure">
<div id="S4.SS5.1.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:212.5pt;">
<img src="/html/2406.02950/assets/figures/algorithm4.png" id="S4.SS5.1.1.g1" class="ltx_graphics ltx_img_square" width="598" height="632" alt="[Uncaptioned image]">
</div>
</figure>
<div id="S4.SS5.p3" class="ltx_para">
<p id="S4.SS5.p3.1" class="ltx_p">Note that the RNN-T-driven one-pass beam search algorithm avoids RNN-T prefix scoring which computes all RNN-T alignment paths unlike the other two one-pass beam search algorithms (Section <a href="#S4.SS3" title="IV-C Attention-driven one-pass beam search ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-C</span></span></a> and <a href="#S4.SS4" title="IV-D CTC-driven one-pass beam search ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-D</span></span></a>).</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE I: </span>Comparison of the 4D models (B1-8) against respective baselines (A1-5). The best WER/CER (<math id="S4.T1.3.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T1.3.m1.1b"><mo stretchy="false" id="S4.T1.3.m1.1.1" xref="S4.T1.3.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T1.3.m1.1c"><ci id="S4.T1.3.m1.1.1.cmml" xref="S4.T1.3.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.m1.1d">\downarrow</annotation></semantics></math>) result in each comparison is <span id="S4.T1.8.1" class="ltx_text ltx_font_bold">bolded</span>, and the best results overall are further <span id="S4.T1.9.2" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">underlined</span>. The average absolute improvements (<math id="S4.T1.4.m2.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S4.T1.4.m2.1b"><mi mathvariant="normal" id="S4.T1.4.m2.1.1" xref="S4.T1.4.m2.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S4.T1.4.m2.1c"><ci id="S4.T1.4.m2.1.1.cmml" xref="S4.T1.4.m2.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.m2.1d">\Delta</annotation></semantics></math>) are also shown.</figcaption>
<div id="S4.T1.5.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:200.6pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-95.5pt,44.0pt) scale(0.694192152610236,0.694192152610236) ;">
<table id="S4.T1.5.1.1" class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T1.5.1.1.2.1" class="ltx_tr">
<td id="S4.T1.5.1.1.2.1.1" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.5.1.1.2.1.2" class="ltx_td ltx_border_t"></td>
<td id="S4.T1.5.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">4D joint</td>
<td id="S4.T1.5.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Proposed</td>
<td id="S4.T1.5.1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2">LibriSpeech 960 h</td>
<td id="S4.T1.5.1.1.2.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2">LibriSpeech 100 h</td>
<td id="S4.T1.5.1.1.2.1.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2">In-house (855 h)</td>
<td id="S4.T1.5.1.1.2.1.8" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S4.T1.5.1.1.1" class="ltx_tr">
<td id="S4.T1.5.1.1.1.2" class="ltx_td ltx_align_center">ID</td>
<td id="S4.T1.5.1.1.1.3" class="ltx_td ltx_align_left">Model Name</td>
<td id="S4.T1.5.1.1.1.4" class="ltx_td ltx_align_center">training</td>
<td id="S4.T1.5.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r">beam search</td>
<td id="S4.T1.5.1.1.1.6" class="ltx_td ltx_align_center">test-clean</td>
<td id="S4.T1.5.1.1.1.7" class="ltx_td ltx_align_center ltx_border_r">test-other</td>
<td id="S4.T1.5.1.1.1.8" class="ltx_td ltx_align_center">test-clean</td>
<td id="S4.T1.5.1.1.1.9" class="ltx_td ltx_align_center ltx_border_r">test-other</td>
<td id="S4.T1.5.1.1.1.10" class="ltx_td ltx_align_center">assembly</td>
<td id="S4.T1.5.1.1.1.11" class="ltx_td ltx_align_center ltx_border_r">meeting</td>
<td id="S4.T1.5.1.1.1.1" class="ltx_td ltx_align_center">avg <math id="S4.T1.5.1.1.1.1.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S4.T1.5.1.1.1.1.m1.1a"><mi mathvariant="normal" id="S4.T1.5.1.1.1.1.m1.1.1" xref="S4.T1.5.1.1.1.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S4.T1.5.1.1.1.1.m1.1b"><ci id="S4.T1.5.1.1.1.1.m1.1.1.cmml" xref="S4.T1.5.1.1.1.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.1.1.1.1.m1.1c">\Delta</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T1.5.1.1.3.2" class="ltx_tr">
<td id="S4.T1.5.1.1.3.2.1" class="ltx_td ltx_align_center ltx_border_t">A1</td>
<td id="S4.T1.5.1.1.3.2.2" class="ltx_td ltx_align_left ltx_border_t">Attention</td>
<td id="S4.T1.5.1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T1.5.1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="S4.T1.5.1.1.3.2.5" class="ltx_td ltx_align_center ltx_border_t">2.88</td>
<td id="S4.T1.5.1.1.3.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.62</td>
<td id="S4.T1.5.1.1.3.2.7" class="ltx_td ltx_align_center ltx_border_t">8.59</td>
<td id="S4.T1.5.1.1.3.2.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">19.43</td>
<td id="S4.T1.5.1.1.3.2.9" class="ltx_td ltx_align_center ltx_border_t">3.81</td>
<td id="S4.T1.5.1.1.3.2.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.82</td>
<td id="S4.T1.5.1.1.3.2.11" class="ltx_td ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S4.T1.5.1.1.4.3" class="ltx_tr">
<td id="S4.T1.5.1.1.4.3.1" class="ltx_td ltx_align_center">B1</td>
<td id="S4.T1.5.1.1.4.3.2" class="ltx_td ltx_align_left">4D (Attention)</td>
<td id="S4.T1.5.1.1.4.3.3" class="ltx_td ltx_align_center">yes</td>
<td id="S4.T1.5.1.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r">-</td>
<td id="S4.T1.5.1.1.4.3.5" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.4.3.5.1" class="ltx_text ltx_font_bold">2.66</span></td>
<td id="S4.T1.5.1.1.4.3.6" class="ltx_td ltx_align_center ltx_border_r">5.62</td>
<td id="S4.T1.5.1.1.4.3.7" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.4.3.7.1" class="ltx_text ltx_font_bold">7.83</span></td>
<td id="S4.T1.5.1.1.4.3.8" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.4.3.8.1" class="ltx_text ltx_font_bold">17.91</span></td>
<td id="S4.T1.5.1.1.4.3.9" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.4.3.9.1" class="ltx_text ltx_font_bold">3.56</span></td>
<td id="S4.T1.5.1.1.4.3.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.4.3.10.1" class="ltx_text ltx_font_bold">5.31</span></td>
<td id="S4.T1.5.1.1.4.3.11" class="ltx_td ltx_align_center">-0.54</td>
</tr>
<tr id="S4.T1.5.1.1.5.4" class="ltx_tr">
<td id="S4.T1.5.1.1.5.4.1" class="ltx_td ltx_align_center ltx_border_t">A2</td>
<td id="S4.T1.5.1.1.5.4.2" class="ltx_td ltx_align_left ltx_border_t">CTC</td>
<td id="S4.T1.5.1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T1.5.1.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="S4.T1.5.1.1.5.4.5" class="ltx_td ltx_align_center ltx_border_t">3.10</td>
<td id="S4.T1.5.1.1.5.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.90</td>
<td id="S4.T1.5.1.1.5.4.7" class="ltx_td ltx_align_center ltx_border_t">8.20</td>
<td id="S4.T1.5.1.1.5.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">20.66</td>
<td id="S4.T1.5.1.1.5.4.9" class="ltx_td ltx_align_center ltx_border_t">3.91</td>
<td id="S4.T1.5.1.1.5.4.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.30</td>
<td id="S4.T1.5.1.1.5.4.11" class="ltx_td ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S4.T1.5.1.1.6.5" class="ltx_tr">
<td id="S4.T1.5.1.1.6.5.1" class="ltx_td ltx_align_center">B2</td>
<td id="S4.T1.5.1.1.6.5.2" class="ltx_td ltx_align_left">4D (CTC)</td>
<td id="S4.T1.5.1.1.6.5.3" class="ltx_td ltx_align_center">yes</td>
<td id="S4.T1.5.1.1.6.5.4" class="ltx_td ltx_align_center ltx_border_r">-</td>
<td id="S4.T1.5.1.1.6.5.5" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.6.5.5.1" class="ltx_text ltx_font_bold">2.84</span></td>
<td id="S4.T1.5.1.1.6.5.6" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.6.5.6.1" class="ltx_text ltx_font_bold">6.39</span></td>
<td id="S4.T1.5.1.1.6.5.7" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.6.5.7.1" class="ltx_text ltx_font_bold">7.30</span></td>
<td id="S4.T1.5.1.1.6.5.8" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.6.5.8.1" class="ltx_text ltx_font_bold">18.96</span></td>
<td id="S4.T1.5.1.1.6.5.9" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.6.5.9.1" class="ltx_text ltx_font_bold">3.74</span></td>
<td id="S4.T1.5.1.1.6.5.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.6.5.10.1" class="ltx_text ltx_font_bold">5.53</span></td>
<td id="S4.T1.5.1.1.6.5.11" class="ltx_td ltx_align_center">-0.72</td>
</tr>
<tr id="S4.T1.5.1.1.7.6" class="ltx_tr">
<td id="S4.T1.5.1.1.7.6.1" class="ltx_td ltx_align_center ltx_border_t">A3</td>
<td id="S4.T1.5.1.1.7.6.2" class="ltx_td ltx_align_left ltx_border_t">Mask-CTC</td>
<td id="S4.T1.5.1.1.7.6.3" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T1.5.1.1.7.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="S4.T1.5.1.1.7.6.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.1.1.7.6.5.1" class="ltx_text ltx_font_bold">2.97</span></td>
<td id="S4.T1.5.1.1.7.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.92</td>
<td id="S4.T1.5.1.1.7.6.7" class="ltx_td ltx_align_center ltx_border_t">8.72</td>
<td id="S4.T1.5.1.1.7.6.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">20.78</td>
<td id="S4.T1.5.1.1.7.6.9" class="ltx_td ltx_align_center ltx_border_t">4.37</td>
<td id="S4.T1.5.1.1.7.6.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.56</td>
<td id="S4.T1.5.1.1.7.6.11" class="ltx_td ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S4.T1.5.1.1.8.7" class="ltx_tr">
<td id="S4.T1.5.1.1.8.7.1" class="ltx_td ltx_align_center">B3</td>
<td id="S4.T1.5.1.1.8.7.2" class="ltx_td ltx_align_left">4D (Mask-CTC)</td>
<td id="S4.T1.5.1.1.8.7.3" class="ltx_td ltx_align_center">yes</td>
<td id="S4.T1.5.1.1.8.7.4" class="ltx_td ltx_align_center ltx_border_r">-</td>
<td id="S4.T1.5.1.1.8.7.5" class="ltx_td ltx_align_center">3.11</td>
<td id="S4.T1.5.1.1.8.7.6" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.8.7.6.1" class="ltx_text ltx_font_bold">6.82</span></td>
<td id="S4.T1.5.1.1.8.7.7" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.8.7.7.1" class="ltx_text ltx_font_bold">7.47</span></td>
<td id="S4.T1.5.1.1.8.7.8" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.8.7.8.1" class="ltx_text ltx_font_bold">18.97</span></td>
<td id="S4.T1.5.1.1.8.7.9" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.8.7.9.1" class="ltx_text ltx_font_bold">3.86</span></td>
<td id="S4.T1.5.1.1.8.7.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.8.7.10.1" class="ltx_text ltx_font_bold">6.24</span></td>
<td id="S4.T1.5.1.1.8.7.11" class="ltx_td ltx_align_center">-0.64</td>
</tr>
<tr id="S4.T1.5.1.1.9.8" class="ltx_tr">
<td id="S4.T1.5.1.1.9.8.1" class="ltx_td ltx_align_center ltx_border_t">A4</td>
<td id="S4.T1.5.1.1.9.8.2" class="ltx_td ltx_align_left ltx_border_t">RNN-T</td>
<td id="S4.T1.5.1.1.9.8.3" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T1.5.1.1.9.8.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="S4.T1.5.1.1.9.8.5" class="ltx_td ltx_align_center ltx_border_t">2.66</td>
<td id="S4.T1.5.1.1.9.8.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.82</td>
<td id="S4.T1.5.1.1.9.8.7" class="ltx_td ltx_align_center ltx_border_t">7.25</td>
<td id="S4.T1.5.1.1.9.8.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">18.30</td>
<td id="S4.T1.5.1.1.9.8.9" class="ltx_td ltx_align_center ltx_border_t">4.00</td>
<td id="S4.T1.5.1.1.9.8.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.91</td>
<td id="S4.T1.5.1.1.9.8.11" class="ltx_td ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S4.T1.5.1.1.10.9" class="ltx_tr">
<td id="S4.T1.5.1.1.10.9.1" class="ltx_td ltx_align_center">B4</td>
<td id="S4.T1.5.1.1.10.9.2" class="ltx_td ltx_align_left">4D (RNN-T)</td>
<td id="S4.T1.5.1.1.10.9.3" class="ltx_td ltx_align_center">yes</td>
<td id="S4.T1.5.1.1.10.9.4" class="ltx_td ltx_align_center ltx_border_r">-</td>
<td id="S4.T1.5.1.1.10.9.5" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.10.9.5.1" class="ltx_text ltx_font_bold">2.56</span></td>
<td id="S4.T1.5.1.1.10.9.6" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.10.9.6.1" class="ltx_text ltx_font_bold">5.74</span></td>
<td id="S4.T1.5.1.1.10.9.7" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.10.9.7.1" class="ltx_text ltx_font_bold">7.10</span></td>
<td id="S4.T1.5.1.1.10.9.8" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.10.9.8.1" class="ltx_text ltx_font_bold">17.61</span></td>
<td id="S4.T1.5.1.1.10.9.9" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.10.9.9.1" class="ltx_text ltx_font_bold">3.94</span></td>
<td id="S4.T1.5.1.1.10.9.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.10.9.10.1" class="ltx_text ltx_font_bold">5.30</span></td>
<td id="S4.T1.5.1.1.10.9.11" class="ltx_td ltx_align_center">-0.28</td>
</tr>
<tr id="S4.T1.5.1.1.11.10" class="ltx_tr">
<td id="S4.T1.5.1.1.11.10.1" class="ltx_td ltx_align_center ltx_border_t">A5</td>
<td id="S4.T1.5.1.1.11.10.2" class="ltx_td ltx_align_left ltx_border_t">CTC/Attention</td>
<td id="S4.T1.5.1.1.11.10.3" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T1.5.1.1.11.10.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="S4.T1.5.1.1.11.10.5" class="ltx_td ltx_align_center ltx_border_t">2.45</td>
<td id="S4.T1.5.1.1.11.10.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.5.1.1.11.10.6.1" class="ltx_text ltx_font_bold">5.18</span></td>
<td id="S4.T1.5.1.1.11.10.7" class="ltx_td ltx_align_center ltx_border_t">7.08</td>
<td id="S4.T1.5.1.1.11.10.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">17.80</td>
<td id="S4.T1.5.1.1.11.10.9" class="ltx_td ltx_align_center ltx_border_t">3.75</td>
<td id="S4.T1.5.1.1.11.10.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.72</td>
<td id="S4.T1.5.1.1.11.10.11" class="ltx_td ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S4.T1.5.1.1.12.11" class="ltx_tr">
<td id="S4.T1.5.1.1.12.11.1" class="ltx_td ltx_align_center">B5</td>
<td id="S4.T1.5.1.1.12.11.2" class="ltx_td ltx_align_left">4D (CTC/Attention)</td>
<td id="S4.T1.5.1.1.12.11.3" class="ltx_td ltx_align_center">yes</td>
<td id="S4.T1.5.1.1.12.11.4" class="ltx_td ltx_align_center ltx_border_r">-</td>
<td id="S4.T1.5.1.1.12.11.5" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.12.11.5.1" class="ltx_text ltx_font_bold">2.42</span></td>
<td id="S4.T1.5.1.1.12.11.6" class="ltx_td ltx_align_center ltx_border_r">5.31</td>
<td id="S4.T1.5.1.1.12.11.7" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.12.11.7.1" class="ltx_text ltx_font_bold">6.49</span></td>
<td id="S4.T1.5.1.1.12.11.8" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.12.11.8.1" class="ltx_text ltx_font_bold">17.03</span></td>
<td id="S4.T1.5.1.1.12.11.9" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.12.11.9.1" class="ltx_text ltx_font_bold">3.67</span></td>
<td id="S4.T1.5.1.1.12.11.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.12.11.10.1" class="ltx_text ltx_font_bold">5.17</span></td>
<td id="S4.T1.5.1.1.12.11.11" class="ltx_td ltx_align_center">-0.32</td>
</tr>
<tr id="S4.T1.5.1.1.13.12" class="ltx_tr">
<td id="S4.T1.5.1.1.13.12.1" class="ltx_td ltx_align_center ltx_border_t">A5</td>
<td id="S4.T1.5.1.1.13.12.2" class="ltx_td ltx_align_left ltx_border_t">CTC/Attention</td>
<td id="S4.T1.5.1.1.13.12.3" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S4.T1.5.1.1.13.12.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
<td id="S4.T1.5.1.1.13.12.5" class="ltx_td ltx_align_center ltx_border_t">2.45</td>
<td id="S4.T1.5.1.1.13.12.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.5.1.1.13.12.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">5.18</span></td>
<td id="S4.T1.5.1.1.13.12.7" class="ltx_td ltx_align_center ltx_border_t">7.08</td>
<td id="S4.T1.5.1.1.13.12.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">17.80</td>
<td id="S4.T1.5.1.1.13.12.9" class="ltx_td ltx_align_center ltx_border_t">3.75</td>
<td id="S4.T1.5.1.1.13.12.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.72</td>
<td id="S4.T1.5.1.1.13.12.11" class="ltx_td ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S4.T1.5.1.1.14.13" class="ltx_tr">
<td id="S4.T1.5.1.1.14.13.1" class="ltx_td ltx_align_center">B6</td>
<td id="S4.T1.5.1.1.14.13.2" class="ltx_td ltx_align_left">4D (CTC/RNN-T/Attn)</td>
<td id="S4.T1.5.1.1.14.13.3" class="ltx_td ltx_align_center">yes</td>
<td id="S4.T1.5.1.1.14.13.4" class="ltx_td ltx_align_center ltx_border_r">Attn-driven</td>
<td id="S4.T1.5.1.1.14.13.5" class="ltx_td ltx_align_center">2.45</td>
<td id="S4.T1.5.1.1.14.13.6" class="ltx_td ltx_align_center ltx_border_r">5.32</td>
<td id="S4.T1.5.1.1.14.13.7" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.14.13.7.1" class="ltx_text ltx_font_bold">6.54</span></td>
<td id="S4.T1.5.1.1.14.13.8" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.14.13.8.1" class="ltx_text ltx_font_bold">16.65</span></td>
<td id="S4.T1.5.1.1.14.13.9" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.14.13.9.1" class="ltx_text ltx_font_bold">3.72</span></td>
<td id="S4.T1.5.1.1.14.13.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.14.13.10.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">5.12</span></td>
<td id="S4.T1.5.1.1.14.13.11" class="ltx_td ltx_align_center">-0.36</td>
</tr>
<tr id="S4.T1.5.1.1.15.14" class="ltx_tr">
<td id="S4.T1.5.1.1.15.14.1" class="ltx_td ltx_align_center">B7</td>
<td id="S4.T1.5.1.1.15.14.2" class="ltx_td ltx_align_left">4D (CTC/RNN-T/Attn)</td>
<td id="S4.T1.5.1.1.15.14.3" class="ltx_td ltx_align_center">yes</td>
<td id="S4.T1.5.1.1.15.14.4" class="ltx_td ltx_align_center ltx_border_r">CTC-driven</td>
<td id="S4.T1.5.1.1.15.14.5" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.15.14.5.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">2.36</span></td>
<td id="S4.T1.5.1.1.15.14.6" class="ltx_td ltx_align_center ltx_border_r">5.27</td>
<td id="S4.T1.5.1.1.15.14.7" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.15.14.7.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">6.25</span></td>
<td id="S4.T1.5.1.1.15.14.8" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.15.14.8.1" class="ltx_text ltx_font_bold">16.76</span></td>
<td id="S4.T1.5.1.1.15.14.9" class="ltx_td ltx_align_center"><span id="S4.T1.5.1.1.15.14.9.1" class="ltx_text ltx_font_bold">3.68</span></td>
<td id="S4.T1.5.1.1.15.14.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.5.1.1.15.14.10.1" class="ltx_text ltx_font_bold">5.14</span></td>
<td id="S4.T1.5.1.1.15.14.11" class="ltx_td ltx_align_center">-0.42</td>
</tr>
<tr id="S4.T1.5.1.1.16.15" class="ltx_tr">
<td id="S4.T1.5.1.1.16.15.1" class="ltx_td ltx_align_center ltx_border_b">B8</td>
<td id="S4.T1.5.1.1.16.15.2" class="ltx_td ltx_align_left ltx_border_b">4D (CTC/RNN-T/Attn)</td>
<td id="S4.T1.5.1.1.16.15.3" class="ltx_td ltx_align_center ltx_border_b">yes</td>
<td id="S4.T1.5.1.1.16.15.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">RNN-T-driven</td>
<td id="S4.T1.5.1.1.16.15.5" class="ltx_td ltx_align_center ltx_border_b"><span id="S4.T1.5.1.1.16.15.5.1" class="ltx_text ltx_font_bold">2.38</span></td>
<td id="S4.T1.5.1.1.16.15.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">5.21</td>
<td id="S4.T1.5.1.1.16.15.7" class="ltx_td ltx_align_center ltx_border_b"><span id="S4.T1.5.1.1.16.15.7.1" class="ltx_text ltx_font_bold">6.33</span></td>
<td id="S4.T1.5.1.1.16.15.8" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S4.T1.5.1.1.16.15.8.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">16.43</span></td>
<td id="S4.T1.5.1.1.16.15.9" class="ltx_td ltx_align_center ltx_border_b"><span id="S4.T1.5.1.1.16.15.9.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">3.65</span></td>
<td id="S4.T1.5.1.1.16.15.10" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S4.T1.5.1.1.16.15.10.1" class="ltx_text ltx_font_bold">5.16</span></td>
<td id="S4.T1.5.1.1.16.15.11" class="ltx_td ltx_align_center ltx_border_b">-0.47</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Experimental setup</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">To evaluate the effectiveness of the proposed method, the 4D model is trained and evaluated using several datasets described below.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS1.4.1.1" class="ltx_text">V-A</span> </span><span id="S5.SS1.5.2" class="ltx_text ltx_font_italic">Model</span>
</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">The input features are 80-dimensional Mel-scale filter-bank features with a window size of 512 samples and a hop length of 160 samples. The sampling frequency is 16 kHz. Then, SpecAugment <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite> is applied.
The conformer encoder comprises two convolutional layers with a stride of two, a 512-dimensional linear projection layer, and 12 conformer blocks with 2048 linear units, each incorporating layer normalization with residual connections.
The CTC decoder is a linear layer. The attention and MLM decoders have six transformer blocks, each with 2048 linear units. The attention dimension size is 512, with an eight-multihead attention mechanism. The RNN-T decoder employs a long short-term memory (LSTM) with a hidden size of 512 and a linear layer of 640 joint sizes for the prediction and joint networks, respectively.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.9" class="ltx_p">The proposed model is trained for 150 epochs using the Adam optimizer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>]</cite> at a learning rate of 0.0015, with 15000 warmup steps.
The training weights (<math id="S5.SS1.p2.1.m1.1" class="ltx_Math" alttext="\lambda_{\text{ctc}}" display="inline"><semantics id="S5.SS1.p2.1.m1.1a"><msub id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml"><mi id="S5.SS1.p2.1.m1.1.1.2" xref="S5.SS1.p2.1.m1.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p2.1.m1.1.1.3" xref="S5.SS1.p2.1.m1.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><apply id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S5.SS1.p2.1.m1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.1.1.2">𝜆</ci><ci id="S5.SS1.p2.1.m1.1.1.3a.cmml" xref="S5.SS1.p2.1.m1.1.1.3"><mtext mathsize="70%" id="S5.SS1.p2.1.m1.1.1.3.cmml" xref="S5.SS1.p2.1.m1.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">\lambda_{\text{ctc}}</annotation></semantics></math>, <math id="S5.SS1.p2.2.m2.1" class="ltx_Math" alttext="\lambda_{\text{rnnt}}" display="inline"><semantics id="S5.SS1.p2.2.m2.1a"><msub id="S5.SS1.p2.2.m2.1.1" xref="S5.SS1.p2.2.m2.1.1.cmml"><mi id="S5.SS1.p2.2.m2.1.1.2" xref="S5.SS1.p2.2.m2.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p2.2.m2.1.1.3" xref="S5.SS1.p2.2.m2.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.1b"><apply id="S5.SS1.p2.2.m2.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.2.m2.1.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.p2.2.m2.1.1.2.cmml" xref="S5.SS1.p2.2.m2.1.1.2">𝜆</ci><ci id="S5.SS1.p2.2.m2.1.1.3a.cmml" xref="S5.SS1.p2.2.m2.1.1.3"><mtext mathsize="70%" id="S5.SS1.p2.2.m2.1.1.3.cmml" xref="S5.SS1.p2.2.m2.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.1c">\lambda_{\text{rnnt}}</annotation></semantics></math>, <math id="S5.SS1.p2.3.m3.1" class="ltx_Math" alttext="\lambda_{\text{att}}" display="inline"><semantics id="S5.SS1.p2.3.m3.1a"><msub id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml"><mi id="S5.SS1.p2.3.m3.1.1.2" xref="S5.SS1.p2.3.m3.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p2.3.m3.1.1.3" xref="S5.SS1.p2.3.m3.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><apply id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.3.m3.1.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.p2.3.m3.1.1.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2">𝜆</ci><ci id="S5.SS1.p2.3.m3.1.1.3a.cmml" xref="S5.SS1.p2.3.m3.1.1.3"><mtext mathsize="70%" id="S5.SS1.p2.3.m3.1.1.3.cmml" xref="S5.SS1.p2.3.m3.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">\lambda_{\text{att}}</annotation></semantics></math>, <math id="S5.SS1.p2.4.m4.1" class="ltx_Math" alttext="\lambda_{\text{mlm}}" display="inline"><semantics id="S5.SS1.p2.4.m4.1a"><msub id="S5.SS1.p2.4.m4.1.1" xref="S5.SS1.p2.4.m4.1.1.cmml"><mi id="S5.SS1.p2.4.m4.1.1.2" xref="S5.SS1.p2.4.m4.1.1.2.cmml">λ</mi><mtext id="S5.SS1.p2.4.m4.1.1.3" xref="S5.SS1.p2.4.m4.1.1.3a.cmml">mlm</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m4.1b"><apply id="S5.SS1.p2.4.m4.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m4.1.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S5.SS1.p2.4.m4.1.1.2.cmml" xref="S5.SS1.p2.4.m4.1.1.2">𝜆</ci><ci id="S5.SS1.p2.4.m4.1.1.3a.cmml" xref="S5.SS1.p2.4.m4.1.1.3"><mtext mathsize="70%" id="S5.SS1.p2.4.m4.1.1.3.cmml" xref="S5.SS1.p2.4.m4.1.1.3">mlm</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m4.1c">\lambda_{\text{mlm}}</annotation></semantics></math>) of the second stage are (0.15, 0.10, 0.30, 0.45) based on the two-stage optimization strategy described in Section <a href="#S4.SS1" title="IV-A Joint training with a two-stage optimization strategy ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-A</span></span></a>, which will be discussed in Section <a href="#S6.SS2" title="VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-B</span></span></a>. The decoder weights (<math id="S5.SS1.p2.5.m5.1" class="ltx_Math" alttext="\mu_{\text{ctc}}" display="inline"><semantics id="S5.SS1.p2.5.m5.1a"><msub id="S5.SS1.p2.5.m5.1.1" xref="S5.SS1.p2.5.m5.1.1.cmml"><mi id="S5.SS1.p2.5.m5.1.1.2" xref="S5.SS1.p2.5.m5.1.1.2.cmml">μ</mi><mtext id="S5.SS1.p2.5.m5.1.1.3" xref="S5.SS1.p2.5.m5.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.5.m5.1b"><apply id="S5.SS1.p2.5.m5.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.5.m5.1.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S5.SS1.p2.5.m5.1.1.2.cmml" xref="S5.SS1.p2.5.m5.1.1.2">𝜇</ci><ci id="S5.SS1.p2.5.m5.1.1.3a.cmml" xref="S5.SS1.p2.5.m5.1.1.3"><mtext mathsize="70%" id="S5.SS1.p2.5.m5.1.1.3.cmml" xref="S5.SS1.p2.5.m5.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.5.m5.1c">\mu_{\text{ctc}}</annotation></semantics></math>, <math id="S5.SS1.p2.6.m6.1" class="ltx_Math" alttext="\mu_{\text{rnnt}}" display="inline"><semantics id="S5.SS1.p2.6.m6.1a"><msub id="S5.SS1.p2.6.m6.1.1" xref="S5.SS1.p2.6.m6.1.1.cmml"><mi id="S5.SS1.p2.6.m6.1.1.2" xref="S5.SS1.p2.6.m6.1.1.2.cmml">μ</mi><mtext id="S5.SS1.p2.6.m6.1.1.3" xref="S5.SS1.p2.6.m6.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.6.m6.1b"><apply id="S5.SS1.p2.6.m6.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.6.m6.1.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1">subscript</csymbol><ci id="S5.SS1.p2.6.m6.1.1.2.cmml" xref="S5.SS1.p2.6.m6.1.1.2">𝜇</ci><ci id="S5.SS1.p2.6.m6.1.1.3a.cmml" xref="S5.SS1.p2.6.m6.1.1.3"><mtext mathsize="70%" id="S5.SS1.p2.6.m6.1.1.3.cmml" xref="S5.SS1.p2.6.m6.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.6.m6.1c">\mu_{\text{rnnt}}</annotation></semantics></math>, <math id="S5.SS1.p2.7.m7.1" class="ltx_Math" alttext="\mu_{\text{att}}" display="inline"><semantics id="S5.SS1.p2.7.m7.1a"><msub id="S5.SS1.p2.7.m7.1.1" xref="S5.SS1.p2.7.m7.1.1.cmml"><mi id="S5.SS1.p2.7.m7.1.1.2" xref="S5.SS1.p2.7.m7.1.1.2.cmml">μ</mi><mtext id="S5.SS1.p2.7.m7.1.1.3" xref="S5.SS1.p2.7.m7.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.7.m7.1b"><apply id="S5.SS1.p2.7.m7.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.7.m7.1.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S5.SS1.p2.7.m7.1.1.2.cmml" xref="S5.SS1.p2.7.m7.1.1.2">𝜇</ci><ci id="S5.SS1.p2.7.m7.1.1.3a.cmml" xref="S5.SS1.p2.7.m7.1.1.3"><mtext mathsize="70%" id="S5.SS1.p2.7.m7.1.1.3.cmml" xref="S5.SS1.p2.7.m7.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.7.m7.1c">\mu_{\text{att}}</annotation></semantics></math>) of the attention-driven, CTC-driven, and RNN-T-driven beam search in Algorithms 1, 3, and 4 are (0.2, 0.2, 0.6), (0.3, 0.3, 0.4), and (0.1, 0.4, 0.5), respectively. The main beam size <math id="S5.SS1.p2.8.m8.1" class="ltx_Math" alttext="\text{k}_{\text{beam}}" display="inline"><semantics id="S5.SS1.p2.8.m8.1a"><msub id="S5.SS1.p2.8.m8.1.1" xref="S5.SS1.p2.8.m8.1.1.cmml"><mtext id="S5.SS1.p2.8.m8.1.1.2" xref="S5.SS1.p2.8.m8.1.1.2a.cmml">k</mtext><mtext id="S5.SS1.p2.8.m8.1.1.3" xref="S5.SS1.p2.8.m8.1.1.3a.cmml">beam</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.8.m8.1b"><apply id="S5.SS1.p2.8.m8.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.1.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1">subscript</csymbol><ci id="S5.SS1.p2.8.m8.1.1.2a.cmml" xref="S5.SS1.p2.8.m8.1.1.2"><mtext id="S5.SS1.p2.8.m8.1.1.2.cmml" xref="S5.SS1.p2.8.m8.1.1.2">k</mtext></ci><ci id="S5.SS1.p2.8.m8.1.1.3a.cmml" xref="S5.SS1.p2.8.m8.1.1.3"><mtext mathsize="70%" id="S5.SS1.p2.8.m8.1.1.3.cmml" xref="S5.SS1.p2.8.m8.1.1.3">beam</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.8.m8.1c">\text{k}_{\text{beam}}</annotation></semantics></math> and prebeam size <math id="S5.SS1.p2.9.m9.1" class="ltx_Math" alttext="\text{k}_{\text{pre}}" display="inline"><semantics id="S5.SS1.p2.9.m9.1a"><msub id="S5.SS1.p2.9.m9.1.1" xref="S5.SS1.p2.9.m9.1.1.cmml"><mtext id="S5.SS1.p2.9.m9.1.1.2" xref="S5.SS1.p2.9.m9.1.1.2a.cmml">k</mtext><mtext id="S5.SS1.p2.9.m9.1.1.3" xref="S5.SS1.p2.9.m9.1.1.3a.cmml">pre</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.9.m9.1b"><apply id="S5.SS1.p2.9.m9.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.9.m9.1.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1">subscript</csymbol><ci id="S5.SS1.p2.9.m9.1.1.2a.cmml" xref="S5.SS1.p2.9.m9.1.1.2"><mtext id="S5.SS1.p2.9.m9.1.1.2.cmml" xref="S5.SS1.p2.9.m9.1.1.2">k</mtext></ci><ci id="S5.SS1.p2.9.m9.1.1.3a.cmml" xref="S5.SS1.p2.9.m9.1.1.3"><mtext mathsize="70%" id="S5.SS1.p2.9.m9.1.1.3.cmml" xref="S5.SS1.p2.9.m9.1.1.3">pre</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.9.m9.1c">\text{k}_{\text{pre}}</annotation></semantics></math> are 20 and 30, respectively.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS2.4.1.1" class="ltx_text">V-B</span> </span><span id="S5.SS2.5.2" class="ltx_text ltx_font_italic">Dataset</span>
</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">The proposed method is tested using the LibriSpeech (960 h, 100 h) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> and our in-house dataset.
Our in-house dataset<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Our in-house dataset is not released for privacy and confidentiality reasons.</span></span></span> comprises 93 hours of Japanese speech data, collected from various scenarios such as meetings and morning assemblies, in addition to 581 hours of the Corpus of Spontaneous Japanese <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite> and 181 hours of Japanese speech database developed by the Advanced Telecommunications Research Institute International (ATR-APP) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>.
The word/character error rates (WER/CER) are calculated for the LibriSpeech and our in-house dataset using the ESPnet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib56" title="" class="ltx_ref">56</a>]</cite> toolkit.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Results</span>
</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this section, we first discuss the main results of the proposed method in Section <a href="#S6.SS1" title="VI-A Main results ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-A</span></span></a>. Subsequently, we explore the effectiveness of both joint training and decoding in Section <a href="#S6.SS2" title="VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-B</span></span></a> and <a href="#S6.SS3" title="VI-C Detailed analysis of the proposed one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-C</span></span></a>. Finally, we thoroughly compare the three proposed one-pass beam search algorithms in Section <a href="#S6.SS4" title="VI-D Comprehensive analysis of the one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-D</span></span></a>.</p>
</div>
<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S6.SS1.4.1.1" class="ltx_text">VI-A</span> </span><span id="S6.SS1.5.2" class="ltx_text ltx_font_italic">Main results</span>
</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.1" class="ltx_p">Table <a href="#S4.T1" title="TABLE I ‣ IV-E RNN-T-driven one-pass beam search ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a> presents a comprehensive overview of the results, evaluating the effect of both joint training and decoding strategies. First, we observe that the individual decoder branches of the 4D model exhibit superior performance compared to their non-4D trained counterparts (A1-4 vs. B1-4). Specifically, the 4D model enhances the CTC, attention, RNN-T, and Mask-CTC models, resulting in an overall improvement of 0.28-0.72 WER/CER.
This improvement also holds for the CTC/attention models, as demonstrated by the comparison between A5 and B5. The results confirm that joint training significantly contributes to the enhanced performance of the individual decoders.</p>
</div>
<div id="S6.SS1.p2" class="ltx_para">
<p id="S6.SS1.p2.1" class="ltx_p">Beyond joint training, Table <a href="#S4.T1" title="TABLE I ‣ IV-E RNN-T-driven one-pass beam search ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a> also shows the results of the three proposed one-pass beam search algorithms. These methods consistently outperform the CTC/attention baseline, as indicated by the improvements seen in A5 compared to B6-8. In particular, the RNN-T-driven CTC/RNN-T/attention decoding shows a better performance improvement (an average of 0.47 WER/CER improvement) than the other two one-pass beam search methods.
Notably, these improvements are more pronounced on the LibriSpeech 100 h dataset, suggesting that the 4D approach provides a regularization effect that is particularly beneficial when training data are limited.</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S6.SS2.4.1.1" class="ltx_text">VI-B</span> </span><span id="S6.SS2.5.2" class="ltx_text ltx_font_italic">Detailed analysis of the joint training</span>
</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.1" class="ltx_p">This section provides a detailed analysis of joint training. The subsequent subsections examine the proposed two-stage training, the effect of the number of decoders in joint training, and the training time.</p>
</div>
<section id="S6.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S6.SS2.SSS1.4.1.1" class="ltx_text">VI-B</span>1 </span>Analysis of the two-stage training strategy</h4>

<div id="S6.SS2.SSS1.p1" class="ltx_para">
<p id="S6.SS2.SSS1.p1.1" class="ltx_p">Figure <a href="#S6.F3" title="Figure 3 ‣ VI-B1 Analysis of the two-stage training strategy ‣ VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> illustrates the normalized validation losses in the first and second training stages. Note that the validation losses are normalized for a comparative analysis of convergence speed rather than focusing on the magnitude of the losses.
During the first training stage (Figure <a href="#S6.F3" title="Figure 3 ‣ VI-B1 Analysis of the two-stage training strategy ‣ VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> (a)), the MLM loss exhibits relatively slower convergence, suggesting potential under-convergence with the MLM decoder or potential overfitting with the other decoders. However, in the second training stage (Figure <a href="#S6.F3" title="Figure 3 ‣ VI-B1 Analysis of the two-stage training strategy ‣ VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> (b)), the gap in convergence speed among the four losses decreases, indicating a more balanced convergence across all decoders.</p>
</div>
<div id="S6.SS2.SSS1.p2" class="ltx_para">
<p id="S6.SS2.SSS1.p2.1" class="ltx_p">Table <a href="#S6.T2" title="TABLE II ‣ VI-B1 Analysis of the two-stage training strategy ‣ VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a> presents the performance of each decoder on the test-other set of LibriSpeech 100 h without and with 4D joint training in the first and second stages.
Even in the first stage, where each model outperforms the performance of the non-4D multitask learning model, all four decoders exhibit improved performance in the second stage. This indicates the effectiveness of the proposed two-stage approach in efficiently determining the four weights through only two experimental trials.</p>
</div>
<figure id="S6.F3" class="ltx_figure">
<div id="S6.F3.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:433.6pt;">
<img src="/html/2406.02950/assets/figures/stage12.png" id="S6.F3.1.g1" class="ltx_graphics ltx_img_landscape" width="293" height="128" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Validation curves of the first vs. second training stage.</figcaption>
</figure>
<figure id="S6.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE II: </span>Effect of the two-stage training with LibriSpeech 100 h.</figcaption>
<table id="S6.T2.1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.T2.1.1.1" class="ltx_tr">
<th id="S6.T2.1.1.1.2" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"></th>
<th id="S6.T2.1.1.1.3" class="ltx_td ltx_th ltx_th_column ltx_border_t"></th>
<th id="S6.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">WER (<math id="S6.T2.1.1.1.1.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S6.T2.1.1.1.1.m1.1a"><mo stretchy="false" id="S6.T2.1.1.1.1.m1.1.1" xref="S6.T2.1.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T2.1.1.1.1.m1.1b"><ci id="S6.T2.1.1.1.1.m1.1.1.cmml" xref="S6.T2.1.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.1.1.1.1.m1.1c">\downarrow</annotation></semantics></math>)</th>
<th id="S6.T2.1.1.1.4" class="ltx_td ltx_th ltx_th_column ltx_border_t"></th>
</tr>
<tr id="S6.T2.1.1.2.1" class="ltx_tr">
<th id="S6.T2.1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r">Decoder</th>
<th id="S6.T2.1.1.2.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column">Non-4D</th>
<th id="S6.T2.1.1.2.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column">1st stage</th>
<th id="S6.T2.1.1.2.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column">2nd stage</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.T2.1.1.3.1" class="ltx_tr">
<th id="S6.T2.1.1.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">Attention</th>
<td id="S6.T2.1.1.3.1.2" class="ltx_td ltx_align_center ltx_border_t">19.43</td>
<td id="S6.T2.1.1.3.1.3" class="ltx_td ltx_align_center ltx_border_t">18.69</td>
<td id="S6.T2.1.1.3.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T2.1.1.3.1.4.1" class="ltx_text ltx_font_bold">17.91</span></td>
</tr>
<tr id="S6.T2.1.1.4.2" class="ltx_tr">
<th id="S6.T2.1.1.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">CTC</th>
<td id="S6.T2.1.1.4.2.2" class="ltx_td ltx_align_center">20.66</td>
<td id="S6.T2.1.1.4.2.3" class="ltx_td ltx_align_center">19.52</td>
<td id="S6.T2.1.1.4.2.4" class="ltx_td ltx_align_center"><span id="S6.T2.1.1.4.2.4.1" class="ltx_text ltx_font_bold">18.96</span></td>
</tr>
<tr id="S6.T2.1.1.5.3" class="ltx_tr">
<th id="S6.T2.1.1.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">Mask-CTC</th>
<td id="S6.T2.1.1.5.3.2" class="ltx_td ltx_align_center">20.78</td>
<td id="S6.T2.1.1.5.3.3" class="ltx_td ltx_align_center">20.38</td>
<td id="S6.T2.1.1.5.3.4" class="ltx_td ltx_align_center"><span id="S6.T2.1.1.5.3.4.1" class="ltx_text ltx_font_bold">18.97</span></td>
</tr>
<tr id="S6.T2.1.1.6.4" class="ltx_tr">
<th id="S6.T2.1.1.6.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r">RNN-T</th>
<td id="S6.T2.1.1.6.4.2" class="ltx_td ltx_align_center ltx_border_b">18.30</td>
<td id="S6.T2.1.1.6.4.3" class="ltx_td ltx_align_center ltx_border_b">18.10</td>
<td id="S6.T2.1.1.6.4.4" class="ltx_td ltx_align_center ltx_border_b"><span id="S6.T2.1.1.6.4.4.1" class="ltx_text ltx_font_bold">17.61</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S6.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S6.SS2.SSS2.4.1.1" class="ltx_text">VI-B</span>2 </span>Effect of the number of decoders</h4>

<div id="S6.SS2.SSS2.p1" class="ltx_para">
<p id="S6.SS2.SSS2.p1.1" class="ltx_p">Table <a href="#S6.T3" title="TABLE III ‣ VI-B2 Effect of the number of decoders ‣ VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a> depicts the relationship between the number of decoders employed for joint training and the resultant performance. The evaluation aims to investigate the effect of joint training by comparing the proposed 4D model with the CTC/RNN-T/attention (a three-decoder joint model), CTC/attention, and RNN-T models.
To isolate the influence of joint training, the individual decoders are employed for decoding (i.e., CTC, attention, and RNN-T), avoiding the application of joint decoding. As depicted in Table <a href="#S6.T3" title="TABLE III ‣ VI-B2 Effect of the number of decoders ‣ VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>, WER significantly improves as the number of decoders used for joint training increases. This underscores the effectiveness of joint training using multiple decoders with distinct characteristics in effectively regularizing the encoder training.</p>
</div>
<figure id="S6.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE III: </span>Effect of the number of decoders during <span id="S6.T3.3.1" class="ltx_text ltx_font_bold">training</span> on LibriSpeech 100 h test-other.</figcaption>
<table id="S6.T3.1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.T3.1.1.1" class="ltx_tr">
<th id="S6.T3.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t">Joint training</th>
<th id="S6.T3.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Decoder</th>
<th id="S6.T3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">WER (<math id="S6.T3.1.1.1.1.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S6.T3.1.1.1.1.m1.1a"><mo stretchy="false" id="S6.T3.1.1.1.1.m1.1.1" xref="S6.T3.1.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T3.1.1.1.1.m1.1b"><ci id="S6.T3.1.1.1.1.m1.1.1.cmml" xref="S6.T3.1.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.1.1.1.1.m1.1c">\downarrow</annotation></semantics></math>)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.T3.1.1.2.1" class="ltx_tr">
<th id="S6.T3.1.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">CTC/Attention</th>
<td id="S6.T3.1.1.2.1.2" class="ltx_td ltx_border_t"></td>
<td id="S6.T3.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">20.66</td>
</tr>
<tr id="S6.T3.1.1.3.2" class="ltx_tr">
<th id="S6.T3.1.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">CTC/RNN-T/Attn</th>
<td id="S6.T3.1.1.3.2.2" class="ltx_td ltx_align_center">CTC</td>
<td id="S6.T3.1.1.3.2.3" class="ltx_td ltx_align_center">20.56</td>
</tr>
<tr id="S6.T3.1.1.4.3" class="ltx_tr">
<th id="S6.T3.1.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">CTC/RNN-T/Attn/MLM</th>
<td id="S6.T3.1.1.4.3.2" class="ltx_td"></td>
<td id="S6.T3.1.1.4.3.3" class="ltx_td ltx_align_center"><span id="S6.T3.1.1.4.3.3.1" class="ltx_text ltx_font_bold">18.96</span></td>
</tr>
<tr id="S6.T3.1.1.5.4" class="ltx_tr">
<th id="S6.T3.1.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">CTC/Attention</th>
<td id="S6.T3.1.1.5.4.2" class="ltx_td ltx_border_t"></td>
<td id="S6.T3.1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_t">19.43</td>
</tr>
<tr id="S6.T3.1.1.6.5" class="ltx_tr">
<th id="S6.T3.1.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">CTC/RNN-T/Attn</th>
<td id="S6.T3.1.1.6.5.2" class="ltx_td ltx_align_center">Attention</td>
<td id="S6.T3.1.1.6.5.3" class="ltx_td ltx_align_center">18.70</td>
</tr>
<tr id="S6.T3.1.1.7.6" class="ltx_tr">
<th id="S6.T3.1.1.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">CTC/RNN-T/Attn/MLM</th>
<td id="S6.T3.1.1.7.6.2" class="ltx_td"></td>
<td id="S6.T3.1.1.7.6.3" class="ltx_td ltx_align_center"><span id="S6.T3.1.1.7.6.3.1" class="ltx_text ltx_font_bold">17.91</span></td>
</tr>
<tr id="S6.T3.1.1.8.7" class="ltx_tr">
<th id="S6.T3.1.1.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">RNN-T</th>
<td id="S6.T3.1.1.8.7.2" class="ltx_td ltx_border_t"></td>
<td id="S6.T3.1.1.8.7.3" class="ltx_td ltx_align_center ltx_border_t">18.30</td>
</tr>
<tr id="S6.T3.1.1.9.8" class="ltx_tr">
<th id="S6.T3.1.1.9.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">CTC/RNN-T/Attn</th>
<td id="S6.T3.1.1.9.8.2" class="ltx_td ltx_align_center">RNN-T</td>
<td id="S6.T3.1.1.9.8.3" class="ltx_td ltx_align_center">18.34</td>
</tr>
<tr id="S6.T3.1.1.10.9" class="ltx_tr">
<th id="S6.T3.1.1.10.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b">CTC/RNN-T/Attn/MLM</th>
<td id="S6.T3.1.1.10.9.2" class="ltx_td ltx_border_b"></td>
<td id="S6.T3.1.1.10.9.3" class="ltx_td ltx_align_center ltx_border_b"><span id="S6.T3.1.1.10.9.3.1" class="ltx_text ltx_font_bold">17.61</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S6.SS2.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S6.SS2.SSS3.4.1.1" class="ltx_text">VI-B</span>3 </span>Limitation of joint training</h4>

<div id="S6.SS2.SSS3.p1" class="ltx_para">
<p id="S6.SS2.SSS3.p1.1" class="ltx_p">Table <a href="#S6.T4" title="TABLE IV ‣ VI-B3 Limitation of joint training ‣ VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a> provides the training time for each model when training single and 4D models on the LibriSpeech 100 h dataset using NVIDIA A100 80GB GPUs. RNN-T requires substantially more training time than the other two individual models (CTC/Attention and Mask-CTC) due to the considerable amount of GPU memory required for computing all possible RNN-T paths <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.
Because the 4D model incorporates four decoders, including the RNN-T decoder, the training time naturally increases (roughly the sum of the training times for each model).</p>
</div>
<div id="S6.SS2.SSS3.p2" class="ltx_para">
<p id="S6.SS2.SSS3.p2.1" class="ltx_p">However, during decoding, as long as a single decoder is utilized, there is no need for the forward computation of other decoders, ensuring that the decoding time remains comparable to that of the individual models (as further discussed in Section <a href="#S6.SS3.SSS1" title="VI-C1 Computational complexity of the beam search ‣ VI-C Detailed analysis of the proposed one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-C</span>1</span></a>).
In addition, as mentioned in the Introduction, multiple models typically need to be trained for different application scenarios. Still, the 4D model offers the advantage of quickly switching between decoders.
If three individual systems (CTC/attention, RNN-T, and Mask-CTC) need to be trained, the total training time would be 1.21 GPU hours / epoch, meaning that the increase in training time for the 4D model is only 16%.</p>
</div>
<figure id="S6.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE IV: </span>Training times.</figcaption>
<table id="S6.T4.1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.T4.1.1.1" class="ltx_tr">
<th id="S6.T4.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t">Model</th>
<th id="S6.T4.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_t">GPUs</th>
<th id="S6.T4.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">GPU hours / epoch</th>
<th id="S6.T4.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Increase (<math id="S6.T4.1.1.1.1.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S6.T4.1.1.1.1.m1.1a"><mo stretchy="false" id="S6.T4.1.1.1.1.m1.1.1" xref="S6.T4.1.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S6.T4.1.1.1.1.m1.1b"><ci id="S6.T4.1.1.1.1.m1.1.1.cmml" xref="S6.T4.1.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T4.1.1.1.1.m1.1c">\downarrow</annotation></semantics></math>)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.T4.1.1.2.1" class="ltx_tr">
<th id="S6.T4.1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">CTC/Attn</th>
<th id="S6.T4.1.1.2.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">1</th>
<td id="S6.T4.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">0.16</td>
<td id="S6.T4.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t">1.0x</td>
</tr>
<tr id="S6.T4.1.1.3.2" class="ltx_tr">
<th id="S6.T4.1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">Mask-CTC</th>
<th id="S6.T4.1.1.3.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">1</th>
<td id="S6.T4.1.1.3.2.3" class="ltx_td ltx_align_center">0.19</td>
<td id="S6.T4.1.1.3.2.4" class="ltx_td ltx_align_center">1.2x</td>
</tr>
<tr id="S6.T4.1.1.4.3" class="ltx_tr">
<th id="S6.T4.1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">RNN-T</th>
<th id="S6.T4.1.1.4.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">2</th>
<td id="S6.T4.1.1.4.3.3" class="ltx_td ltx_align_center">0.86</td>
<td id="S6.T4.1.1.4.3.4" class="ltx_td ltx_align_center">5.5x</td>
</tr>
<tr id="S6.T4.1.1.5.4" class="ltx_tr">
<th id="S6.T4.1.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b">4D</th>
<th id="S6.T4.1.1.5.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b">4</th>
<td id="S6.T4.1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_b">1.40</td>
<td id="S6.T4.1.1.5.4.4" class="ltx_td ltx_align_center ltx_border_b">8.9x</td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S6.SS3.4.1.1" class="ltx_text">VI-C</span> </span><span id="S6.SS3.5.2" class="ltx_text ltx_font_italic">Detailed analysis of the proposed one-pass beam search</span>
</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p id="S6.SS3.p1.1" class="ltx_p">This section provides a detailed analysis of joint decoding, specifically focusing on the RNN-T-driven one-pass beam search, demonstrating superior performance in Table <a href="#S4.T1" title="TABLE I ‣ IV-E RNN-T-driven one-pass beam search ‣ IV Proposed 4D ASR model ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>.</p>
</div>
<section id="S6.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S6.SS3.SSS1.4.1.1" class="ltx_text">VI-C</span>1 </span>Computational complexity of the beam search</h4>

<div id="S6.SS3.SSS1.p1" class="ltx_para">
<p id="S6.SS3.SSS1.p1.3" class="ltx_p">Figure <a href="#S6.F4" title="Figure 4 ‣ VI-C1 Computational complexity of the beam search ‣ VI-C Detailed analysis of the proposed one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> illustrates the relationship between the real-time factor (RTF) using a GPU (NVIDIA RTX3090) and WER on the LibriSpeech 100 h test-other set. The black dots denote the baselines, the blue dots represent 4D joint training but <span id="S6.SS3.SSS1.p1.3.1" class="ltx_text ltx_font_italic">without</span> one-pass beam search, and the green dots denote 4D joint training <span id="S6.SS3.SSS1.p1.3.2" class="ltx_text ltx_font_italic">with</span> RNN-T-driven one-pass beam search.
In addition to the three-decoder one-pass beam search of CTC/RNN-T/attention, we show the results of the two-decoder one-pass beam search of CTC/RNN-T and RNN-T/attention. The decoding weights (<math id="S6.SS3.SSS1.p1.1.m1.1" class="ltx_Math" alttext="\mu_{\text{ctc}}" display="inline"><semantics id="S6.SS3.SSS1.p1.1.m1.1a"><msub id="S6.SS3.SSS1.p1.1.m1.1.1" xref="S6.SS3.SSS1.p1.1.m1.1.1.cmml"><mi id="S6.SS3.SSS1.p1.1.m1.1.1.2" xref="S6.SS3.SSS1.p1.1.m1.1.1.2.cmml">μ</mi><mtext id="S6.SS3.SSS1.p1.1.m1.1.1.3" xref="S6.SS3.SSS1.p1.1.m1.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS1.p1.1.m1.1b"><apply id="S6.SS3.SSS1.p1.1.m1.1.1.cmml" xref="S6.SS3.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS3.SSS1.p1.1.m1.1.1.1.cmml" xref="S6.SS3.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S6.SS3.SSS1.p1.1.m1.1.1.2.cmml" xref="S6.SS3.SSS1.p1.1.m1.1.1.2">𝜇</ci><ci id="S6.SS3.SSS1.p1.1.m1.1.1.3a.cmml" xref="S6.SS3.SSS1.p1.1.m1.1.1.3"><mtext mathsize="70%" id="S6.SS3.SSS1.p1.1.m1.1.1.3.cmml" xref="S6.SS3.SSS1.p1.1.m1.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS1.p1.1.m1.1c">\mu_{\text{ctc}}</annotation></semantics></math>, <math id="S6.SS3.SSS1.p1.2.m2.1" class="ltx_Math" alttext="\mu_{\text{rnnt}}" display="inline"><semantics id="S6.SS3.SSS1.p1.2.m2.1a"><msub id="S6.SS3.SSS1.p1.2.m2.1.1" xref="S6.SS3.SSS1.p1.2.m2.1.1.cmml"><mi id="S6.SS3.SSS1.p1.2.m2.1.1.2" xref="S6.SS3.SSS1.p1.2.m2.1.1.2.cmml">μ</mi><mtext id="S6.SS3.SSS1.p1.2.m2.1.1.3" xref="S6.SS3.SSS1.p1.2.m2.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS1.p1.2.m2.1b"><apply id="S6.SS3.SSS1.p1.2.m2.1.1.cmml" xref="S6.SS3.SSS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S6.SS3.SSS1.p1.2.m2.1.1.1.cmml" xref="S6.SS3.SSS1.p1.2.m2.1.1">subscript</csymbol><ci id="S6.SS3.SSS1.p1.2.m2.1.1.2.cmml" xref="S6.SS3.SSS1.p1.2.m2.1.1.2">𝜇</ci><ci id="S6.SS3.SSS1.p1.2.m2.1.1.3a.cmml" xref="S6.SS3.SSS1.p1.2.m2.1.1.3"><mtext mathsize="70%" id="S6.SS3.SSS1.p1.2.m2.1.1.3.cmml" xref="S6.SS3.SSS1.p1.2.m2.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS1.p1.2.m2.1c">\mu_{\text{rnnt}}</annotation></semantics></math>, <math id="S6.SS3.SSS1.p1.3.m3.1" class="ltx_Math" alttext="\mu_{\text{att}}" display="inline"><semantics id="S6.SS3.SSS1.p1.3.m3.1a"><msub id="S6.SS3.SSS1.p1.3.m3.1.1" xref="S6.SS3.SSS1.p1.3.m3.1.1.cmml"><mi id="S6.SS3.SSS1.p1.3.m3.1.1.2" xref="S6.SS3.SSS1.p1.3.m3.1.1.2.cmml">μ</mi><mtext id="S6.SS3.SSS1.p1.3.m3.1.1.3" xref="S6.SS3.SSS1.p1.3.m3.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS1.p1.3.m3.1b"><apply id="S6.SS3.SSS1.p1.3.m3.1.1.cmml" xref="S6.SS3.SSS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S6.SS3.SSS1.p1.3.m3.1.1.1.cmml" xref="S6.SS3.SSS1.p1.3.m3.1.1">subscript</csymbol><ci id="S6.SS3.SSS1.p1.3.m3.1.1.2.cmml" xref="S6.SS3.SSS1.p1.3.m3.1.1.2">𝜇</ci><ci id="S6.SS3.SSS1.p1.3.m3.1.1.3a.cmml" xref="S6.SS3.SSS1.p1.3.m3.1.1.3"><mtext mathsize="70%" id="S6.SS3.SSS1.p1.3.m3.1.1.3.cmml" xref="S6.SS3.SSS1.p1.3.m3.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS1.p1.3.m3.1c">\mu_{\text{att}}</annotation></semantics></math>) of the RNN-T-driven one-pass beam search in Algorithm 4 are (0.3, 0.7, 0.0) and (0.0, 0.5, 0.5) for CTC/RNN-T and RNN-T/attention, respectively.</p>
</div>
<div id="S6.SS3.SSS1.p2" class="ltx_para">
<p id="S6.SS3.SSS1.p2.1" class="ltx_p">Comparing the black and blue dots, the proposed 4D model consistently reduces WER for all decoders without an increase in RTF. Although joint training requires more GPU memory and training time, as discussed in Section <a href="#S6.SS2.SSS3" title="VI-B3 Limitation of joint training ‣ VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-B</span>3</span></a>, the proposed 4D model does not increase the decoding time as long as a single decoder is used.</p>
</div>
<div id="S6.SS3.SSS1.p3" class="ltx_para">
<p id="S6.SS3.SSS1.p3.1" class="ltx_p">Shifting the focus to joint decoding with two decoders, compared to conventional CTC/attention joint decoding (represented by the blue dot), CTC/RNN-T achieves a smaller RTF with a comparable WER, and RNN-T/attention achieves a better WER with a similar RTF.
In addition, the three-decoder one-pass beam search of CTC/RNN-T/attention shows the best WER with a 30% larger RTF (0.85 vs. 0.65).</p>
</div>
<figure id="S6.F4" class="ltx_figure">
<div id="S6.F4.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:260.2pt;">
<img src="/html/2406.02950/assets/figures/rtf-wer.png" id="S6.F4.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="331" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Relationship between RTFs and WERs. The red, blue, and green dots represent the baselines, the 4D model without beam search, and the 4D model with beam search, respectively.</figcaption>
</figure>
</section>
<section id="S6.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S6.SS3.SSS2.4.1.1" class="ltx_text">VI-C</span>2 </span>Typical example of the joint decoding</h4>

<div id="S6.SS3.SSS2.p1" class="ltx_para">
<p id="S6.SS3.SSS2.p1.1" class="ltx_p">Figure <a href="#S6.F5" title="Figure 5 ‣ VI-C2 Typical example of the joint decoding ‣ VI-C Detailed analysis of the proposed one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows typical decoding results of the conventional CTC/attention and the proposed RNN-T driven one-pass beam search. The decoding results are also shown using each single decoder (CTC, attention, and RNN-T decoders). The incorrect decoding results are highlighted in red.
Conversely, the correct decoding results are shown in blue, and results corrected by the joint decoding are further bolded.
In both CTC/attention and the proposed one-pass beam search, joint decoding can correct the incorrectly decoded result if any decoder outputs a correct token.
The proposed method integrates the three decoders, thereby enhancing the complementarity of each decoder resulting in a performance improvement in terms of WER.</p>
</div>
<figure id="S6.F5" class="ltx_figure">
<div id="S6.F5.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:210.3pt;">
<img src="/html/2406.02950/assets/figures/example.png" id="S6.F5.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="259" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Typical examples of beam search results. Incorrect decoding results are highlighted in red. Conversely, correct decoding results are shown in blue, and results corrected by the joint decoding are further bolded.</figcaption>
</figure>
</section>
<section id="S6.SS3.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S6.SS3.SSS3.4.1.1" class="ltx_text">VI-C</span>3 </span>Effect of the decoding weights</h4>

<div id="S6.SS3.SSS3.p1" class="ltx_para">
<p id="S6.SS3.SSS3.p1.5" class="ltx_p">As depicted in Figure <a href="#S6.F6" title="Figure 6 ‣ VI-C3 Effect of the decoding weights ‣ VI-C Detailed analysis of the proposed one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we examine the effect of RNN-T weight <math id="S6.SS3.SSS3.p1.1.m1.1" class="ltx_Math" alttext="\mu_{\text{rnnt}}" display="inline"><semantics id="S6.SS3.SSS3.p1.1.m1.1a"><msub id="S6.SS3.SSS3.p1.1.m1.1.1" xref="S6.SS3.SSS3.p1.1.m1.1.1.cmml"><mi id="S6.SS3.SSS3.p1.1.m1.1.1.2" xref="S6.SS3.SSS3.p1.1.m1.1.1.2.cmml">μ</mi><mtext id="S6.SS3.SSS3.p1.1.m1.1.1.3" xref="S6.SS3.SSS3.p1.1.m1.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS3.p1.1.m1.1b"><apply id="S6.SS3.SSS3.p1.1.m1.1.1.cmml" xref="S6.SS3.SSS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS3.SSS3.p1.1.m1.1.1.1.cmml" xref="S6.SS3.SSS3.p1.1.m1.1.1">subscript</csymbol><ci id="S6.SS3.SSS3.p1.1.m1.1.1.2.cmml" xref="S6.SS3.SSS3.p1.1.m1.1.1.2">𝜇</ci><ci id="S6.SS3.SSS3.p1.1.m1.1.1.3a.cmml" xref="S6.SS3.SSS3.p1.1.m1.1.1.3"><mtext mathsize="70%" id="S6.SS3.SSS3.p1.1.m1.1.1.3.cmml" xref="S6.SS3.SSS3.p1.1.m1.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS3.p1.1.m1.1c">\mu_{\text{rnnt}}</annotation></semantics></math> by maintaining the attention weight <math id="S6.SS3.SSS3.p1.2.m2.1" class="ltx_Math" alttext="\mu_{\text{att}}" display="inline"><semantics id="S6.SS3.SSS3.p1.2.m2.1a"><msub id="S6.SS3.SSS3.p1.2.m2.1.1" xref="S6.SS3.SSS3.p1.2.m2.1.1.cmml"><mi id="S6.SS3.SSS3.p1.2.m2.1.1.2" xref="S6.SS3.SSS3.p1.2.m2.1.1.2.cmml">μ</mi><mtext id="S6.SS3.SSS3.p1.2.m2.1.1.3" xref="S6.SS3.SSS3.p1.2.m2.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS3.p1.2.m2.1b"><apply id="S6.SS3.SSS3.p1.2.m2.1.1.cmml" xref="S6.SS3.SSS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S6.SS3.SSS3.p1.2.m2.1.1.1.cmml" xref="S6.SS3.SSS3.p1.2.m2.1.1">subscript</csymbol><ci id="S6.SS3.SSS3.p1.2.m2.1.1.2.cmml" xref="S6.SS3.SSS3.p1.2.m2.1.1.2">𝜇</ci><ci id="S6.SS3.SSS3.p1.2.m2.1.1.3a.cmml" xref="S6.SS3.SSS3.p1.2.m2.1.1.3"><mtext mathsize="70%" id="S6.SS3.SSS3.p1.2.m2.1.1.3.cmml" xref="S6.SS3.SSS3.p1.2.m2.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS3.p1.2.m2.1c">\mu_{\text{att}}</annotation></semantics></math> at 0.5 for CTC/attention. The proposed method consistently outperforms the baseline by increasing the RNN-T weight, with the best performance observed when utilizing the decoding weights (<math id="S6.SS3.SSS3.p1.3.m3.1" class="ltx_Math" alttext="\mu_{\text{ctc}}" display="inline"><semantics id="S6.SS3.SSS3.p1.3.m3.1a"><msub id="S6.SS3.SSS3.p1.3.m3.1.1" xref="S6.SS3.SSS3.p1.3.m3.1.1.cmml"><mi id="S6.SS3.SSS3.p1.3.m3.1.1.2" xref="S6.SS3.SSS3.p1.3.m3.1.1.2.cmml">μ</mi><mtext id="S6.SS3.SSS3.p1.3.m3.1.1.3" xref="S6.SS3.SSS3.p1.3.m3.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS3.p1.3.m3.1b"><apply id="S6.SS3.SSS3.p1.3.m3.1.1.cmml" xref="S6.SS3.SSS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S6.SS3.SSS3.p1.3.m3.1.1.1.cmml" xref="S6.SS3.SSS3.p1.3.m3.1.1">subscript</csymbol><ci id="S6.SS3.SSS3.p1.3.m3.1.1.2.cmml" xref="S6.SS3.SSS3.p1.3.m3.1.1.2">𝜇</ci><ci id="S6.SS3.SSS3.p1.3.m3.1.1.3a.cmml" xref="S6.SS3.SSS3.p1.3.m3.1.1.3"><mtext mathsize="70%" id="S6.SS3.SSS3.p1.3.m3.1.1.3.cmml" xref="S6.SS3.SSS3.p1.3.m3.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS3.p1.3.m3.1c">\mu_{\text{ctc}}</annotation></semantics></math>, <math id="S6.SS3.SSS3.p1.4.m4.1" class="ltx_Math" alttext="\mu_{\text{rnnt}}" display="inline"><semantics id="S6.SS3.SSS3.p1.4.m4.1a"><msub id="S6.SS3.SSS3.p1.4.m4.1.1" xref="S6.SS3.SSS3.p1.4.m4.1.1.cmml"><mi id="S6.SS3.SSS3.p1.4.m4.1.1.2" xref="S6.SS3.SSS3.p1.4.m4.1.1.2.cmml">μ</mi><mtext id="S6.SS3.SSS3.p1.4.m4.1.1.3" xref="S6.SS3.SSS3.p1.4.m4.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS3.p1.4.m4.1b"><apply id="S6.SS3.SSS3.p1.4.m4.1.1.cmml" xref="S6.SS3.SSS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S6.SS3.SSS3.p1.4.m4.1.1.1.cmml" xref="S6.SS3.SSS3.p1.4.m4.1.1">subscript</csymbol><ci id="S6.SS3.SSS3.p1.4.m4.1.1.2.cmml" xref="S6.SS3.SSS3.p1.4.m4.1.1.2">𝜇</ci><ci id="S6.SS3.SSS3.p1.4.m4.1.1.3a.cmml" xref="S6.SS3.SSS3.p1.4.m4.1.1.3"><mtext mathsize="70%" id="S6.SS3.SSS3.p1.4.m4.1.1.3.cmml" xref="S6.SS3.SSS3.p1.4.m4.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS3.p1.4.m4.1c">\mu_{\text{rnnt}}</annotation></semantics></math>, <math id="S6.SS3.SSS3.p1.5.m5.1" class="ltx_Math" alttext="\mu_{\text{att}}" display="inline"><semantics id="S6.SS3.SSS3.p1.5.m5.1a"><msub id="S6.SS3.SSS3.p1.5.m5.1.1" xref="S6.SS3.SSS3.p1.5.m5.1.1.cmml"><mi id="S6.SS3.SSS3.p1.5.m5.1.1.2" xref="S6.SS3.SSS3.p1.5.m5.1.1.2.cmml">μ</mi><mtext id="S6.SS3.SSS3.p1.5.m5.1.1.3" xref="S6.SS3.SSS3.p1.5.m5.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS3.p1.5.m5.1b"><apply id="S6.SS3.SSS3.p1.5.m5.1.1.cmml" xref="S6.SS3.SSS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S6.SS3.SSS3.p1.5.m5.1.1.1.cmml" xref="S6.SS3.SSS3.p1.5.m5.1.1">subscript</csymbol><ci id="S6.SS3.SSS3.p1.5.m5.1.1.2.cmml" xref="S6.SS3.SSS3.p1.5.m5.1.1.2">𝜇</ci><ci id="S6.SS3.SSS3.p1.5.m5.1.1.3a.cmml" xref="S6.SS3.SSS3.p1.5.m5.1.1.3"><mtext mathsize="70%" id="S6.SS3.SSS3.p1.5.m5.1.1.3.cmml" xref="S6.SS3.SSS3.p1.5.m5.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS3.p1.5.m5.1c">\mu_{\text{att}}</annotation></semantics></math>) = (0.1, 0.4, 0.5).</p>
</div>
<figure id="S6.F6" class="ltx_figure">
<div id="S6.F6.1" class="ltx_block ltx_minipage ltx_align_center ltx_align_middle" style="width:173.4pt;">
<img src="/html/2406.02950/assets/figures/decoder_weights.png" id="S6.F6.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="345" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Effect of the decoding weights. We tested the impact of the RNN-T weights by fixing the attention weight to 0.5 for CTC/attention. The proposed method consistently outperformed the baseline by increasing the RNN-T weight.</figcaption>
</figure>
</section>
</section>
<section id="S6.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S6.SS4.4.1.1" class="ltx_text">VI-D</span> </span><span id="S6.SS4.5.2" class="ltx_text ltx_font_italic">Comprehensive analysis of the one-pass beam search</span>
</h3>

<div id="S6.SS4.p1" class="ltx_para">
<p id="S6.SS4.p1.1" class="ltx_p">This section provides a comprehensive analysis of the three proposed one-pass beam search algorithms in terms of WER-RTF tradeoff, decoder combination, and comparison with another joint decoding method.</p>
</div>
<section id="S6.SS4.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S6.SS4.SSS1.4.1.1" class="ltx_text">VI-D</span>1 </span>Comparison of the three one-pass beam search</h4>

<div id="S6.SS4.SSS1.p1" class="ltx_para">
<p id="S6.SS4.SSS1.p1.3" class="ltx_p">Figure <a href="#S6.F7" title="Figure 7 ‣ VI-D1 Comparison of the three one-pass beam search ‣ VI-D Comprehensive analysis of the one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> illustrates the relationship between the RTF using a GPU (NVIDIA RTX3090) and WER on the LibriSpeech 100 h test-other set. The black dots represent the baseline CTC/attention results, while the blue, red, and green dots represent the attention-driven, CTC-driven, and RNN-T-driven one-pass beam search, respectively. We also show the results for single-decoder and two-decoder one-pass beam search.
The decoding weights (<math id="S6.SS4.SSS1.p1.1.m1.1" class="ltx_Math" alttext="\mu_{\text{ctc}}" display="inline"><semantics id="S6.SS4.SSS1.p1.1.m1.1a"><msub id="S6.SS4.SSS1.p1.1.m1.1.1" xref="S6.SS4.SSS1.p1.1.m1.1.1.cmml"><mi id="S6.SS4.SSS1.p1.1.m1.1.1.2" xref="S6.SS4.SSS1.p1.1.m1.1.1.2.cmml">μ</mi><mtext id="S6.SS4.SSS1.p1.1.m1.1.1.3" xref="S6.SS4.SSS1.p1.1.m1.1.1.3a.cmml">ctc</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS4.SSS1.p1.1.m1.1b"><apply id="S6.SS4.SSS1.p1.1.m1.1.1.cmml" xref="S6.SS4.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS4.SSS1.p1.1.m1.1.1.1.cmml" xref="S6.SS4.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S6.SS4.SSS1.p1.1.m1.1.1.2.cmml" xref="S6.SS4.SSS1.p1.1.m1.1.1.2">𝜇</ci><ci id="S6.SS4.SSS1.p1.1.m1.1.1.3a.cmml" xref="S6.SS4.SSS1.p1.1.m1.1.1.3"><mtext mathsize="70%" id="S6.SS4.SSS1.p1.1.m1.1.1.3.cmml" xref="S6.SS4.SSS1.p1.1.m1.1.1.3">ctc</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.SSS1.p1.1.m1.1c">\mu_{\text{ctc}}</annotation></semantics></math>, <math id="S6.SS4.SSS1.p1.2.m2.1" class="ltx_Math" alttext="\mu_{\text{rnnt}}" display="inline"><semantics id="S6.SS4.SSS1.p1.2.m2.1a"><msub id="S6.SS4.SSS1.p1.2.m2.1.1" xref="S6.SS4.SSS1.p1.2.m2.1.1.cmml"><mi id="S6.SS4.SSS1.p1.2.m2.1.1.2" xref="S6.SS4.SSS1.p1.2.m2.1.1.2.cmml">μ</mi><mtext id="S6.SS4.SSS1.p1.2.m2.1.1.3" xref="S6.SS4.SSS1.p1.2.m2.1.1.3a.cmml">rnnt</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS4.SSS1.p1.2.m2.1b"><apply id="S6.SS4.SSS1.p1.2.m2.1.1.cmml" xref="S6.SS4.SSS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S6.SS4.SSS1.p1.2.m2.1.1.1.cmml" xref="S6.SS4.SSS1.p1.2.m2.1.1">subscript</csymbol><ci id="S6.SS4.SSS1.p1.2.m2.1.1.2.cmml" xref="S6.SS4.SSS1.p1.2.m2.1.1.2">𝜇</ci><ci id="S6.SS4.SSS1.p1.2.m2.1.1.3a.cmml" xref="S6.SS4.SSS1.p1.2.m2.1.1.3"><mtext mathsize="70%" id="S6.SS4.SSS1.p1.2.m2.1.1.3.cmml" xref="S6.SS4.SSS1.p1.2.m2.1.1.3">rnnt</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.SSS1.p1.2.m2.1c">\mu_{\text{rnnt}}</annotation></semantics></math>, <math id="S6.SS4.SSS1.p1.3.m3.1" class="ltx_Math" alttext="\mu_{\text{att}}" display="inline"><semantics id="S6.SS4.SSS1.p1.3.m3.1a"><msub id="S6.SS4.SSS1.p1.3.m3.1.1" xref="S6.SS4.SSS1.p1.3.m3.1.1.cmml"><mi id="S6.SS4.SSS1.p1.3.m3.1.1.2" xref="S6.SS4.SSS1.p1.3.m3.1.1.2.cmml">μ</mi><mtext id="S6.SS4.SSS1.p1.3.m3.1.1.3" xref="S6.SS4.SSS1.p1.3.m3.1.1.3a.cmml">att</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS4.SSS1.p1.3.m3.1b"><apply id="S6.SS4.SSS1.p1.3.m3.1.1.cmml" xref="S6.SS4.SSS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S6.SS4.SSS1.p1.3.m3.1.1.1.cmml" xref="S6.SS4.SSS1.p1.3.m3.1.1">subscript</csymbol><ci id="S6.SS4.SSS1.p1.3.m3.1.1.2.cmml" xref="S6.SS4.SSS1.p1.3.m3.1.1.2">𝜇</ci><ci id="S6.SS4.SSS1.p1.3.m3.1.1.3a.cmml" xref="S6.SS4.SSS1.p1.3.m3.1.1.3"><mtext mathsize="70%" id="S6.SS4.SSS1.p1.3.m3.1.1.3.cmml" xref="S6.SS4.SSS1.p1.3.m3.1.1.3">att</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.SSS1.p1.3.m3.1c">\mu_{\text{att}}</annotation></semantics></math>) for the two-decoder one-pass beam search in Algorithms 1, 3, and 4 are (0.3, 0.7, 0.0), (0.3, 0.0, 0.7), and (0.0, 0.5, 0.5) for CTC/RNN-T, CTC/attention, and RNN-T/attention, respectively.</p>
</div>
<div id="S6.SS4.SSS1.p2" class="ltx_para">
<p id="S6.SS4.SSS1.p2.1" class="ltx_p">Upon comparison of the baseline with the three proposed one-pass beam search algorithms, all three methods exhibit superior WER-RTF tradeoff curves, reflecting the improved baseline performance achieved through joint training.
Analyzing the three proposed one-pass beam search algorithms, the RNN-T-driven method achieves the best WER-RTF tradeoff.
This advantage stems from the fact that the CTC-driven and attention-driven methods compute all RNN-T paths through RNN-T prefix scoring, whereas the RNN-T-driven one-pass beam search avoids this computation.</p>
</div>
<figure id="S6.F7" class="ltx_figure">
<div id="S6.F7.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:260.2pt;">
<img src="/html/2406.02950/assets/figures/one-pass_conmare.png" id="S6.F7.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="295" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Comparison of the three one-pass beam search methods. The black dots represent the conventional CTC/attention, while the red, blue, and green dots depict the results of the attention-driven, CTC-driven, and RNN-T-driven one-pass beam search results, respectively.</figcaption>
</figure>
</section>
<section id="S6.SS4.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S6.SS4.SSS2.4.1.1" class="ltx_text">VI-D</span>2 </span>Analysis of different decoder combinations</h4>

<div id="S6.SS4.SSS2.p1" class="ltx_para">
<p id="S6.SS4.SSS2.p1.1" class="ltx_p">Figure <a href="#S6.F8" title="Figure 8 ‣ VI-D2 Analysis of different decoder combinations ‣ VI-D Comprehensive analysis of the one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> shows the performance when using two of the CTC, RNN-T, and attention decoders (CTC/RNN-T, CTC/attention, RNN-T/attention). A total of six different combinations are compared, depending on which decoder is designated as the primary decoder.
Interestingly, regardless of the primary decoder, when the decoder used for joint scoring is the same, the performance is nearly comparable.
Within this experimental setting, the RNN-T/attention combination exhibits the lowest WER. This result is primarily attributed to the inherent performance capabilities of each decoder.
Considering the WER-RTF tradeoff shown in Figure <a href="#S6.F7" title="Figure 7 ‣ VI-D1 Comparison of the three one-pass beam search ‣ VI-D Comprehensive analysis of the one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>, the proposed method can switch between decoders to show reasonable performance with smaller RTFs for different application scenarios.</p>
</div>
<figure id="S6.F8" class="ltx_figure">
<div id="S6.F8.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:208.1pt;">
<img src="/html/2406.02950/assets/figures/combination.png" id="S6.F8.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="453" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Comparison of performance between different combinations of beam search strategies.</figcaption>
</figure>
</section>
<section id="S6.SS4.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S6.SS4.SSS3.4.1.1" class="ltx_text">VI-D</span>3 </span>Comparison of performance with ROVER</h4>

<div id="S6.SS4.SSS3.p1" class="ltx_para">
<p id="S6.SS4.SSS3.p1.1" class="ltx_p">In addition, we compare the proposed one-pass beam search method with the recognizer output voting error reduction method (ROVER) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite> in Table <a href="#S6.T5" title="TABLE V ‣ VI-D3 Comparison of performance with ROVER ‣ VI-D Comprehensive analysis of the one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">V</span></a>.
Overall, ROVER and the three proposed one-pass beam search
algorithms show almost equal WER, but the RNN-T-driven one-pass beam search shows the best WER.
Although ROVER is a powerful method, it increases system complexity and computation time because it requires complete token sequences from all decoders for integration.
In contrast, the proposed method is more efficient because the secondary decoders do not need to generate complete token sequences.</p>
</div>
<figure id="S6.T5" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">TABLE V: </span>WER comparison: one-pass beam search vs. ROVER on LibriSpeech 100 h.</figcaption>
<table id="S6.T5.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S6.T5.1.1.1" class="ltx_tr">
<td id="S6.T5.1.1.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Decoding method</td>
<td id="S6.T5.1.1.1.2" class="ltx_td ltx_align_center ltx_border_t">test-clean</td>
<td id="S6.T5.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t">test-other</td>
</tr>
<tr id="S6.T5.1.2.2" class="ltx_tr">
<td id="S6.T5.1.2.2.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Attn-driven CTC/RNN-T/Att</td>
<td id="S6.T5.1.2.2.2" class="ltx_td ltx_align_center ltx_border_t">6.5</td>
<td id="S6.T5.1.2.2.3" class="ltx_td ltx_align_center ltx_border_t">16.6</td>
</tr>
<tr id="S6.T5.1.3.3" class="ltx_tr">
<td id="S6.T5.1.3.3.1" class="ltx_td ltx_align_left ltx_border_r">CTC-driven CTC/RNN-T/Att</td>
<td id="S6.T5.1.3.3.2" class="ltx_td ltx_align_center"><span id="S6.T5.1.3.3.2.1" class="ltx_text ltx_font_bold">6.3</span></td>
<td id="S6.T5.1.3.3.3" class="ltx_td ltx_align_center">16.8</td>
</tr>
<tr id="S6.T5.1.4.4" class="ltx_tr">
<td id="S6.T5.1.4.4.1" class="ltx_td ltx_align_left ltx_border_r">RNN-T-driven CTC/RNN-T/Att</td>
<td id="S6.T5.1.4.4.2" class="ltx_td ltx_align_center"><span id="S6.T5.1.4.4.2.1" class="ltx_text ltx_font_bold">6.3</span></td>
<td id="S6.T5.1.4.4.3" class="ltx_td ltx_align_center"><span id="S6.T5.1.4.4.3.1" class="ltx_text ltx_font_bold">16.4</span></td>
</tr>
<tr id="S6.T5.1.5.5" class="ltx_tr">
<td id="S6.T5.1.5.5.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">ROVER (CTC/RNN-T/Att)</td>
<td id="S6.T5.1.5.5.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T5.1.5.5.2.1" class="ltx_text ltx_font_bold">6.3</span></td>
<td id="S6.T5.1.5.5.3" class="ltx_td ltx_align_center ltx_border_t">16.6</td>
</tr>
<tr id="S6.T5.1.6.6" class="ltx_tr">
<td id="S6.T5.1.6.6.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_r">ROVER (CTC/RNN-T/Att/Mask-CTC)</td>
<td id="S6.T5.1.6.6.2" class="ltx_td ltx_align_center ltx_border_b">6.4</td>
<td id="S6.T5.1.6.6.3" class="ltx_td ltx_align_center ltx_border_b">16.8</td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VII </span><span id="S7.1.1" class="ltx_text ltx_font_smallcaps">Discussion</span>
</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">Summarizing the findings from Section <a href="#S6" title="VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VI</span></a>, several key observations emerge: 1) performance improves with an increasing number of decoders used for joint training (Section <a href="#S6.SS2.SSS2" title="VI-B2 Effect of the number of decoders ‣ VI-B Detailed analysis of the joint training ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-B</span>2</span></a>). 2) A larger number of decoders employed for joint decoding enhances performance, as reflected in the WER-RTF tradeoff (Section <a href="#S6.SS3.SSS1" title="VI-C1 Computational complexity of the beam search ‣ VI-C Detailed analysis of the proposed one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-C</span>1</span></a>). 3) Notably, the RNN-T-driven one-pass beam search demonstrates a superior WER-RTF tradeoff compared to other joint decoding methods, including CTC-driven and attention-driven as well as the baseline CTC/attention curves (Section <a href="#S6.SS4" title="VI-D Comprehensive analysis of the one-pass beam search ‣ VI Results ‣ 4D ASR: Joint Beam Search Integrating CTC, Attention, Transducer, and Mask Predict Decoders" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">VI-D</span></span></a>).</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">An inherent advantage of the 4D model lies in its ability to switch between decoders depending on the application scenario. Despite the increased training and decoding time associated with joint training and decoding, this model eliminates the need for training a different model for each application. Moreover, depending on the application scenario, it allows one to choose an appropriate decoding algorithm, such as a two-decoder or three-decoder one-pass beam search.
For example, the CTC decoder is appropriate for real-time processing with limited computational resources. In contrast, the one-pass beam search with three decoders becomes viable when sufficient computational resources are available.
Considering these attributes, the proposed 4D model is a practical system capable of achieving a superior WER-RTF tradeoff curve compared to the baseline CTC/attention.</p>
</div>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VIII </span><span id="S8.1.1" class="ltx_text ltx_font_smallcaps">Conclusion</span>
</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">This paper introduces a 4D joint model incorporating CTC, attention, RNN-T, and Mask-CTC, with a shared encoder trained through multitask learning.
The study demonstrates the efficacy of jointly trained 4D models, employing a two-stage training strategy that enhances the performance of individual decoders.
Notably, the proposed joint CTC/RNN-T/attention decoding exhibits improved performance, surpassing the previously proposed CTC/attention decoding.
The RNN-T-driven one-pass beam search, in particular, showcases a superior WER-RTF tradeoff compared to other joint decoding methods, including CTC-driven, attention-driven one-pass beam search algorithms, and the baseline CTC/attention curves.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
R. Prabhavalkar, T. Hori, T. N. Sainath, R. Schluter, and S. Watanabe,
“End-to-end speech recognition: A survey,” <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">IEEE/ACM Transactions on
Audio, Speech, and Language Processing</em>, vol. 32, pp. 325–351, 2023.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
J. Li, “Recent advances in end-to-end automatic speech recognition,”
<em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">APSIPA Transactions on Signal and Information Processing</em>, vol. 11,
no. 1, 2022.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
A. Graves, S. Fernández, F. Gomez, and J. Schmidhuber, “Connectionist
temporal classification: Labelling unsegmented sequence data with recurrent
neural networks,” in <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning
(ICML)</em>, 2006, pp. 369–376.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
A. Graves and N. Jaitly, “Towards end-to-end speech recognition with recurrent
neural networks,” in <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning
(ICML)</em>, 2014, pp. 1764–1772.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
S. Kriman, S. Beliaev, B. Ginsburg, J. Huang, O. Kuchaiev, V. Lavrukhin,
R. Leary, J. Li, and Y. Zhang, “Quartznet: Deep automatic speech recognition
with 1d time-channel separable convolutions,” in <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">IEEE International
Conference on Acoustics, Speech, and Signal Processing (ICASSP)</em>, 2020, pp.
6124–6128.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
A. Graves, “Sequence transduction with recurrent neural networks,” in
<em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning (ICML)</em>, 2012.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Q. Zhang, H. Lu, H. Sak, A. Tripathi, E. McDermott, S. Koo, and S. Kumar,
“Transformer transducer: A streamable speech recognition model with
transformer encoders and rnn-t loss,” in <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference
on Acoustics, Speech, and Signal Processing (ICASSP)</em>, 2020, pp. 7829–7833.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
W. Han, Z. Zhang, Y. Zhang, J. Yu, C.-C. Chiu, J. Qin, A. Gulati, R. Pang, and
Y. Wu, “Contextnet: Improving convolutional neural networks for automatic
speech recognition with global context,” in <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2020, pp.
3610–3614.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
K. Rao, H. Sak, and R. Prabhavalkar, “Exploring architectures, data and units
for streaming end-to-end speech recognition with RNN-transducer,” in
<em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">” IEEE Workshop on Automatic Speech Recognition and Understanding
(ASRU)</em>, 2017, pp. 193–199.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
W. Chan, N. Jaitly, Q. Le, and O. Vinyals, “Listen, attend and spell: A neural
network for large vocabulary conversational speech recognition,” in
<em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference on Acoustics, Speech, and Signal
Processing (ICASSP)</em>, 2016, pp. 4960–4964.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
J. K. Chorowski, D. Bahdanau, D. Serdyuk, K. Cho, and Y. Bengio,
“Attention-based models for speech recognition,” in <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Advances in
Neural Information Processing Systems (NeurIPS)</em>, vol. 28, 2015, pp.
577–585.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
S. Karita, N. Chen, T. Hayashi, T. Hori, H. Inaguma, Z. Jiang, M. Someki,
N. E. Y. Soplin, R. Yamamoto, X. Wang <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “A comparative study on
transformer vs rnn in speech applications,” in <em id="bib.bib12.2.2" class="ltx_emph ltx_font_italic">” IEEE Workshop on
Automatic Speech Recognition and Understanding (ASRU)</em>, 2019, pp. 449–456.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
P. Guo, F. Boyer, X. Chang, T. Hayashi, Y. Higuchi, H. Inaguma, N. Kamo, C. Li,
D. Garcia-Romero, J. Shi <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Recent developments on espnet
toolkit boosted by conformer,” in <em id="bib.bib13.2.2" class="ltx_emph ltx_font_italic">IEEE International Conference on
Acoustics, Speech, and Signal Processing (ICASSP)</em>, 2021, pp. 5874–5878.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Y. Higuchi, S. Watanabe, N. Chen, T. Ogawa, and T. Kobayashi, “Mask ctc:
Non-autoregressive end-to-end asr with ctc and mask predict,” in
<em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2020, pp. 3655–3659.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
N. Chen, S. Watanabe, J. Villalba, P. Żelasko, and N. Dehak,
“Non-autoregressive transformer for speech recognition,” <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">IEEE Signal
Processing Letters</em>, vol. 28, pp. 121–125, 2020.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
X. Song, Z. Wu, Y. Huang, C. Weng, D. Su, and H. Meng, “Non-autoregressive
transformer asr with ctc-enhanced decoder input,” in <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">IEEE
International Conference on Acoustics, Speech, and Signal Processing
(ICASSP)</em>, 2021, pp. 5894–5898.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
L. Kürzinger, D. Winkelbauer, L. Li, T. Watzel, and G. Rigoll,
“Ctc-segmentation of large corpora for german end-to-end speech
recognition,” in <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Speech and Computer</em>, A. Karpov and R. Potapova,
Eds.   Cham: Springer International
Publishing, 2020, pp. 267–278.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
F. Kuang, L. Guo, W. Kang, L. Lin, M. Luo, Z. Yao, and D. Povey, “Pruned
RNN-T for fast, memory-eﬀicient ASR training,” in <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>,
2022, pp. 2068–2072.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
D. Bahdanau, K. Cho, and Y. Bengio, “Neural machine translation by jointly
learning to align and translate,” in <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">International Conference on
Learning Representations (ICLR)</em>, 2015.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
A. Radford, J. W. Kim, T. Xu, G. Brockman, C. Mcleavey, and I. Sutskever,
“Robust speech recognition via large-scale weak supervision,” in
<em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning (ICML)</em>, vol. 202.   PMLR, 2023, pp. 28 492–28 518.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
S. Watanabe, T. Hori, S. Kim, J. R. Hershey, and T. Hayashi, “Hybrid
ctc/attention architecture for end-to-end speech recognition,” <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">IEEE
Journal of Selected Topics in Signal Processing</em>, vol. 11, no. 8, pp.
1240–1253, 2017.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
M. Ghazvininejad, O. Levy, Y. Liu, and L. Zettlemoyer, “Mask-predict: Parallel
decoding of conditional masked language models,” in <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Proc.
EMNLP-IJCNLP</em>, 2019.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
H. Futami, H. Inaguma, S. Ueno, M. Mimura, S. Sakai, and T. Kawahara,
“Non-autoregressive error correction for ctc-based asr with
phone-conditioned masked lm,” in <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2022, pp. 3889–3893.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
S. Ueno, H. Inaguma, M. Mimura, and T. Kawahara, “Acoustic-to-word
attention-based model complemented with character-level ctc-based model,” in
<em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference on Acoustics, Speech, and Signal
Processing (ICASSP)</em>, 2018, pp. 5804–5808.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
T. Nakatani, “Improving transformer-based end-to-end speech recognition with
connectionist temporal classification and language model integration,” in
<em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2019.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Y. Peng, J. Tian, B. Yan, D. Berrebbi, X. Chang, X. Li, J. Shi, S. Arora,
W. Chen, R. Sharma <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Reproducing whisper-style training using
an open-source toolkit and publicly available data,” in <em id="bib.bib26.2.2" class="ltx_emph ltx_font_italic">” IEEE
Workshop on Automatic Speech Recognition and Understanding (ASRU)</em>, 2023, pp.
1–8.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Y. Peng, J. Tian, W. Chen, S. Arora, B. Yan, Y. Sudo, S. Muhammad, K. Choi,
J. Shi, X. Chang <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “OWSM v3.1: Better and faster open
whisper-style speech models based on E-Branchformer,” <em id="bib.bib27.2.2" class="ltx_emph ltx_font_italic">arXiv preprint
arXiv:2401.16658</em>, 2024.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
B. Zhang, H. Lv, P. Guo, Q. Shao, C. Yang, L. Xie, X. Xu, H. Bu, X. Chen,
C. Zeng <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Wenetspeech: A 10000+ hours multi-domain mandarin
corpus for speech recognition,” in <em id="bib.bib28.2.2" class="ltx_emph ltx_font_italic">IEEE International Conference on
Acoustics, Speech, and Signal Processing (ICASSP)</em>, 2022, pp. 6182–6186.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
Y. Yin, D. Mori, and S. Fujimoto, “Reazonspeech: A free and massive corpus for
japanese asr,” in <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">The Association for Natural Language Processing</em>,
2023, pp. 1134–1139.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
T. N. Sainath, R. Pang, D. Rybach, Y. He, R. Prabhavalkar, W. Li, M. Visontai,
Q. Liang, T. Strohman, Y. Wu <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Two-pass end-to-end speech
recognition,” in <em id="bib.bib30.2.2" class="ltx_emph ltx_font_italic">Interspeech</em>, 2019, pp. 2713–2777.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
K. Hu, T. N. Sainath, R. Pang, and R. Prabhavalkar, “Deliberation model based
two-pass end-to-end speech recognition,” in <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">IEEE International
Conference on Acoustics, Speech, and Signal Processing (ICASSP)</em>.   IEEE, 2020, pp. 7799–7803.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
K. Hu, R. Pang, T. N. Sainath, and T. Strohman, “Transformer based
deliberation for two-pass speech recognition,” in <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">IEEE Spoken Language
Technology Workshop (SLT)</em>, 2021, pp. 68–74.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Z. Tian, J. Yi, J. Tao, S. Zhang, and Z. Wen, “Hybrid autoregressive and
non-autoregressive transformer models for speech recognition,” <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">IEEE
Signal Processing Letters</em>, vol. 29, pp. 762–766, 2022.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
W. Wang, K. Hu, and T. N. Sainath, “Deliberation of streaming rnn-transducer
by non-autoregressive decoding,” in <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference on
Acoustics, Speech, and Signal Processing (ICASSP)</em>, 2022, pp. 7452–7456.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
Z. Yao, D. Wu, X. Wang, B. Zhang, F. Yu, C. Yang, Z. Peng, X. Chen, L. Xie, and
X. Lei, “Wenet: Production oriented streaming and non-streaming end-to-end
speech recognition toolkit,” in <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2021, pp. 4045–4058.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
A. Narayanan, T. N. Sainath, R. Pang, J. Yu, C.-C. Chiu, R. Prabhavalkar,
E. Variani, and T. Strohman, “Cascaded encoders for unifying streaming and
non-streaming asr,” in <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference on Acoustics,
Speech, and Signal Processing (ICASSP)</em>, 2020, pp. 5629–5633.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
J. Mahadeokar, Y. Shi, K. Li, D. Le, J. Zhu, V. Chandra, O. Kalinli, and M. L.
Seltzer, “Streaming parallel transducer beam search with fast-slow cascaded
encoders,” in <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2022, pp. 2083–2087.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
K. Li, J. Mahadeokar, J. Guo, Y. Shi, G. Keren, O. Kalinli, M. L. Seltzer, and
D. Le, “Improving fast-slow encoder based transducer with streaming
deliberation,” <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference on Acoustics, Speech, and
Signal Processing (ICASSP)</em>, pp. 1–5, 2023.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
J. Yu, W. Han, A. Gulati, C.-C. Chiu, B. Li, T. N. Sainath, Y. Wu, and R. Pang,
“Dual-mode ASR: Unify and improve streaming ASR with full-context
modeling,” in <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>, 2021.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
N. Moritz, T. Hori, and J. L. Roux, “Dual causal/non-causal self-attention for
streaming end-to-end speech recognition,” in <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2021, pp.
1822–1826.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
F. Weninger, M. Gaudesi, M. A. Haidar, N. Ferri, J. Andrés-Ferrer, and
P. Zhan, “Conformer with dual-mode chunked attention for joint online and
offline asr,” in <em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2022, pp. 2053–2057.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
B. Yan, S. Dalmia, Y. Higuchi, G. Neubig, F. Metze, A. W. Black, and
S. Watanabe, “Ctc alignments improve autoregressive translation,” in
<em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 17th Conference of the European Chapter of the
Association for Computational Linguistics</em>, 2022, pp. 1623–1639.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
E. Tsunoo, H. Futami, Y. Kashiwagi, S. Arora, and S. Watanabe, “Integration
of Frame- and Label-synchronous Beam Search for Streaming Encoder-decoder
Speech Recognition,” in <em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2023, pp. 1369–1373.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
Y. Sudo, S. Muhammad, Y. Peng, and S. Watanabe, “Time-synchronous one-pass
Beam Search for Parallel Online and Offline Transducers with Dynamic Block
Training,” in <em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2023, pp. 4479–4483.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock">
Y. Sudo, S. Muhammad, B. Yan, J. Shi, and S. Watanabe, “4D ASR: Joint
modeling of CTC, attention, transducer, and mask-predict decoders,” in
<em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2023, pp. 3312–3316.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock">
A. Gulati, C. Chiu, J. Qin, J. Yu, N. Parmar, R. Pang, S. Wang, W. Han, Y. Wu,
Y. Zhang, and Z. Zhang, “Conformer: Convolution-augmented transformer for
speech recognition,” in <em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2020, pp. 5036–5040.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[47]</span>
<span class="ltx_bibblock">
J. L. Ba, J. R. Kiros, and G. E. Hinton, “Layer normalization,”
<em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems (NeurIPS)</em>, 2016.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[48]</span>
<span class="ltx_bibblock">
K. He, X. Zhang, S. Ren, and J. Sun, “Deep residual learning for image
recognition,” in <em id="bib.bib48.1.1" class="ltx_emph ltx_font_italic">The IEEE/CVF Conference on Computer Vision and
Pattern Recognition (CVPR)</em>, 2016, pp. 770–778.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[49]</span>
<span class="ltx_bibblock">
X. Lin, H. S. Baweja, G. A. Kantor, and D. Held, “Adaptive auxiliary task
weighting for reinforcement learning,” in <em id="bib.bib49.1.1" class="ltx_emph ltx_font_italic">Advances in Neural
Information Processing Systems (NeurIPS)</em>, 2019.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[50]</span>
<span class="ltx_bibblock">
N. Moritz, T. Hori, and J. Le Roux, “Triggered attention for end-to-end speech
recognition,” in <em id="bib.bib50.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference on Acoustics, Speech,
and Signal Processing (ICASSP)</em>, 2019, pp. 5666–5670.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[51]</span>
<span class="ltx_bibblock">
D. S. Park, W. Chan, Y. Zhang, C. Chiu, B. Zoph, E. D. Cubuk, and Q. V. Le,
“SpecAugment: A simple data augmentation method for automatic speech
recognition,” in <em id="bib.bib51.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2019, pp. 2613–2617.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[52]</span>
<span class="ltx_bibblock">
D. P. Kingma and J. Ba, “Adam: A method for stochastic optimization,”
<em id="bib.bib52.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, vol. abs/1412.6980, 2015.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[53]</span>
<span class="ltx_bibblock">
V. Panayotov, G. Chen, D. Povey, and S. Khudanpur, “Librispeech: an asr corpus
based on public domain audio books,” in <em id="bib.bib53.1.1" class="ltx_emph ltx_font_italic">IEEE International Conference
on Acoustics, Speech, and Signal Processing (ICASSP)</em>, 2015, pp. 5206–5210.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[54]</span>
<span class="ltx_bibblock">
K. Maekawa, “Corpus of spontaneous Japanese: Its design and evaluation,” in
<em id="bib.bib54.1.1" class="ltx_emph ltx_font_italic">ISCA/IEEE Workshop on Spontaneous Speech Processing and Recognition</em>,
2003.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[55]</span>
<span class="ltx_bibblock">
A. Kurematsu, K. Takeda, Y. Sagisaka, S. Katagiri, H. Kuwabara, and K. Shikano,
“Atr japanese speech database as a tool of speech recognition and
synthesis,” <em id="bib.bib55.1.1" class="ltx_emph ltx_font_italic">Speech Communication</em>, vol. 9, no. 4, pp. 357–363, 1990.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[56]</span>
<span class="ltx_bibblock">
S. Watanabe, T. Hori, S. Karita, T. Hayashi, J. Nishitoba, Y. Unno, N. Enrique
Yalta Soplin, J. Heymann, M. Wiesner, N. Chen, A. Renduchintala, and
T. Ochiai, “ESPnet: End-to-end speech processing toolkit,” in
<em id="bib.bib56.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, 2018, pp. 2207–2211.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[57]</span>
<span class="ltx_bibblock">
J. G. Fiscus, “A post-processing system to yield reduced word error rates:
Recognizer output voting error reduction (rover),” in <em id="bib.bib57.1.1" class="ltx_emph ltx_font_italic">” IEEE
Workshop on Automatic Speech Recognition and Understanding (ASRU)</em>, 1997, pp.
347–354.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2406.02949" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2406.02950" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2406.02950">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2406.02950" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2406.02951" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Jul  5 23:16:16 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
