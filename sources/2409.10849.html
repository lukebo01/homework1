<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2409.10849] SIFToM: Robust Spoken Instruction Following through Theory of Mind</title><meta property="og:description" content="Spoken language instructions are ubiquitous in agent collaboration. However, in human-robot collaboration, recognition accuracy for human speech is often influenced by various speech and environmental factors, such as …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="SIFToM: Robust Spoken Instruction Following through Theory of Mind">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="SIFToM: Robust Spoken Instruction Following through Theory of Mind">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2409.10849">

<!--Generated on Sun Oct  6 01:15:15 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_font_bold ltx_title_document" style="font-size:173%;">SIFToM: Robust Spoken Instruction Following through Theory of Mind
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Lance Ying<sup id="id13.13.id1" class="ltx_sup"><span id="id13.13.id1.1" class="ltx_text ltx_font_italic">1,2</span></sup>, Jason Xinyu Liu<sup id="id14.14.id2" class="ltx_sup"><span id="id14.14.id2.1" class="ltx_text ltx_font_italic">3∗</span></sup>, Shivam Aarya<sup id="id15.15.id3" class="ltx_sup"><span id="id15.15.id3.1" class="ltx_text ltx_font_italic">4∗</span></sup>, Yizirui Fang<sup id="id16.16.id4" class="ltx_sup"><span id="id16.16.id4.1" class="ltx_text ltx_font_italic">4</span></sup>,
<br class="ltx_break">Stefanie Tellex<sup id="id17.17.id5" class="ltx_sup"><span id="id17.17.id5.1" class="ltx_text ltx_font_italic">3</span></sup>, Joshua B. Tenenbaum<sup id="id18.18.id6" class="ltx_sup"><span id="id18.18.id6.1" class="ltx_text ltx_font_italic">1</span></sup>, Tianmin Shu<sup id="id19.19.id7" class="ltx_sup"><span id="id19.19.id7.1" class="ltx_text ltx_font_italic">4</span></sup>
</span><span class="ltx_author_notes"><sup id="id20.20.id1" class="ltx_sup"><span id="id20.20.id1.1" class="ltx_text ltx_font_italic">1</span></sup>Massachusetts Institute of Technology, Cambridge, MA 01239, USA
<span id="id21.21.id2" class="ltx_text ltx_font_typewriter" style="font-size:90%;">{lanceying, jbt}@mit.edu</span><sup id="id22.22.id1" class="ltx_sup"><span id="id22.22.id1.1" class="ltx_text ltx_font_italic">2</span></sup>Harvard University, Cambridge, MA 02138, USA
<span id="id23.23.id2" class="ltx_text ltx_font_typewriter" style="font-size:90%;">lanceying@seas.harvard.edu</span><sup id="id24.24.id1" class="ltx_sup"><span id="id24.24.id1.1" class="ltx_text ltx_font_italic">3</span></sup>Brown University, Providence, RI 02912, USA
<span id="id25.25.id2" class="ltx_text ltx_font_typewriter" style="font-size:90%;">{xinyu_liu, stefanie90}@brown.edu</span><sup id="id26.26.id1" class="ltx_sup"><span id="id26.26.id1.1" class="ltx_text ltx_font_italic">4</span></sup>Johns Hopkins University, Baltimore, MD 21218, USA
<span id="id27.27.id2" class="ltx_text ltx_font_typewriter" style="font-size:90%;">{saarya1, yfang52, tianmin.shu}@jhu.edu</span><sup id="id28.28.id1" class="ltx_sup"><span id="id28.28.id1.1" class="ltx_text ltx_font_italic">∗</span></sup> Equal Contribution</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id29.id1" class="ltx_p">Spoken language instructions are ubiquitous in agent collaboration. However, in human-robot collaboration, recognition accuracy for human speech is often influenced by various speech and environmental factors, such as background noise, the speaker’s accents, and mispronunciation. When faced with noisy or unfamiliar auditory inputs, humans use context and prior knowledge to disambiguate the stimulus and take pragmatic actions, a process referred to as top-down processing in cognitive science. We present a cognitively inspired model, Spoken Instruction Following through Theory of Mind (SIFToM), to enable robots to pragmatically follow human instructions under diverse speech conditions by inferring the human’s goal and joint plan as prior for speech perception and understanding. We test SIFToM in simulated home experiments (VirtualHome 2). Results show that the SIFToM model outperforms state-of-the-art speech and language models, approaching human-level accuracy on challenging spoken instruction following tasks. We then demonstrate its ability at the task planning level on a mobile manipulator for breakfast preparation tasks.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Verbal communication is a crucial part of human cooperation. From a very young age, humans routinely use spoken language to communicate and coordinate their actions <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>.
We often need to request help from and give instructions to others, particularly in cooperative settings <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>.
For instance, you may ask your friend, “Could you pass me the salt and pepper?” at dinner because the condiments are out of reach. Therefore, it is crucial for assistive robots to understand human users’ speech instructions to provide proper assistance.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2409.10849/assets/figure/intro.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="538" height="269" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.3.2" class="ltx_text" style="font-size:90%;">Example scenario where the human is asking for the tomato to make a salad. State-of-the-art automatic speech recognition (ASR) models could not decode whether the human said tomato or potato due to noise. However, an intelligent robot equipped with SIFToM can infer that the human is making a salad and likely asked for a tomato.</span></figcaption>
</figure>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">There has been an increasing interest in combining speech recognition, language grounding, and robot planning to enable assistive robots to follow humans’ speech instructions <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>. These studies often assume that the robot can decode the language command from speech signals perfectly with automatic speech recognition (ASR). However, in the real world, human speech can be influenced or corrupted by a multitude of factors, such as background noise, the speaker’s accents, and mispronunciations <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, rendering them noisy or unintelligible to the recipient. Yet humans can communicate and coordinate with each other in various open-world noisy conditions, such as factories, mining sites, or crowded touristy spots. We can also communicate and cooperate with speakers with different accents despite not being familiar with the accents. This is because in processing noisy perceptual inputs, humans have a generative model of other agents and the environment <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, which allows humans to reason about what instructions are likely conditioned on their goals and plans. Additionally, humans can also integrate cues from different modalities, enabling them to take educated guesses about the true instruction intended by the speaker. This process is referred to as top-down perceptual processing in cognitive neuroscience <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">The challenges that arise from noisy or unclear speech also call for different evaluation metrics for speech recognition in embodied settings. Typically, word error rate (WER) is used to evaluate the accuracy of ASR systems. However, WER is a poor measure of success in embodied cooperative tasks, as a small critical error can change the meaning of the language instruction, whereas skipping a few filler words can be non-detrimental. Imagine the scenario depicted in Figure <a href="#S1.F1" title="Figure 1 ‣ I Introduction ‣ SIFToM: Robust Spoken Instruction Following through Theory of Mind" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, speech recognition may give the robot the wrong transcription (potato instead of tomato) due to either noise in the speech or mispronunciation by the user. This wrong inference would result in a completely failed assistance, even though there is only a single incorrect word.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this paper, we present a cognitively-inspired model, Spoken Instruction Following through Theory of Mind (SIFToM). It grounds speech recognition in Theory of Mind reasoning. By reasoning about humans’ goals and plans from visual observations, the model forms an informative prior over what instructions the human would give, which, combined with the likelihoods from the ASR model, produces a more plausible and grounded robot goal for cooperative actions.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">We evaluated our model SIFToM in both simulated and real-world experiments that involve a human and a robot collaborating on joint tasks in a variety of scenarios where human speech is not intelligible. In the simulated experiments, we collected real human speech data where people give instructions about household tasks to a robot. We then used these data to curate a benchmark in a household embodied simulator, VirtualHome 2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>, in which a human user gives noisy speech instructions to a virtual embodied assistant, and the assistant needs to assist the human based on the speech. In the robot experiment, we evaluate our model in the real world, where a human user instructs a robot to complete a joint task, and the robot assists the user based on goals inferred by our model. We compared our model against state-of-the-art ASR and multi-modal large language model (MLLM) baselines. We found that our model achieved the highest goal inference accuracy among all models and enabled the human-robot team to complete the task in the shortest amount of time.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Related Work</span>
</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS1.4.1.1" class="ltx_text">II-A</span> </span><span id="S2.SS1.5.2" class="ltx_text ltx_font_italic">Speech instructions in robotics</span>
</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Automatic Speech Recognition (ASR) has been a major human-robot interface in a wide range of applications, including assistant home robots, autonomous driving, etc. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. Most state-of-the-art speech-based robotic systems today follow a sequential processing pipeline, which runs an ASR or ASR + LLM module to convert speech to natural language, which is then parsed into symbolic robot commands, such as in PDDL, for execution <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS2.4.1.1" class="ltx_text">II-B</span> </span><span id="S2.SS2.5.2" class="ltx_text ltx_font_italic">Language grounding in embodied interactions</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">There has been a long history of work attempting to ground unspecified or ambiguous language instructions in embodied environments. Previous work has applied Vision and Large Language Models to map words to real-world objects and subsequent robot actions <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>. Some recent work in cognitive science and AI has applied computational Theory of Mind models to clarify ambiguous human instructions by reasoning about the human speaker’s intent and the joint human-robot plan <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. However, most language instruction grounding works do not take speech input, and few studies have examined how robust these systems are in noisy environments where instructions may not be fully intelligible.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS3.4.1.1" class="ltx_text">II-C</span> </span><span id="S2.SS3.5.2" class="ltx_text ltx_font_italic">Theory of Mind for Cooperative Robot Planning</span>
</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">There has been extensive research on inferring other agents’ mental states, such as goals, desires, and beliefs, (e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>), commonly referred to as Theory of Mind (ToM) reasoning, to better cooperate and coordinate with others in collaborative tasks. Earlier work in human-robot interaction has used model-based approaches such as plan recognition and inverse planning to infer other agents’ goals <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>. Recent studies have increasingly used Large Language Models (LLMs) to infer agents’ mental states in social interactions.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">Previous work in cognitive science and psychology has found that Theory of Mind is critical in agents’ interactions and cooperation. Computational work in AI and Robotics has also shown that embedding a Theory of Mind module in embodied AI agents often leads to more effective communications and more efficient collaborations between AI and human users <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS4.4.1.1" class="ltx_text">II-D</span> </span><span id="S2.SS4.5.2" class="ltx_text ltx_font_italic">Perceptual Processing</span>
</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.1" class="ltx_p">Modern cognitive neuroscience often distinguishes two kinds of perceptual processing: bottom-up and top-down processing <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>. Bottom-up processing starts with the sensory data and interprets the stimuli without prior knowledge or context. On the other hand, top-down processing starts with prior knowledge and forms expectations about the stimuli with a generative forward model. When faced with ambiguous speech, bottom-up processing often cannot decide between multiple likely lexicons due to missing phonetic information. In these cases, humans are more likely to rely on top-down processing for “phonemic restoration” <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>. In other words, cognitive expectations usually determine what we hear <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Methods</span>
</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS1.4.1.1" class="ltx_text">III-A</span> </span><span id="S3.SS1.5.2" class="ltx_text ltx_font_italic">Problem Formulation</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.11" class="ltx_p">We formulate the robot assistance problem with unintelligible speech input as a mixed-observability Markov decision process (MOMDP) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>, where the robot assistant needs to infer the overall team goal and the delegated robot subgoal from the speech instruction. This can be formalized by <math id="S3.SS1.p1.1.m1.10" class="ltx_Math" alttext="\langle\mathcal{S},\mathcal{G},\mathcal{A}_{\text{r}},\Phi,\mathcal{O},\mathcal{T}_{\mathcal{S}},\mathcal{T}_{\mathcal{G}},Z,R_{\text{r}},\gamma\rangle" display="inline"><semantics id="S3.SS1.p1.1.m1.10a"><mrow id="S3.SS1.p1.1.m1.10.10.4" xref="S3.SS1.p1.1.m1.10.10.5.cmml"><mo stretchy="false" id="S3.SS1.p1.1.m1.10.10.4.5" xref="S3.SS1.p1.1.m1.10.10.5.cmml">⟨</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">𝒮</mi><mo id="S3.SS1.p1.1.m1.10.10.4.6" xref="S3.SS1.p1.1.m1.10.10.5.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.2.2" xref="S3.SS1.p1.1.m1.2.2.cmml">𝒢</mi><mo id="S3.SS1.p1.1.m1.10.10.4.7" xref="S3.SS1.p1.1.m1.10.10.5.cmml">,</mo><msub id="S3.SS1.p1.1.m1.7.7.1.1" xref="S3.SS1.p1.1.m1.7.7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.7.7.1.1.2" xref="S3.SS1.p1.1.m1.7.7.1.1.2.cmml">𝒜</mi><mtext id="S3.SS1.p1.1.m1.7.7.1.1.3" xref="S3.SS1.p1.1.m1.7.7.1.1.3a.cmml">r</mtext></msub><mo id="S3.SS1.p1.1.m1.10.10.4.8" xref="S3.SS1.p1.1.m1.10.10.5.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.1.m1.3.3" xref="S3.SS1.p1.1.m1.3.3.cmml">Φ</mi><mo id="S3.SS1.p1.1.m1.10.10.4.9" xref="S3.SS1.p1.1.m1.10.10.5.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.4.4" xref="S3.SS1.p1.1.m1.4.4.cmml">𝒪</mi><mo id="S3.SS1.p1.1.m1.10.10.4.10" xref="S3.SS1.p1.1.m1.10.10.5.cmml">,</mo><msub id="S3.SS1.p1.1.m1.8.8.2.2" xref="S3.SS1.p1.1.m1.8.8.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.8.8.2.2.2" xref="S3.SS1.p1.1.m1.8.8.2.2.2.cmml">𝒯</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.8.8.2.2.3" xref="S3.SS1.p1.1.m1.8.8.2.2.3.cmml">𝒮</mi></msub><mo id="S3.SS1.p1.1.m1.10.10.4.11" xref="S3.SS1.p1.1.m1.10.10.5.cmml">,</mo><msub id="S3.SS1.p1.1.m1.9.9.3.3" xref="S3.SS1.p1.1.m1.9.9.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.9.9.3.3.2" xref="S3.SS1.p1.1.m1.9.9.3.3.2.cmml">𝒯</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.9.9.3.3.3" xref="S3.SS1.p1.1.m1.9.9.3.3.3.cmml">𝒢</mi></msub><mo id="S3.SS1.p1.1.m1.10.10.4.12" xref="S3.SS1.p1.1.m1.10.10.5.cmml">,</mo><mi id="S3.SS1.p1.1.m1.5.5" xref="S3.SS1.p1.1.m1.5.5.cmml">Z</mi><mo id="S3.SS1.p1.1.m1.10.10.4.13" xref="S3.SS1.p1.1.m1.10.10.5.cmml">,</mo><msub id="S3.SS1.p1.1.m1.10.10.4.4" xref="S3.SS1.p1.1.m1.10.10.4.4.cmml"><mi id="S3.SS1.p1.1.m1.10.10.4.4.2" xref="S3.SS1.p1.1.m1.10.10.4.4.2.cmml">R</mi><mtext id="S3.SS1.p1.1.m1.10.10.4.4.3" xref="S3.SS1.p1.1.m1.10.10.4.4.3a.cmml">r</mtext></msub><mo id="S3.SS1.p1.1.m1.10.10.4.14" xref="S3.SS1.p1.1.m1.10.10.5.cmml">,</mo><mi id="S3.SS1.p1.1.m1.6.6" xref="S3.SS1.p1.1.m1.6.6.cmml">γ</mi><mo stretchy="false" id="S3.SS1.p1.1.m1.10.10.4.15" xref="S3.SS1.p1.1.m1.10.10.5.cmml">⟩</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.10b"><list id="S3.SS1.p1.1.m1.10.10.5.cmml" xref="S3.SS1.p1.1.m1.10.10.4"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝒮</ci><ci id="S3.SS1.p1.1.m1.2.2.cmml" xref="S3.SS1.p1.1.m1.2.2">𝒢</ci><apply id="S3.SS1.p1.1.m1.7.7.1.1.cmml" xref="S3.SS1.p1.1.m1.7.7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.7.7.1.1.1.cmml" xref="S3.SS1.p1.1.m1.7.7.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.7.7.1.1.2.cmml" xref="S3.SS1.p1.1.m1.7.7.1.1.2">𝒜</ci><ci id="S3.SS1.p1.1.m1.7.7.1.1.3a.cmml" xref="S3.SS1.p1.1.m1.7.7.1.1.3"><mtext mathsize="70%" id="S3.SS1.p1.1.m1.7.7.1.1.3.cmml" xref="S3.SS1.p1.1.m1.7.7.1.1.3">r</mtext></ci></apply><ci id="S3.SS1.p1.1.m1.3.3.cmml" xref="S3.SS1.p1.1.m1.3.3">Φ</ci><ci id="S3.SS1.p1.1.m1.4.4.cmml" xref="S3.SS1.p1.1.m1.4.4">𝒪</ci><apply id="S3.SS1.p1.1.m1.8.8.2.2.cmml" xref="S3.SS1.p1.1.m1.8.8.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.8.8.2.2.1.cmml" xref="S3.SS1.p1.1.m1.8.8.2.2">subscript</csymbol><ci id="S3.SS1.p1.1.m1.8.8.2.2.2.cmml" xref="S3.SS1.p1.1.m1.8.8.2.2.2">𝒯</ci><ci id="S3.SS1.p1.1.m1.8.8.2.2.3.cmml" xref="S3.SS1.p1.1.m1.8.8.2.2.3">𝒮</ci></apply><apply id="S3.SS1.p1.1.m1.9.9.3.3.cmml" xref="S3.SS1.p1.1.m1.9.9.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.9.9.3.3.1.cmml" xref="S3.SS1.p1.1.m1.9.9.3.3">subscript</csymbol><ci id="S3.SS1.p1.1.m1.9.9.3.3.2.cmml" xref="S3.SS1.p1.1.m1.9.9.3.3.2">𝒯</ci><ci id="S3.SS1.p1.1.m1.9.9.3.3.3.cmml" xref="S3.SS1.p1.1.m1.9.9.3.3.3">𝒢</ci></apply><ci id="S3.SS1.p1.1.m1.5.5.cmml" xref="S3.SS1.p1.1.m1.5.5">𝑍</ci><apply id="S3.SS1.p1.1.m1.10.10.4.4.cmml" xref="S3.SS1.p1.1.m1.10.10.4.4"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.10.10.4.4.1.cmml" xref="S3.SS1.p1.1.m1.10.10.4.4">subscript</csymbol><ci id="S3.SS1.p1.1.m1.10.10.4.4.2.cmml" xref="S3.SS1.p1.1.m1.10.10.4.4.2">𝑅</ci><ci id="S3.SS1.p1.1.m1.10.10.4.4.3a.cmml" xref="S3.SS1.p1.1.m1.10.10.4.4.3"><mtext mathsize="70%" id="S3.SS1.p1.1.m1.10.10.4.4.3.cmml" xref="S3.SS1.p1.1.m1.10.10.4.4.3">r</mtext></ci></apply><ci id="S3.SS1.p1.1.m1.6.6.cmml" xref="S3.SS1.p1.1.m1.6.6">𝛾</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.10c">\langle\mathcal{S},\mathcal{G},\mathcal{A}_{\text{r}},\Phi,\mathcal{O},\mathcal{T}_{\mathcal{S}},\mathcal{T}_{\mathcal{G}},Z,R_{\text{r}},\gamma\rangle</annotation></semantics></math>. The overall state has four components: the world state, <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="s\in\mathcal{S}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mrow id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">s</mi><mo id="S3.SS1.p1.2.m2.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">𝒮</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><in id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1"></in><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">𝑠</ci><ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">𝒮</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">s\in\mathcal{S}</annotation></semantics></math>, the team goal <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="G\in\mathcal{G}" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><mrow id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">G</mi><mo id="S3.SS1.p1.3.m3.1.1.1" xref="S3.SS1.p1.3.m3.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">𝒢</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><in id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1"></in><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">𝐺</ci><ci id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">𝒢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">G\in\mathcal{G}</annotation></semantics></math>, and each of human and robot’s subgoals, <math id="S3.SS1.p1.4.m4.2" class="ltx_Math" alttext="g_{h},g_{r}\in\mathcal{G}" display="inline"><semantics id="S3.SS1.p1.4.m4.2a"><mrow id="S3.SS1.p1.4.m4.2.2" xref="S3.SS1.p1.4.m4.2.2.cmml"><mrow id="S3.SS1.p1.4.m4.2.2.2.2" xref="S3.SS1.p1.4.m4.2.2.2.3.cmml"><msub id="S3.SS1.p1.4.m4.1.1.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.2" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml">g</mi><mi id="S3.SS1.p1.4.m4.1.1.1.1.1.3" xref="S3.SS1.p1.4.m4.1.1.1.1.1.3.cmml">h</mi></msub><mo id="S3.SS1.p1.4.m4.2.2.2.2.3" xref="S3.SS1.p1.4.m4.2.2.2.3.cmml">,</mo><msub id="S3.SS1.p1.4.m4.2.2.2.2.2" xref="S3.SS1.p1.4.m4.2.2.2.2.2.cmml"><mi id="S3.SS1.p1.4.m4.2.2.2.2.2.2" xref="S3.SS1.p1.4.m4.2.2.2.2.2.2.cmml">g</mi><mi id="S3.SS1.p1.4.m4.2.2.2.2.2.3" xref="S3.SS1.p1.4.m4.2.2.2.2.2.3.cmml">r</mi></msub></mrow><mo id="S3.SS1.p1.4.m4.2.2.3" xref="S3.SS1.p1.4.m4.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.4.m4.2.2.4" xref="S3.SS1.p1.4.m4.2.2.4.cmml">𝒢</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.2b"><apply id="S3.SS1.p1.4.m4.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2"><in id="S3.SS1.p1.4.m4.2.2.3.cmml" xref="S3.SS1.p1.4.m4.2.2.3"></in><list id="S3.SS1.p1.4.m4.2.2.2.3.cmml" xref="S3.SS1.p1.4.m4.2.2.2.2"><apply id="S3.SS1.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.2">𝑔</ci><ci id="S3.SS1.p1.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.1.1.1.3">ℎ</ci></apply><apply id="S3.SS1.p1.4.m4.2.2.2.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.4.m4.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.4.m4.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.4.m4.2.2.2.2.2.2">𝑔</ci><ci id="S3.SS1.p1.4.m4.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.4.m4.2.2.2.2.2.3">𝑟</ci></apply></list><ci id="S3.SS1.p1.4.m4.2.2.4.cmml" xref="S3.SS1.p1.4.m4.2.2.4">𝒢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.2c">g_{h},g_{r}\in\mathcal{G}</annotation></semantics></math> respectively. We assume the team goal is separable so <math id="S3.SS1.p1.5.m5.2" class="ltx_Math" alttext="G=\{g_{h},g_{r}\}" display="inline"><semantics id="S3.SS1.p1.5.m5.2a"><mrow id="S3.SS1.p1.5.m5.2.2" xref="S3.SS1.p1.5.m5.2.2.cmml"><mi id="S3.SS1.p1.5.m5.2.2.4" xref="S3.SS1.p1.5.m5.2.2.4.cmml">G</mi><mo id="S3.SS1.p1.5.m5.2.2.3" xref="S3.SS1.p1.5.m5.2.2.3.cmml">=</mo><mrow id="S3.SS1.p1.5.m5.2.2.2.2" xref="S3.SS1.p1.5.m5.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p1.5.m5.2.2.2.2.3" xref="S3.SS1.p1.5.m5.2.2.2.3.cmml">{</mo><msub id="S3.SS1.p1.5.m5.1.1.1.1.1" xref="S3.SS1.p1.5.m5.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.1.1.1.2" xref="S3.SS1.p1.5.m5.1.1.1.1.1.2.cmml">g</mi><mi id="S3.SS1.p1.5.m5.1.1.1.1.1.3" xref="S3.SS1.p1.5.m5.1.1.1.1.1.3.cmml">h</mi></msub><mo id="S3.SS1.p1.5.m5.2.2.2.2.4" xref="S3.SS1.p1.5.m5.2.2.2.3.cmml">,</mo><msub id="S3.SS1.p1.5.m5.2.2.2.2.2" xref="S3.SS1.p1.5.m5.2.2.2.2.2.cmml"><mi id="S3.SS1.p1.5.m5.2.2.2.2.2.2" xref="S3.SS1.p1.5.m5.2.2.2.2.2.2.cmml">g</mi><mi id="S3.SS1.p1.5.m5.2.2.2.2.2.3" xref="S3.SS1.p1.5.m5.2.2.2.2.2.3.cmml">r</mi></msub><mo stretchy="false" id="S3.SS1.p1.5.m5.2.2.2.2.5" xref="S3.SS1.p1.5.m5.2.2.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.2b"><apply id="S3.SS1.p1.5.m5.2.2.cmml" xref="S3.SS1.p1.5.m5.2.2"><eq id="S3.SS1.p1.5.m5.2.2.3.cmml" xref="S3.SS1.p1.5.m5.2.2.3"></eq><ci id="S3.SS1.p1.5.m5.2.2.4.cmml" xref="S3.SS1.p1.5.m5.2.2.4">𝐺</ci><set id="S3.SS1.p1.5.m5.2.2.2.3.cmml" xref="S3.SS1.p1.5.m5.2.2.2.2"><apply id="S3.SS1.p1.5.m5.1.1.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.1.1.1.2">𝑔</ci><ci id="S3.SS1.p1.5.m5.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.1.1.1.3">ℎ</ci></apply><apply id="S3.SS1.p1.5.m5.2.2.2.2.2.cmml" xref="S3.SS1.p1.5.m5.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.5.m5.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.5.m5.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.5.m5.2.2.2.2.2.2">𝑔</ci><ci id="S3.SS1.p1.5.m5.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.5.m5.2.2.2.2.2.3">𝑟</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.2c">G=\{g_{h},g_{r}\}</annotation></semantics></math>. The world state is observable to both the human and the robot, and the team goal and the robot’s assigned goal are observable to the human but unobservable to the robot. <math id="S3.SS1.p1.6.m6.1" class="ltx_Math" alttext="\mathcal{A}_{\text{r}}" display="inline"><semantics id="S3.SS1.p1.6.m6.1a"><msub id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">𝒜</mi><mtext id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3a.cmml">r</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">𝒜</ci><ci id="S3.SS1.p1.6.m6.1.1.3a.cmml" xref="S3.SS1.p1.6.m6.1.1.3"><mtext mathsize="70%" id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3">r</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">\mathcal{A}_{\text{r}}</annotation></semantics></math> is the action space of the robot assistant. <math id="S3.SS1.p1.7.m7.1" class="ltx_Math" alttext="\Phi" display="inline"><semantics id="S3.SS1.p1.7.m7.1a"><mi mathvariant="normal" id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">Φ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">Φ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">\Phi</annotation></semantics></math> is the space of speech instructions. The robot’s observation consists of the world state, the human agent’s action, and the speech instruction, i.e., <math id="S3.SS1.p1.8.m8.1" class="ltx_Math" alttext="\mathcal{O}=\mathcal{S}\times\mathcal{A}_{\text{h}}\times\Phi_{\text{h}}" display="inline"><semantics id="S3.SS1.p1.8.m8.1a"><mrow id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml">𝒪</mi><mo id="S3.SS1.p1.8.m8.1.1.1" xref="S3.SS1.p1.8.m8.1.1.1.cmml">=</mo><mrow id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.8.m8.1.1.3.2" xref="S3.SS1.p1.8.m8.1.1.3.2.cmml">𝒮</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.8.m8.1.1.3.1" xref="S3.SS1.p1.8.m8.1.1.3.1.cmml">×</mo><msub id="S3.SS1.p1.8.m8.1.1.3.3" xref="S3.SS1.p1.8.m8.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.8.m8.1.1.3.3.2" xref="S3.SS1.p1.8.m8.1.1.3.3.2.cmml">𝒜</mi><mtext id="S3.SS1.p1.8.m8.1.1.3.3.3" xref="S3.SS1.p1.8.m8.1.1.3.3.3a.cmml">h</mtext></msub><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.8.m8.1.1.3.1a" xref="S3.SS1.p1.8.m8.1.1.3.1.cmml">×</mo><msub id="S3.SS1.p1.8.m8.1.1.3.4" xref="S3.SS1.p1.8.m8.1.1.3.4.cmml"><mi mathvariant="normal" id="S3.SS1.p1.8.m8.1.1.3.4.2" xref="S3.SS1.p1.8.m8.1.1.3.4.2.cmml">Φ</mi><mtext id="S3.SS1.p1.8.m8.1.1.3.4.3" xref="S3.SS1.p1.8.m8.1.1.3.4.3a.cmml">h</mtext></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><eq id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1.1"></eq><ci id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2">𝒪</ci><apply id="S3.SS1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3"><times id="S3.SS1.p1.8.m8.1.1.3.1.cmml" xref="S3.SS1.p1.8.m8.1.1.3.1"></times><ci id="S3.SS1.p1.8.m8.1.1.3.2.cmml" xref="S3.SS1.p1.8.m8.1.1.3.2">𝒮</ci><apply id="S3.SS1.p1.8.m8.1.1.3.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.3.3.1.cmml" xref="S3.SS1.p1.8.m8.1.1.3.3">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.3.3.2.cmml" xref="S3.SS1.p1.8.m8.1.1.3.3.2">𝒜</ci><ci id="S3.SS1.p1.8.m8.1.1.3.3.3a.cmml" xref="S3.SS1.p1.8.m8.1.1.3.3.3"><mtext mathsize="70%" id="S3.SS1.p1.8.m8.1.1.3.3.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3.3.3">h</mtext></ci></apply><apply id="S3.SS1.p1.8.m8.1.1.3.4.cmml" xref="S3.SS1.p1.8.m8.1.1.3.4"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.3.4.1.cmml" xref="S3.SS1.p1.8.m8.1.1.3.4">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.3.4.2.cmml" xref="S3.SS1.p1.8.m8.1.1.3.4.2">Φ</ci><ci id="S3.SS1.p1.8.m8.1.1.3.4.3a.cmml" xref="S3.SS1.p1.8.m8.1.1.3.4.3"><mtext mathsize="70%" id="S3.SS1.p1.8.m8.1.1.3.4.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3.4.3">h</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">\mathcal{O}=\mathcal{S}\times\mathcal{A}_{\text{h}}\times\Phi_{\text{h}}</annotation></semantics></math>. <math id="S3.SS1.p1.9.m9.2" class="ltx_math_unparsed" alttext="\mathcal{T}_{\mathcal{S}}(s,G=(g_{h},g_{r}),a_{\text{r}},s^{\prime})=p(s^{\prime}|s,G=(g_{h},g_{r}),a_{\text{r}})" display="inline"><semantics id="S3.SS1.p1.9.m9.2a"><mrow id="S3.SS1.p1.9.m9.2b"><msub id="S3.SS1.p1.9.m9.2.3"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m9.2.3.2">𝒯</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m9.2.3.3">𝒮</mi></msub><mrow id="S3.SS1.p1.9.m9.2.4"><mo stretchy="false" id="S3.SS1.p1.9.m9.2.4.1">(</mo><mi id="S3.SS1.p1.9.m9.1.1">s</mi><mo id="S3.SS1.p1.9.m9.2.4.2">,</mo><mi id="S3.SS1.p1.9.m9.2.2">G</mi><mo id="S3.SS1.p1.9.m9.2.4.3">=</mo><mrow id="S3.SS1.p1.9.m9.2.4.4"><mo stretchy="false" id="S3.SS1.p1.9.m9.2.4.4.1">(</mo><msub id="S3.SS1.p1.9.m9.2.4.4.2"><mi id="S3.SS1.p1.9.m9.2.4.4.2.2">g</mi><mi id="S3.SS1.p1.9.m9.2.4.4.2.3">h</mi></msub><mo id="S3.SS1.p1.9.m9.2.4.4.3">,</mo><msub id="S3.SS1.p1.9.m9.2.4.4.4"><mi id="S3.SS1.p1.9.m9.2.4.4.4.2">g</mi><mi id="S3.SS1.p1.9.m9.2.4.4.4.3">r</mi></msub><mo stretchy="false" id="S3.SS1.p1.9.m9.2.4.4.5">)</mo></mrow><mo id="S3.SS1.p1.9.m9.2.4.5">,</mo><msub id="S3.SS1.p1.9.m9.2.4.6"><mi id="S3.SS1.p1.9.m9.2.4.6.2">a</mi><mtext id="S3.SS1.p1.9.m9.2.4.6.3">r</mtext></msub><mo id="S3.SS1.p1.9.m9.2.4.7">,</mo><msup id="S3.SS1.p1.9.m9.2.4.8"><mi id="S3.SS1.p1.9.m9.2.4.8.2">s</mi><mo id="S3.SS1.p1.9.m9.2.4.8.3">′</mo></msup><mo stretchy="false" id="S3.SS1.p1.9.m9.2.4.9">)</mo></mrow><mo id="S3.SS1.p1.9.m9.2.5">=</mo><mi id="S3.SS1.p1.9.m9.2.6">p</mi><mrow id="S3.SS1.p1.9.m9.2.7"><mo stretchy="false" id="S3.SS1.p1.9.m9.2.7.1">(</mo><msup id="S3.SS1.p1.9.m9.2.7.2"><mi id="S3.SS1.p1.9.m9.2.7.2.2">s</mi><mo id="S3.SS1.p1.9.m9.2.7.2.3">′</mo></msup><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS1.p1.9.m9.2.7.3">|</mo><mi id="S3.SS1.p1.9.m9.2.7.4">s</mi><mo id="S3.SS1.p1.9.m9.2.7.5">,</mo><mi id="S3.SS1.p1.9.m9.2.7.6">G</mi><mo id="S3.SS1.p1.9.m9.2.7.7">=</mo><mrow id="S3.SS1.p1.9.m9.2.7.8"><mo stretchy="false" id="S3.SS1.p1.9.m9.2.7.8.1">(</mo><msub id="S3.SS1.p1.9.m9.2.7.8.2"><mi id="S3.SS1.p1.9.m9.2.7.8.2.2">g</mi><mi id="S3.SS1.p1.9.m9.2.7.8.2.3">h</mi></msub><mo id="S3.SS1.p1.9.m9.2.7.8.3">,</mo><msub id="S3.SS1.p1.9.m9.2.7.8.4"><mi id="S3.SS1.p1.9.m9.2.7.8.4.2">g</mi><mi id="S3.SS1.p1.9.m9.2.7.8.4.3">r</mi></msub><mo stretchy="false" id="S3.SS1.p1.9.m9.2.7.8.5">)</mo></mrow><mo id="S3.SS1.p1.9.m9.2.7.9">,</mo><msub id="S3.SS1.p1.9.m9.2.7.10"><mi id="S3.SS1.p1.9.m9.2.7.10.2">a</mi><mtext id="S3.SS1.p1.9.m9.2.7.10.3">r</mtext></msub><mo stretchy="false" id="S3.SS1.p1.9.m9.2.7.11">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.2c">\mathcal{T}_{\mathcal{S}}(s,G=(g_{h},g_{r}),a_{\text{r}},s^{\prime})=p(s^{\prime}|s,G=(g_{h},g_{r}),a_{\text{r}})</annotation></semantics></math> is the transition function for the world state, and <math id="S3.SS1.p1.10.m10.2" class="ltx_math_unparsed" alttext="\mathcal{T}_{\mathcal{G}}(G=(g_{r},g_{h}),s,a_{\text{r}},s^{\prime},g_{r}^{\prime})=p(G^{\prime}=(g_{r}^{\prime},g_{h}^{\prime})|G=(g_{r},g_{h}),s,a_{\text{r}},s^{\prime})" display="inline"><semantics id="S3.SS1.p1.10.m10.2a"><mrow id="S3.SS1.p1.10.m10.2b"><msub id="S3.SS1.p1.10.m10.2.3"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.10.m10.2.3.2">𝒯</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.10.m10.2.3.3">𝒢</mi></msub><mrow id="S3.SS1.p1.10.m10.2.4"><mo stretchy="false" id="S3.SS1.p1.10.m10.2.4.1">(</mo><mi id="S3.SS1.p1.10.m10.2.4.2">G</mi><mo id="S3.SS1.p1.10.m10.2.4.3">=</mo><mrow id="S3.SS1.p1.10.m10.2.4.4"><mo stretchy="false" id="S3.SS1.p1.10.m10.2.4.4.1">(</mo><msub id="S3.SS1.p1.10.m10.2.4.4.2"><mi id="S3.SS1.p1.10.m10.2.4.4.2.2">g</mi><mi id="S3.SS1.p1.10.m10.2.4.4.2.3">r</mi></msub><mo id="S3.SS1.p1.10.m10.2.4.4.3">,</mo><msub id="S3.SS1.p1.10.m10.2.4.4.4"><mi id="S3.SS1.p1.10.m10.2.4.4.4.2">g</mi><mi id="S3.SS1.p1.10.m10.2.4.4.4.3">h</mi></msub><mo stretchy="false" id="S3.SS1.p1.10.m10.2.4.4.5">)</mo></mrow><mo id="S3.SS1.p1.10.m10.2.4.5">,</mo><mi id="S3.SS1.p1.10.m10.1.1">s</mi><mo id="S3.SS1.p1.10.m10.2.4.6">,</mo><msub id="S3.SS1.p1.10.m10.2.4.7"><mi id="S3.SS1.p1.10.m10.2.4.7.2">a</mi><mtext id="S3.SS1.p1.10.m10.2.4.7.3">r</mtext></msub><mo id="S3.SS1.p1.10.m10.2.4.8">,</mo><msup id="S3.SS1.p1.10.m10.2.4.9"><mi id="S3.SS1.p1.10.m10.2.4.9.2">s</mi><mo id="S3.SS1.p1.10.m10.2.4.9.3">′</mo></msup><mo id="S3.SS1.p1.10.m10.2.4.10">,</mo><msubsup id="S3.SS1.p1.10.m10.2.4.11"><mi id="S3.SS1.p1.10.m10.2.4.11.2.2">g</mi><mi id="S3.SS1.p1.10.m10.2.4.11.2.3">r</mi><mo id="S3.SS1.p1.10.m10.2.4.11.3">′</mo></msubsup><mo stretchy="false" id="S3.SS1.p1.10.m10.2.4.12">)</mo></mrow><mo id="S3.SS1.p1.10.m10.2.5">=</mo><mi id="S3.SS1.p1.10.m10.2.6">p</mi><mrow id="S3.SS1.p1.10.m10.2.7"><mo stretchy="false" id="S3.SS1.p1.10.m10.2.7.1">(</mo><msup id="S3.SS1.p1.10.m10.2.7.2"><mi id="S3.SS1.p1.10.m10.2.7.2.2">G</mi><mo id="S3.SS1.p1.10.m10.2.7.2.3">′</mo></msup><mo id="S3.SS1.p1.10.m10.2.7.3">=</mo><mrow id="S3.SS1.p1.10.m10.2.7.4"><mo stretchy="false" id="S3.SS1.p1.10.m10.2.7.4.1">(</mo><msubsup id="S3.SS1.p1.10.m10.2.7.4.2"><mi id="S3.SS1.p1.10.m10.2.7.4.2.2.2">g</mi><mi id="S3.SS1.p1.10.m10.2.7.4.2.2.3">r</mi><mo id="S3.SS1.p1.10.m10.2.7.4.2.3">′</mo></msubsup><mo id="S3.SS1.p1.10.m10.2.7.4.3">,</mo><msubsup id="S3.SS1.p1.10.m10.2.7.4.4"><mi id="S3.SS1.p1.10.m10.2.7.4.4.2.2">g</mi><mi id="S3.SS1.p1.10.m10.2.7.4.4.2.3">h</mi><mo id="S3.SS1.p1.10.m10.2.7.4.4.3">′</mo></msubsup><mo stretchy="false" id="S3.SS1.p1.10.m10.2.7.4.5">)</mo></mrow><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS1.p1.10.m10.2.7.5">|</mo><mi id="S3.SS1.p1.10.m10.2.7.6">G</mi><mo id="S3.SS1.p1.10.m10.2.7.7">=</mo><mrow id="S3.SS1.p1.10.m10.2.7.8"><mo stretchy="false" id="S3.SS1.p1.10.m10.2.7.8.1">(</mo><msub id="S3.SS1.p1.10.m10.2.7.8.2"><mi id="S3.SS1.p1.10.m10.2.7.8.2.2">g</mi><mi id="S3.SS1.p1.10.m10.2.7.8.2.3">r</mi></msub><mo id="S3.SS1.p1.10.m10.2.7.8.3">,</mo><msub id="S3.SS1.p1.10.m10.2.7.8.4"><mi id="S3.SS1.p1.10.m10.2.7.8.4.2">g</mi><mi id="S3.SS1.p1.10.m10.2.7.8.4.3">h</mi></msub><mo stretchy="false" id="S3.SS1.p1.10.m10.2.7.8.5">)</mo></mrow><mo id="S3.SS1.p1.10.m10.2.7.9">,</mo><mi id="S3.SS1.p1.10.m10.2.2">s</mi><mo id="S3.SS1.p1.10.m10.2.7.10">,</mo><msub id="S3.SS1.p1.10.m10.2.7.11"><mi id="S3.SS1.p1.10.m10.2.7.11.2">a</mi><mtext id="S3.SS1.p1.10.m10.2.7.11.3">r</mtext></msub><mo id="S3.SS1.p1.10.m10.2.7.12">,</mo><msup id="S3.SS1.p1.10.m10.2.7.13"><mi id="S3.SS1.p1.10.m10.2.7.13.2">s</mi><mo id="S3.SS1.p1.10.m10.2.7.13.3">′</mo></msup><mo stretchy="false" id="S3.SS1.p1.10.m10.2.7.14">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m10.2c">\mathcal{T}_{\mathcal{G}}(G=(g_{r},g_{h}),s,a_{\text{r}},s^{\prime},g_{r}^{\prime})=p(G^{\prime}=(g_{r}^{\prime},g_{h}^{\prime})|G=(g_{r},g_{h}),s,a_{\text{r}},s^{\prime})</annotation></semantics></math> is the transition function for the robot goal. <math id="S3.SS1.p1.11.m11.1" class="ltx_math_unparsed" alttext="Z(s^{\prime},G^{\prime}=(g_{r}^{\prime},g_{h}^{\prime}),a_{\text{r}},o)=p(o=(s,a_{\text{h}})|s^{\prime},G^{\prime}=(g_{r}^{\prime},g_{h}^{\prime}),a_{\text{r}})" display="inline"><semantics id="S3.SS1.p1.11.m11.1a"><mrow id="S3.SS1.p1.11.m11.1b"><mi id="S3.SS1.p1.11.m11.1.1">Z</mi><mrow id="S3.SS1.p1.11.m11.1.2"><mo stretchy="false" id="S3.SS1.p1.11.m11.1.2.1">(</mo><msup id="S3.SS1.p1.11.m11.1.2.2"><mi id="S3.SS1.p1.11.m11.1.2.2.2">s</mi><mo id="S3.SS1.p1.11.m11.1.2.2.3">′</mo></msup><mo id="S3.SS1.p1.11.m11.1.2.3">,</mo><msup id="S3.SS1.p1.11.m11.1.2.4"><mi id="S3.SS1.p1.11.m11.1.2.4.2">G</mi><mo id="S3.SS1.p1.11.m11.1.2.4.3">′</mo></msup><mo id="S3.SS1.p1.11.m11.1.2.5">=</mo><mrow id="S3.SS1.p1.11.m11.1.2.6"><mo stretchy="false" id="S3.SS1.p1.11.m11.1.2.6.1">(</mo><msubsup id="S3.SS1.p1.11.m11.1.2.6.2"><mi id="S3.SS1.p1.11.m11.1.2.6.2.2.2">g</mi><mi id="S3.SS1.p1.11.m11.1.2.6.2.2.3">r</mi><mo id="S3.SS1.p1.11.m11.1.2.6.2.3">′</mo></msubsup><mo id="S3.SS1.p1.11.m11.1.2.6.3">,</mo><msubsup id="S3.SS1.p1.11.m11.1.2.6.4"><mi id="S3.SS1.p1.11.m11.1.2.6.4.2.2">g</mi><mi id="S3.SS1.p1.11.m11.1.2.6.4.2.3">h</mi><mo id="S3.SS1.p1.11.m11.1.2.6.4.3">′</mo></msubsup><mo stretchy="false" id="S3.SS1.p1.11.m11.1.2.6.5">)</mo></mrow><mo id="S3.SS1.p1.11.m11.1.2.7">,</mo><msub id="S3.SS1.p1.11.m11.1.2.8"><mi id="S3.SS1.p1.11.m11.1.2.8.2">a</mi><mtext id="S3.SS1.p1.11.m11.1.2.8.3">r</mtext></msub><mo id="S3.SS1.p1.11.m11.1.2.9">,</mo><mi id="S3.SS1.p1.11.m11.1.2.10">o</mi><mo stretchy="false" id="S3.SS1.p1.11.m11.1.2.11">)</mo></mrow><mo id="S3.SS1.p1.11.m11.1.3">=</mo><mi id="S3.SS1.p1.11.m11.1.4">p</mi><mrow id="S3.SS1.p1.11.m11.1.5"><mo stretchy="false" id="S3.SS1.p1.11.m11.1.5.1">(</mo><mi id="S3.SS1.p1.11.m11.1.5.2">o</mi><mo id="S3.SS1.p1.11.m11.1.5.3">=</mo><mrow id="S3.SS1.p1.11.m11.1.5.4"><mo stretchy="false" id="S3.SS1.p1.11.m11.1.5.4.1">(</mo><mi id="S3.SS1.p1.11.m11.1.5.4.2">s</mi><mo id="S3.SS1.p1.11.m11.1.5.4.3">,</mo><msub id="S3.SS1.p1.11.m11.1.5.4.4"><mi id="S3.SS1.p1.11.m11.1.5.4.4.2">a</mi><mtext id="S3.SS1.p1.11.m11.1.5.4.4.3">h</mtext></msub><mo stretchy="false" id="S3.SS1.p1.11.m11.1.5.4.5">)</mo></mrow><mo fence="false" rspace="0.167em" stretchy="false" id="S3.SS1.p1.11.m11.1.5.5">|</mo><msup id="S3.SS1.p1.11.m11.1.5.6"><mi id="S3.SS1.p1.11.m11.1.5.6.2">s</mi><mo id="S3.SS1.p1.11.m11.1.5.6.3">′</mo></msup><mo id="S3.SS1.p1.11.m11.1.5.7">,</mo><msup id="S3.SS1.p1.11.m11.1.5.8"><mi id="S3.SS1.p1.11.m11.1.5.8.2">G</mi><mo id="S3.SS1.p1.11.m11.1.5.8.3">′</mo></msup><mo id="S3.SS1.p1.11.m11.1.5.9">=</mo><mrow id="S3.SS1.p1.11.m11.1.5.10"><mo stretchy="false" id="S3.SS1.p1.11.m11.1.5.10.1">(</mo><msubsup id="S3.SS1.p1.11.m11.1.5.10.2"><mi id="S3.SS1.p1.11.m11.1.5.10.2.2.2">g</mi><mi id="S3.SS1.p1.11.m11.1.5.10.2.2.3">r</mi><mo id="S3.SS1.p1.11.m11.1.5.10.2.3">′</mo></msubsup><mo id="S3.SS1.p1.11.m11.1.5.10.3">,</mo><msubsup id="S3.SS1.p1.11.m11.1.5.10.4"><mi id="S3.SS1.p1.11.m11.1.5.10.4.2.2">g</mi><mi id="S3.SS1.p1.11.m11.1.5.10.4.2.3">h</mi><mo id="S3.SS1.p1.11.m11.1.5.10.4.3">′</mo></msubsup><mo stretchy="false" id="S3.SS1.p1.11.m11.1.5.10.5">)</mo></mrow><mo id="S3.SS1.p1.11.m11.1.5.11">,</mo><msub id="S3.SS1.p1.11.m11.1.5.12"><mi id="S3.SS1.p1.11.m11.1.5.12.2">a</mi><mtext id="S3.SS1.p1.11.m11.1.5.12.3">r</mtext></msub><mo stretchy="false" id="S3.SS1.p1.11.m11.1.5.13">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m11.1c">Z(s^{\prime},G^{\prime}=(g_{r}^{\prime},g_{h}^{\prime}),a_{\text{r}},o)=p(o=(s,a_{\text{h}})|s^{\prime},G^{\prime}=(g_{r}^{\prime},g_{h}^{\prime}),a_{\text{r}})</annotation></semantics></math> is the conditional probability function for the observation result.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.6" class="ltx_p">The reward function for the robot assistant is defined as <math id="S3.SS1.p2.1.m1.5" class="ltx_Math" alttext="R_{\text{r}}(s,a|\Gamma^{t})=E_{p(g|\Gamma^{t})}[\mathds{1}(s=g_{r})]-c_{\text{r}}(a)" display="inline"><semantics id="S3.SS1.p2.1.m1.5a"><mrow id="S3.SS1.p2.1.m1.5.5" xref="S3.SS1.p2.1.m1.5.5.cmml"><mrow id="S3.SS1.p2.1.m1.4.4.1" xref="S3.SS1.p2.1.m1.4.4.1.cmml"><msub id="S3.SS1.p2.1.m1.4.4.1.3" xref="S3.SS1.p2.1.m1.4.4.1.3.cmml"><mi id="S3.SS1.p2.1.m1.4.4.1.3.2" xref="S3.SS1.p2.1.m1.4.4.1.3.2.cmml">R</mi><mtext id="S3.SS1.p2.1.m1.4.4.1.3.3" xref="S3.SS1.p2.1.m1.4.4.1.3.3a.cmml">r</mtext></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.1.m1.4.4.1.2" xref="S3.SS1.p2.1.m1.4.4.1.2.cmml">​</mo><mrow id="S3.SS1.p2.1.m1.4.4.1.1.1" xref="S3.SS1.p2.1.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.1.m1.4.4.1.1.1.2" xref="S3.SS1.p2.1.m1.4.4.1.1.2.cmml">(</mo><mi id="S3.SS1.p2.1.m1.2.2" xref="S3.SS1.p2.1.m1.2.2.cmml">s</mi><mo id="S3.SS1.p2.1.m1.4.4.1.1.1.3" xref="S3.SS1.p2.1.m1.4.4.1.1.2.cmml">,</mo><mrow id="S3.SS1.p2.1.m1.4.4.1.1.1.1" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.4.4.1.1.1.1.2" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.2.cmml">a</mi><mo fence="false" id="S3.SS1.p2.1.m1.4.4.1.1.1.1.1" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.1.cmml">|</mo><msup id="S3.SS1.p2.1.m1.4.4.1.1.1.1.3" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.cmml"><mi mathvariant="normal" id="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.2" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.2.cmml">Γ</mi><mi id="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.3" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S3.SS1.p2.1.m1.4.4.1.1.1.4" xref="S3.SS1.p2.1.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p2.1.m1.5.5.3" xref="S3.SS1.p2.1.m1.5.5.3.cmml">=</mo><mrow id="S3.SS1.p2.1.m1.5.5.2" xref="S3.SS1.p2.1.m1.5.5.2.cmml"><mrow id="S3.SS1.p2.1.m1.5.5.2.1" xref="S3.SS1.p2.1.m1.5.5.2.1.cmml"><msub id="S3.SS1.p2.1.m1.5.5.2.1.3" xref="S3.SS1.p2.1.m1.5.5.2.1.3.cmml"><mi id="S3.SS1.p2.1.m1.5.5.2.1.3.2" xref="S3.SS1.p2.1.m1.5.5.2.1.3.2.cmml">E</mi><mrow id="S3.SS1.p2.1.m1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.1.m1.1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.1.2.cmml">​</mo><mrow id="S3.SS1.p2.1.m1.1.1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.1.m1.1.1.1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p2.1.m1.1.1.1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.1.1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.2.cmml">g</mi><mo fence="false" id="S3.SS1.p2.1.m1.1.1.1.1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.1.cmml">|</mo><msup id="S3.SS1.p2.1.m1.1.1.1.1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.cmml"><mi mathvariant="normal" id="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.2" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.2.cmml">Γ</mi><mi id="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.3" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S3.SS1.p2.1.m1.1.1.1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.1.m1.5.5.2.1.2" xref="S3.SS1.p2.1.m1.5.5.2.1.2.cmml">​</mo><mrow id="S3.SS1.p2.1.m1.5.5.2.1.1.1" xref="S3.SS1.p2.1.m1.5.5.2.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.1.m1.5.5.2.1.1.1.2" xref="S3.SS1.p2.1.m1.5.5.2.1.1.2.1.cmml">[</mo><mrow id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.cmml"><mn id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.3" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.3.cmml">𝟙</mn><mo lspace="0em" rspace="0em" id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.2" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.2" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.2" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.2.cmml">s</mi><mo id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.1" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.1.cmml">=</mo><msub id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.2" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.2.cmml">g</mi><mi id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.3" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.3.cmml">r</mi></msub></mrow><mo stretchy="false" id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.3" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS1.p2.1.m1.5.5.2.1.1.1.3" xref="S3.SS1.p2.1.m1.5.5.2.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.SS1.p2.1.m1.5.5.2.2" xref="S3.SS1.p2.1.m1.5.5.2.2.cmml">−</mo><mrow id="S3.SS1.p2.1.m1.5.5.2.3" xref="S3.SS1.p2.1.m1.5.5.2.3.cmml"><msub id="S3.SS1.p2.1.m1.5.5.2.3.2" xref="S3.SS1.p2.1.m1.5.5.2.3.2.cmml"><mi id="S3.SS1.p2.1.m1.5.5.2.3.2.2" xref="S3.SS1.p2.1.m1.5.5.2.3.2.2.cmml">c</mi><mtext id="S3.SS1.p2.1.m1.5.5.2.3.2.3" xref="S3.SS1.p2.1.m1.5.5.2.3.2.3a.cmml">r</mtext></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.1.m1.5.5.2.3.1" xref="S3.SS1.p2.1.m1.5.5.2.3.1.cmml">​</mo><mrow id="S3.SS1.p2.1.m1.5.5.2.3.3.2" xref="S3.SS1.p2.1.m1.5.5.2.3.cmml"><mo stretchy="false" id="S3.SS1.p2.1.m1.5.5.2.3.3.2.1" xref="S3.SS1.p2.1.m1.5.5.2.3.cmml">(</mo><mi id="S3.SS1.p2.1.m1.3.3" xref="S3.SS1.p2.1.m1.3.3.cmml">a</mi><mo stretchy="false" id="S3.SS1.p2.1.m1.5.5.2.3.3.2.2" xref="S3.SS1.p2.1.m1.5.5.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.5b"><apply id="S3.SS1.p2.1.m1.5.5.cmml" xref="S3.SS1.p2.1.m1.5.5"><eq id="S3.SS1.p2.1.m1.5.5.3.cmml" xref="S3.SS1.p2.1.m1.5.5.3"></eq><apply id="S3.SS1.p2.1.m1.4.4.1.cmml" xref="S3.SS1.p2.1.m1.4.4.1"><times id="S3.SS1.p2.1.m1.4.4.1.2.cmml" xref="S3.SS1.p2.1.m1.4.4.1.2"></times><apply id="S3.SS1.p2.1.m1.4.4.1.3.cmml" xref="S3.SS1.p2.1.m1.4.4.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.4.4.1.3.1.cmml" xref="S3.SS1.p2.1.m1.4.4.1.3">subscript</csymbol><ci id="S3.SS1.p2.1.m1.4.4.1.3.2.cmml" xref="S3.SS1.p2.1.m1.4.4.1.3.2">𝑅</ci><ci id="S3.SS1.p2.1.m1.4.4.1.3.3a.cmml" xref="S3.SS1.p2.1.m1.4.4.1.3.3"><mtext mathsize="70%" id="S3.SS1.p2.1.m1.4.4.1.3.3.cmml" xref="S3.SS1.p2.1.m1.4.4.1.3.3">r</mtext></ci></apply><interval closure="open" id="S3.SS1.p2.1.m1.4.4.1.1.2.cmml" xref="S3.SS1.p2.1.m1.4.4.1.1.1"><ci id="S3.SS1.p2.1.m1.2.2.cmml" xref="S3.SS1.p2.1.m1.2.2">𝑠</ci><apply id="S3.SS1.p2.1.m1.4.4.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.p2.1.m1.4.4.1.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.1">conditional</csymbol><ci id="S3.SS1.p2.1.m1.4.4.1.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.2">𝑎</ci><apply id="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.1.cmml" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.3">superscript</csymbol><ci id="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.2.cmml" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.2">Γ</ci><ci id="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.3.cmml" xref="S3.SS1.p2.1.m1.4.4.1.1.1.1.3.3">𝑡</ci></apply></apply></interval></apply><apply id="S3.SS1.p2.1.m1.5.5.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2"><minus id="S3.SS1.p2.1.m1.5.5.2.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2.2"></minus><apply id="S3.SS1.p2.1.m1.5.5.2.1.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1"><times id="S3.SS1.p2.1.m1.5.5.2.1.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.2"></times><apply id="S3.SS1.p2.1.m1.5.5.2.1.3.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.5.5.2.1.3.1.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.3">subscript</csymbol><ci id="S3.SS1.p2.1.m1.5.5.2.1.3.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.3.2">𝐸</ci><apply id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1"><times id="S3.SS1.p2.1.m1.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.1.2"></times><ci id="S3.SS1.p2.1.m1.1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.1.3">𝑝</ci><apply id="S3.SS1.p2.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.p2.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS1.p2.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.2">𝑔</ci><apply id="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.2">Γ</ci><ci id="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply><apply id="S3.SS1.p2.1.m1.5.5.2.1.1.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1"><csymbol cd="latexml" id="S3.SS1.p2.1.m1.5.5.2.1.1.2.1.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.2">delimited-[]</csymbol><apply id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1"><times id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.2"></times><cn type="integer" id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.3">1</cn><apply id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1"><eq id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.1"></eq><ci id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.2">𝑠</ci><apply id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.p2.1.m1.5.5.2.1.1.1.1.1.1.1.3.3">𝑟</ci></apply></apply></apply></apply></apply><apply id="S3.SS1.p2.1.m1.5.5.2.3.cmml" xref="S3.SS1.p2.1.m1.5.5.2.3"><times id="S3.SS1.p2.1.m1.5.5.2.3.1.cmml" xref="S3.SS1.p2.1.m1.5.5.2.3.1"></times><apply id="S3.SS1.p2.1.m1.5.5.2.3.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.5.5.2.3.2.1.cmml" xref="S3.SS1.p2.1.m1.5.5.2.3.2">subscript</csymbol><ci id="S3.SS1.p2.1.m1.5.5.2.3.2.2.cmml" xref="S3.SS1.p2.1.m1.5.5.2.3.2.2">𝑐</ci><ci id="S3.SS1.p2.1.m1.5.5.2.3.2.3a.cmml" xref="S3.SS1.p2.1.m1.5.5.2.3.2.3"><mtext mathsize="70%" id="S3.SS1.p2.1.m1.5.5.2.3.2.3.cmml" xref="S3.SS1.p2.1.m1.5.5.2.3.2.3">r</mtext></ci></apply><ci id="S3.SS1.p2.1.m1.3.3.cmml" xref="S3.SS1.p2.1.m1.3.3">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.5c">R_{\text{r}}(s,a|\Gamma^{t})=E_{p(g|\Gamma^{t})}[\mathds{1}(s=g_{r})]-c_{\text{r}}(a)</annotation></semantics></math>, where <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="c_{\text{r}}(a)" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mrow id="S3.SS1.p2.2.m2.1.2" xref="S3.SS1.p2.2.m2.1.2.cmml"><msub id="S3.SS1.p2.2.m2.1.2.2" xref="S3.SS1.p2.2.m2.1.2.2.cmml"><mi id="S3.SS1.p2.2.m2.1.2.2.2" xref="S3.SS1.p2.2.m2.1.2.2.2.cmml">c</mi><mtext id="S3.SS1.p2.2.m2.1.2.2.3" xref="S3.SS1.p2.2.m2.1.2.2.3a.cmml">r</mtext></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.2.m2.1.2.1" xref="S3.SS1.p2.2.m2.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.2.m2.1.2.3.2" xref="S3.SS1.p2.2.m2.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.2.m2.1.2.3.2.1" xref="S3.SS1.p2.2.m2.1.2.cmml">(</mo><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">a</mi><mo stretchy="false" id="S3.SS1.p2.2.m2.1.2.3.2.2" xref="S3.SS1.p2.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.2.cmml" xref="S3.SS1.p2.2.m2.1.2"><times id="S3.SS1.p2.2.m2.1.2.1.cmml" xref="S3.SS1.p2.2.m2.1.2.1"></times><apply id="S3.SS1.p2.2.m2.1.2.2.cmml" xref="S3.SS1.p2.2.m2.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.2.2.1.cmml" xref="S3.SS1.p2.2.m2.1.2.2">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.2.2.2.cmml" xref="S3.SS1.p2.2.m2.1.2.2.2">𝑐</ci><ci id="S3.SS1.p2.2.m2.1.2.2.3a.cmml" xref="S3.SS1.p2.2.m2.1.2.2.3"><mtext mathsize="70%" id="S3.SS1.p2.2.m2.1.2.2.3.cmml" xref="S3.SS1.p2.2.m2.1.2.2.3">r</mtext></ci></apply><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">c_{\text{r}}(a)</annotation></semantics></math> is the cost for robot action <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="a" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">a</annotation></semantics></math>, and <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="\mathds{1}(\cdot)" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mrow id="S3.SS1.p2.4.m4.1.2" xref="S3.SS1.p2.4.m4.1.2.cmml"><mn id="S3.SS1.p2.4.m4.1.2.2" xref="S3.SS1.p2.4.m4.1.2.2.cmml">𝟙</mn><mo lspace="0em" rspace="0em" id="S3.SS1.p2.4.m4.1.2.1" xref="S3.SS1.p2.4.m4.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.4.m4.1.2.3.2" xref="S3.SS1.p2.4.m4.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.4.m4.1.2.3.2.1" xref="S3.SS1.p2.4.m4.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.4.m4.1.2.3.2.2" xref="S3.SS1.p2.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.2.cmml" xref="S3.SS1.p2.4.m4.1.2"><times id="S3.SS1.p2.4.m4.1.2.1.cmml" xref="S3.SS1.p2.4.m4.1.2.1"></times><cn type="integer" id="S3.SS1.p2.4.m4.1.2.2.cmml" xref="S3.SS1.p2.4.m4.1.2.2">1</cn><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\mathds{1}(\cdot)</annotation></semantics></math> checks if the robot subgoal is satisfied in the current world state <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><mi id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><ci id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">s</annotation></semantics></math>. <math id="S3.SS1.p2.6.m6.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S3.SS1.p2.6.m6.1a"><mi id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><ci id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">\gamma</annotation></semantics></math> is the discount factor.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2409.10849/assets/figure/overview.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="538" height="344" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.2.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S3.F2.3.2" class="ltx_text" style="font-size:90%;">An overview of the SIFToM model, which consists of a bottom-up and a top-down processing stream, mirroring human auditory perceptual processing.</span></figcaption>
</figure>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption" style="font-size:80%;"><span class="ltx_tag ltx_tag_float"><span id="alg1.4.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> SIFToM</figcaption>
<div id="alg1.5" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><span id="alg1.l1.2" class="ltx_text ltx_font_bold" style="font-size:80%;">Input:</span><span id="alg1.l1.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l1.4" class="ltx_text ltx_markedasmath ltx_font_bold" style="font-size:80%;">Planner()</span><span id="alg1.l1.5" class="ltx_text" style="font-size:80%;">, </span><span id="alg1.l1.6" class="ltx_text ltx_font_bold" style="font-size:80%;">ASR()</span><span id="alg1.l1.7" class="ltx_text" style="font-size:80%;">, </span><span id="alg1.l1.8" class="ltx_text ltx_font_bold" style="font-size:80%;">LLM()</span><span id="alg1.l1.9" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l1.m2.1" class="ltx_Math" alttext="a_{h}" display="inline"><semantics id="alg1.l1.m2.1a"><msub id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml"><mi mathsize="80%" id="alg1.l1.m2.1.1.2" xref="alg1.l1.m2.1.1.2.cmml">a</mi><mi mathsize="80%" id="alg1.l1.m2.1.1.3" xref="alg1.l1.m2.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><apply id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1"><csymbol cd="ambiguous" id="alg1.l1.m2.1.1.1.cmml" xref="alg1.l1.m2.1.1">subscript</csymbol><ci id="alg1.l1.m2.1.1.2.cmml" xref="alg1.l1.m2.1.1.2">𝑎</ci><ci id="alg1.l1.m2.1.1.3.cmml" xref="alg1.l1.m2.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">a_{h}</annotation></semantics></math><span id="alg1.l1.10" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l1.m3.1" class="ltx_Math" alttext="\Phi" display="inline"><semantics id="alg1.l1.m3.1a"><mi mathsize="80%" mathvariant="normal" id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml">Φ</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><ci id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1">Φ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">\Phi</annotation></semantics></math><span id="alg1.l1.11" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l1.m4.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="alg1.l1.m4.1a"><mi mathsize="80%" id="alg1.l1.m4.1.1" xref="alg1.l1.m4.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m4.1b"><ci id="alg1.l1.m4.1.1.cmml" xref="alg1.l1.m4.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m4.1c">\theta</annotation></semantics></math><span id="alg1.l1.12" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l1.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.l1.m5.1a"><mi mathsize="80%" id="alg1.l1.m5.1.1" xref="alg1.l1.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m5.1b"><ci id="alg1.l1.m5.1.1.cmml" xref="alg1.l1.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m5.1c">N</annotation></semantics></math><span id="alg1.l1.13" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l1.m6.1" class="ltx_Math" alttext="K" display="inline"><semantics id="alg1.l1.m6.1a"><mi mathsize="80%" id="alg1.l1.m6.1.1" xref="alg1.l1.m6.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m6.1b"><ci id="alg1.l1.m6.1.1.cmml" xref="alg1.l1.m6.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m6.1c">K</annotation></semantics></math><span id="alg1.l1.14" class="ltx_text" style="font-size:80%;">, </span><math id="alg1.l1.m7.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="alg1.l1.m7.1a"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg1.l1.m7.1.1" xref="alg1.l1.m7.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m7.1b"><ci id="alg1.l1.m7.1.1.cmml" xref="alg1.l1.m7.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m7.1c">\mathcal{E}</annotation></semantics></math><span id="alg1.l1.15" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.3.1.1" class="ltx_text" style="font-size:80%;">2:</span></span><math id="alg1.l2.m1.1" class="ltx_Math" alttext="T_{s}\leftarrow\textbf{ASR}(\Phi)" display="inline"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.2" xref="alg1.l2.m1.1.2.cmml"><msub id="alg1.l2.m1.1.2.2" xref="alg1.l2.m1.1.2.2.cmml"><mi mathsize="80%" id="alg1.l2.m1.1.2.2.2" xref="alg1.l2.m1.1.2.2.2.cmml">T</mi><mi mathsize="80%" id="alg1.l2.m1.1.2.2.3" xref="alg1.l2.m1.1.2.2.3.cmml">s</mi></msub><mo mathsize="80%" stretchy="false" id="alg1.l2.m1.1.2.1" xref="alg1.l2.m1.1.2.1.cmml">←</mo><mrow id="alg1.l2.m1.1.2.3" xref="alg1.l2.m1.1.2.3.cmml"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l2.m1.1.2.3.2" xref="alg1.l2.m1.1.2.3.2a.cmml">ASR</mtext><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.2.3.1" xref="alg1.l2.m1.1.2.3.1.cmml">​</mo><mrow id="alg1.l2.m1.1.2.3.3.2" xref="alg1.l2.m1.1.2.3.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l2.m1.1.2.3.3.2.1" xref="alg1.l2.m1.1.2.3.cmml">(</mo><mi mathsize="80%" mathvariant="normal" id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">Φ</mi><mo maxsize="80%" minsize="80%" id="alg1.l2.m1.1.2.3.3.2.2" xref="alg1.l2.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.2.cmml" xref="alg1.l2.m1.1.2"><ci id="alg1.l2.m1.1.2.1.cmml" xref="alg1.l2.m1.1.2.1">←</ci><apply id="alg1.l2.m1.1.2.2.cmml" xref="alg1.l2.m1.1.2.2"><csymbol cd="ambiguous" id="alg1.l2.m1.1.2.2.1.cmml" xref="alg1.l2.m1.1.2.2">subscript</csymbol><ci id="alg1.l2.m1.1.2.2.2.cmml" xref="alg1.l2.m1.1.2.2.2">𝑇</ci><ci id="alg1.l2.m1.1.2.2.3.cmml" xref="alg1.l2.m1.1.2.2.3">𝑠</ci></apply><apply id="alg1.l2.m1.1.2.3.cmml" xref="alg1.l2.m1.1.2.3"><times id="alg1.l2.m1.1.2.3.1.cmml" xref="alg1.l2.m1.1.2.3.1"></times><ci id="alg1.l2.m1.1.2.3.2a.cmml" xref="alg1.l2.m1.1.2.3.2"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l2.m1.1.2.3.2.cmml" xref="alg1.l2.m1.1.2.3.2">ASR</mtext></ci><ci id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">Φ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">T_{s}\leftarrow\textbf{ASR}(\Phi)</annotation></semantics></math><span id="alg1.l2.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l2.2" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l2.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l2.1.m1.1a"><mo id="alg1.l2.1.m1.1.1" xref="alg1.l2.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l2.1.m1.1b"><ci id="alg1.l2.1.m1.1.1.cmml" xref="alg1.l2.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.1.m1.1c">\triangleright</annotation></semantics></math> transcribe speech <math id="alg1.l2.2.m2.1" class="ltx_Math" alttext="\Phi" display="inline"><semantics id="alg1.l2.2.m2.1a"><mi mathvariant="normal" id="alg1.l2.2.m2.1.1" xref="alg1.l2.2.m2.1.1.cmml">Φ</mi><annotation-xml encoding="MathML-Content" id="alg1.l2.2.m2.1b"><ci id="alg1.l2.2.m2.1.1.cmml" xref="alg1.l2.2.m2.1.1">Φ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.2.m2.1c">\Phi</annotation></semantics></math>
</span>
</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.3.1.1" class="ltx_text" style="font-size:80%;">3:</span></span><math id="alg1.l3.m1.4" class="ltx_Math" alttext="g_{r},P(g_{r}|T_{s})\leftarrow\textbf{LLM}(g_{r}|T_{s},\mathcal{E})" display="inline"><semantics id="alg1.l3.m1.4a"><mrow id="alg1.l3.m1.4.4" xref="alg1.l3.m1.4.4.cmml"><mrow id="alg1.l3.m1.3.3.2.2" xref="alg1.l3.m1.3.3.2.3.cmml"><msub id="alg1.l3.m1.2.2.1.1.1" xref="alg1.l3.m1.2.2.1.1.1.cmml"><mi mathsize="80%" id="alg1.l3.m1.2.2.1.1.1.2" xref="alg1.l3.m1.2.2.1.1.1.2.cmml">g</mi><mi mathsize="80%" id="alg1.l3.m1.2.2.1.1.1.3" xref="alg1.l3.m1.2.2.1.1.1.3.cmml">r</mi></msub><mo mathsize="80%" id="alg1.l3.m1.3.3.2.2.3" xref="alg1.l3.m1.3.3.2.3.cmml">,</mo><mrow id="alg1.l3.m1.3.3.2.2.2" xref="alg1.l3.m1.3.3.2.2.2.cmml"><mi mathsize="80%" id="alg1.l3.m1.3.3.2.2.2.3" xref="alg1.l3.m1.3.3.2.2.2.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.3.3.2.2.2.2" xref="alg1.l3.m1.3.3.2.2.2.2.cmml">​</mo><mrow id="alg1.l3.m1.3.3.2.2.2.1.1" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l3.m1.3.3.2.2.2.1.1.2" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.cmml">(</mo><mrow id="alg1.l3.m1.3.3.2.2.2.1.1.1" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.cmml"><msub id="alg1.l3.m1.3.3.2.2.2.1.1.1.2" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l3.m1.3.3.2.2.2.1.1.1.2.2" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l3.m1.3.3.2.2.2.1.1.1.2.3" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.2.3.cmml">r</mi></msub><mo fence="false" mathsize="80%" id="alg1.l3.m1.3.3.2.2.2.1.1.1.1" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.1.cmml">|</mo><msub id="alg1.l3.m1.3.3.2.2.2.1.1.1.3" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l3.m1.3.3.2.2.2.1.1.1.3.2" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.3.2.cmml">T</mi><mi mathsize="80%" id="alg1.l3.m1.3.3.2.2.2.1.1.1.3.3" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.3.3.cmml">s</mi></msub></mrow><mo maxsize="80%" minsize="80%" id="alg1.l3.m1.3.3.2.2.2.1.1.3" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo mathsize="80%" stretchy="false" id="alg1.l3.m1.4.4.4" xref="alg1.l3.m1.4.4.4.cmml">←</mo><mrow id="alg1.l3.m1.4.4.3" xref="alg1.l3.m1.4.4.3.cmml"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l3.m1.4.4.3.3" xref="alg1.l3.m1.4.4.3.3a.cmml">LLM</mtext><mo lspace="0em" rspace="0em" id="alg1.l3.m1.4.4.3.2" xref="alg1.l3.m1.4.4.3.2.cmml">​</mo><mrow id="alg1.l3.m1.4.4.3.1.1" xref="alg1.l3.m1.4.4.3.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l3.m1.4.4.3.1.1.2" xref="alg1.l3.m1.4.4.3.1.1.1.cmml">(</mo><mrow id="alg1.l3.m1.4.4.3.1.1.1" xref="alg1.l3.m1.4.4.3.1.1.1.cmml"><msub id="alg1.l3.m1.4.4.3.1.1.1.3" xref="alg1.l3.m1.4.4.3.1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l3.m1.4.4.3.1.1.1.3.2" xref="alg1.l3.m1.4.4.3.1.1.1.3.2.cmml">g</mi><mi mathsize="80%" id="alg1.l3.m1.4.4.3.1.1.1.3.3" xref="alg1.l3.m1.4.4.3.1.1.1.3.3.cmml">r</mi></msub><mo fence="false" mathsize="80%" id="alg1.l3.m1.4.4.3.1.1.1.2" xref="alg1.l3.m1.4.4.3.1.1.1.2.cmml">|</mo><mrow id="alg1.l3.m1.4.4.3.1.1.1.1.1" xref="alg1.l3.m1.4.4.3.1.1.1.1.2.cmml"><msub id="alg1.l3.m1.4.4.3.1.1.1.1.1.1" xref="alg1.l3.m1.4.4.3.1.1.1.1.1.1.cmml"><mi mathsize="80%" id="alg1.l3.m1.4.4.3.1.1.1.1.1.1.2" xref="alg1.l3.m1.4.4.3.1.1.1.1.1.1.2.cmml">T</mi><mi mathsize="80%" id="alg1.l3.m1.4.4.3.1.1.1.1.1.1.3" xref="alg1.l3.m1.4.4.3.1.1.1.1.1.1.3.cmml">s</mi></msub><mo mathsize="80%" id="alg1.l3.m1.4.4.3.1.1.1.1.1.2" xref="alg1.l3.m1.4.4.3.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">ℰ</mi></mrow></mrow><mo maxsize="80%" minsize="80%" id="alg1.l3.m1.4.4.3.1.1.3" xref="alg1.l3.m1.4.4.3.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.4b"><apply id="alg1.l3.m1.4.4.cmml" xref="alg1.l3.m1.4.4"><ci id="alg1.l3.m1.4.4.4.cmml" xref="alg1.l3.m1.4.4.4">←</ci><list id="alg1.l3.m1.3.3.2.3.cmml" xref="alg1.l3.m1.3.3.2.2"><apply id="alg1.l3.m1.2.2.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.2.2.1.1.1.1.cmml" xref="alg1.l3.m1.2.2.1.1.1">subscript</csymbol><ci id="alg1.l3.m1.2.2.1.1.1.2.cmml" xref="alg1.l3.m1.2.2.1.1.1.2">𝑔</ci><ci id="alg1.l3.m1.2.2.1.1.1.3.cmml" xref="alg1.l3.m1.2.2.1.1.1.3">𝑟</ci></apply><apply id="alg1.l3.m1.3.3.2.2.2.cmml" xref="alg1.l3.m1.3.3.2.2.2"><times id="alg1.l3.m1.3.3.2.2.2.2.cmml" xref="alg1.l3.m1.3.3.2.2.2.2"></times><ci id="alg1.l3.m1.3.3.2.2.2.3.cmml" xref="alg1.l3.m1.3.3.2.2.2.3">𝑃</ci><apply id="alg1.l3.m1.3.3.2.2.2.1.1.1.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1"><csymbol cd="latexml" id="alg1.l3.m1.3.3.2.2.2.1.1.1.1.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.1">conditional</csymbol><apply id="alg1.l3.m1.3.3.2.2.2.1.1.1.2.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l3.m1.3.3.2.2.2.1.1.1.2.1.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.2">subscript</csymbol><ci id="alg1.l3.m1.3.3.2.2.2.1.1.1.2.2.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.2.2">𝑔</ci><ci id="alg1.l3.m1.3.3.2.2.2.1.1.1.2.3.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.2.3">𝑟</ci></apply><apply id="alg1.l3.m1.3.3.2.2.2.1.1.1.3.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l3.m1.3.3.2.2.2.1.1.1.3.1.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.3">subscript</csymbol><ci id="alg1.l3.m1.3.3.2.2.2.1.1.1.3.2.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.3.2">𝑇</ci><ci id="alg1.l3.m1.3.3.2.2.2.1.1.1.3.3.cmml" xref="alg1.l3.m1.3.3.2.2.2.1.1.1.3.3">𝑠</ci></apply></apply></apply></list><apply id="alg1.l3.m1.4.4.3.cmml" xref="alg1.l3.m1.4.4.3"><times id="alg1.l3.m1.4.4.3.2.cmml" xref="alg1.l3.m1.4.4.3.2"></times><ci id="alg1.l3.m1.4.4.3.3a.cmml" xref="alg1.l3.m1.4.4.3.3"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l3.m1.4.4.3.3.cmml" xref="alg1.l3.m1.4.4.3.3">LLM</mtext></ci><apply id="alg1.l3.m1.4.4.3.1.1.1.cmml" xref="alg1.l3.m1.4.4.3.1.1"><csymbol cd="latexml" id="alg1.l3.m1.4.4.3.1.1.1.2.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.2">conditional</csymbol><apply id="alg1.l3.m1.4.4.3.1.1.1.3.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l3.m1.4.4.3.1.1.1.3.1.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.3">subscript</csymbol><ci id="alg1.l3.m1.4.4.3.1.1.1.3.2.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.3.2">𝑔</ci><ci id="alg1.l3.m1.4.4.3.1.1.1.3.3.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.3.3">𝑟</ci></apply><list id="alg1.l3.m1.4.4.3.1.1.1.1.2.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.1.1"><apply id="alg1.l3.m1.4.4.3.1.1.1.1.1.1.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.4.4.3.1.1.1.1.1.1.1.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l3.m1.4.4.3.1.1.1.1.1.1.2.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.1.1.1.2">𝑇</ci><ci id="alg1.l3.m1.4.4.3.1.1.1.1.1.1.3.cmml" xref="alg1.l3.m1.4.4.3.1.1.1.1.1.1.3">𝑠</ci></apply><ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">ℰ</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.4c">g_{r},P(g_{r}|T_{s})\leftarrow\textbf{LLM}(g_{r}|T_{s},\mathcal{E})</annotation></semantics></math><span id="alg1.l3.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l3.2" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l3.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l3.1.m1.1a"><mo id="alg1.l3.1.m1.1.1" xref="alg1.l3.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l3.1.m1.1b"><ci id="alg1.l3.1.m1.1.1.cmml" xref="alg1.l3.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.1.m1.1c">\triangleright</annotation></semantics></math> query LLM to translate to robot goal with few shot prompt <math id="alg1.l3.2.m2.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="alg1.l3.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.2.m2.1.1" xref="alg1.l3.2.m2.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.2.m2.1b"><ci id="alg1.l3.2.m2.1.1.cmml" xref="alg1.l3.2.m2.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.2.m2.1c">\mathcal{E}</annotation></semantics></math>
</span>
</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span><span id="alg1.l4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">if</span><span id="alg1.l4.3" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l4.m1.1" class="ltx_Math" alttext="P(g_{r}|T_{s})&gt;\theta" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mrow id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml"><mi mathsize="80%" id="alg1.l4.m1.1.1.1.3" xref="alg1.l4.m1.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1.2" xref="alg1.l4.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.l4.m1.1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l4.m1.1.1.1.1.1.2" xref="alg1.l4.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l4.m1.1.1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.1.1.cmml"><msub id="alg1.l4.m1.1.1.1.1.1.1.2" xref="alg1.l4.m1.1.1.1.1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l4.m1.1.1.1.1.1.1.2.2" xref="alg1.l4.m1.1.1.1.1.1.1.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l4.m1.1.1.1.1.1.1.2.3" xref="alg1.l4.m1.1.1.1.1.1.1.2.3.cmml">r</mi></msub><mo fence="false" mathsize="80%" id="alg1.l4.m1.1.1.1.1.1.1.1" xref="alg1.l4.m1.1.1.1.1.1.1.1.cmml">|</mo><msub id="alg1.l4.m1.1.1.1.1.1.1.3" xref="alg1.l4.m1.1.1.1.1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l4.m1.1.1.1.1.1.1.3.2" xref="alg1.l4.m1.1.1.1.1.1.1.3.2.cmml">T</mi><mi mathsize="80%" id="alg1.l4.m1.1.1.1.1.1.1.3.3" xref="alg1.l4.m1.1.1.1.1.1.1.3.3.cmml">s</mi></msub></mrow><mo maxsize="80%" minsize="80%" id="alg1.l4.m1.1.1.1.1.1.3" xref="alg1.l4.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo mathsize="80%" id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">&gt;</mo><mi mathsize="80%" id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml">θ</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><gt id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2"></gt><apply id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1"><times id="alg1.l4.m1.1.1.1.2.cmml" xref="alg1.l4.m1.1.1.1.2"></times><ci id="alg1.l4.m1.1.1.1.3.cmml" xref="alg1.l4.m1.1.1.1.3">𝑃</ci><apply id="alg1.l4.m1.1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1"><csymbol cd="latexml" id="alg1.l4.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="alg1.l4.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="alg1.l4.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.2.2">𝑔</ci><ci id="alg1.l4.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.2.3">𝑟</ci></apply><apply id="alg1.l4.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="alg1.l4.m1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.3.2">𝑇</ci><ci id="alg1.l4.m1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l4.m1.1.1.1.1.1.1.3.3">𝑠</ci></apply></apply></apply><ci id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">P(g_{r}|T_{s})&gt;\theta</annotation></semantics></math><span id="alg1.l4.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l4.5" class="ltx_text ltx_font_bold" style="font-size:80%;">then</span><span id="alg1.l4.6" class="ltx_text" style="font-size:80%;">
</span><span id="alg1.l4.7" class="ltx_text ltx_font_bold" style="font-size:80%;">return</span><span id="alg1.l4.8" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l4.m2.1" class="ltx_Math" alttext="g_{r}" display="inline"><semantics id="alg1.l4.m2.1a"><msub id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><mi mathsize="80%" id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml">g</mi><mi mathsize="80%" id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><csymbol cd="ambiguous" id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1">subscript</csymbol><ci id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2">𝑔</ci><ci id="alg1.l4.m2.1.1.3.cmml" xref="alg1.l4.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">g_{r}</annotation></semantics></math><span id="alg1.l4.9" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span><span id="alg1.l5.2" class="ltx_text ltx_font_bold" style="font-size:80%;">else</span>
</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.2.1.1" class="ltx_text" style="font-size:80%;">6:</span></span><span id="alg1.l6.3" class="ltx_text" style="font-size:80%;">    </span><math id="alg1.l6.m1.4" class="ltx_Math" alttext="G^{1:K},P(G^{i}|a_{h})\leftarrow\textbf{GoalInf}(a_{h},K)" display="inline"><semantics id="alg1.l6.m1.4a"><mrow id="alg1.l6.m1.4.4" xref="alg1.l6.m1.4.4.cmml"><mrow id="alg1.l6.m1.3.3.2.2" xref="alg1.l6.m1.3.3.2.3.cmml"><msup id="alg1.l6.m1.2.2.1.1.1" xref="alg1.l6.m1.2.2.1.1.1.cmml"><mi mathsize="80%" id="alg1.l6.m1.2.2.1.1.1.2" xref="alg1.l6.m1.2.2.1.1.1.2.cmml">G</mi><mrow id="alg1.l6.m1.2.2.1.1.1.3" xref="alg1.l6.m1.2.2.1.1.1.3.cmml"><mn mathsize="80%" id="alg1.l6.m1.2.2.1.1.1.3.2" xref="alg1.l6.m1.2.2.1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" mathsize="80%" rspace="0.278em" id="alg1.l6.m1.2.2.1.1.1.3.1" xref="alg1.l6.m1.2.2.1.1.1.3.1.cmml">:</mo><mi mathsize="80%" id="alg1.l6.m1.2.2.1.1.1.3.3" xref="alg1.l6.m1.2.2.1.1.1.3.3.cmml">K</mi></mrow></msup><mo mathsize="80%" id="alg1.l6.m1.3.3.2.2.3" xref="alg1.l6.m1.3.3.2.3.cmml">,</mo><mrow id="alg1.l6.m1.3.3.2.2.2" xref="alg1.l6.m1.3.3.2.2.2.cmml"><mi mathsize="80%" id="alg1.l6.m1.3.3.2.2.2.3" xref="alg1.l6.m1.3.3.2.2.2.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.3.3.2.2.2.2" xref="alg1.l6.m1.3.3.2.2.2.2.cmml">​</mo><mrow id="alg1.l6.m1.3.3.2.2.2.1.1" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l6.m1.3.3.2.2.2.1.1.2" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.cmml">(</mo><mrow id="alg1.l6.m1.3.3.2.2.2.1.1.1" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.cmml"><msup id="alg1.l6.m1.3.3.2.2.2.1.1.1.2" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l6.m1.3.3.2.2.2.1.1.1.2.2" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.2.2.cmml">G</mi><mi mathsize="80%" id="alg1.l6.m1.3.3.2.2.2.1.1.1.2.3" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.2.3.cmml">i</mi></msup><mo fence="false" mathsize="80%" id="alg1.l6.m1.3.3.2.2.2.1.1.1.1" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.1.cmml">|</mo><msub id="alg1.l6.m1.3.3.2.2.2.1.1.1.3" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l6.m1.3.3.2.2.2.1.1.1.3.2" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.3.2.cmml">a</mi><mi mathsize="80%" id="alg1.l6.m1.3.3.2.2.2.1.1.1.3.3" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.3.3.cmml">h</mi></msub></mrow><mo maxsize="80%" minsize="80%" id="alg1.l6.m1.3.3.2.2.2.1.1.3" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo mathsize="80%" stretchy="false" id="alg1.l6.m1.4.4.4" xref="alg1.l6.m1.4.4.4.cmml">←</mo><mrow id="alg1.l6.m1.4.4.3" xref="alg1.l6.m1.4.4.3.cmml"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l6.m1.4.4.3.3" xref="alg1.l6.m1.4.4.3.3a.cmml">GoalInf</mtext><mo lspace="0em" rspace="0em" id="alg1.l6.m1.4.4.3.2" xref="alg1.l6.m1.4.4.3.2.cmml">​</mo><mrow id="alg1.l6.m1.4.4.3.1.1" xref="alg1.l6.m1.4.4.3.1.2.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l6.m1.4.4.3.1.1.2" xref="alg1.l6.m1.4.4.3.1.2.cmml">(</mo><msub id="alg1.l6.m1.4.4.3.1.1.1" xref="alg1.l6.m1.4.4.3.1.1.1.cmml"><mi mathsize="80%" id="alg1.l6.m1.4.4.3.1.1.1.2" xref="alg1.l6.m1.4.4.3.1.1.1.2.cmml">a</mi><mi mathsize="80%" id="alg1.l6.m1.4.4.3.1.1.1.3" xref="alg1.l6.m1.4.4.3.1.1.1.3.cmml">h</mi></msub><mo mathsize="80%" id="alg1.l6.m1.4.4.3.1.1.3" xref="alg1.l6.m1.4.4.3.1.2.cmml">,</mo><mi mathsize="80%" id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml">K</mi><mo maxsize="80%" minsize="80%" id="alg1.l6.m1.4.4.3.1.1.4" xref="alg1.l6.m1.4.4.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.4b"><apply id="alg1.l6.m1.4.4.cmml" xref="alg1.l6.m1.4.4"><ci id="alg1.l6.m1.4.4.4.cmml" xref="alg1.l6.m1.4.4.4">←</ci><list id="alg1.l6.m1.3.3.2.3.cmml" xref="alg1.l6.m1.3.3.2.2"><apply id="alg1.l6.m1.2.2.1.1.1.cmml" xref="alg1.l6.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.1.1.1.1.cmml" xref="alg1.l6.m1.2.2.1.1.1">superscript</csymbol><ci id="alg1.l6.m1.2.2.1.1.1.2.cmml" xref="alg1.l6.m1.2.2.1.1.1.2">𝐺</ci><apply id="alg1.l6.m1.2.2.1.1.1.3.cmml" xref="alg1.l6.m1.2.2.1.1.1.3"><ci id="alg1.l6.m1.2.2.1.1.1.3.1.cmml" xref="alg1.l6.m1.2.2.1.1.1.3.1">:</ci><cn type="integer" id="alg1.l6.m1.2.2.1.1.1.3.2.cmml" xref="alg1.l6.m1.2.2.1.1.1.3.2">1</cn><ci id="alg1.l6.m1.2.2.1.1.1.3.3.cmml" xref="alg1.l6.m1.2.2.1.1.1.3.3">𝐾</ci></apply></apply><apply id="alg1.l6.m1.3.3.2.2.2.cmml" xref="alg1.l6.m1.3.3.2.2.2"><times id="alg1.l6.m1.3.3.2.2.2.2.cmml" xref="alg1.l6.m1.3.3.2.2.2.2"></times><ci id="alg1.l6.m1.3.3.2.2.2.3.cmml" xref="alg1.l6.m1.3.3.2.2.2.3">𝑃</ci><apply id="alg1.l6.m1.3.3.2.2.2.1.1.1.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1"><csymbol cd="latexml" id="alg1.l6.m1.3.3.2.2.2.1.1.1.1.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.1">conditional</csymbol><apply id="alg1.l6.m1.3.3.2.2.2.1.1.1.2.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l6.m1.3.3.2.2.2.1.1.1.2.1.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.2">superscript</csymbol><ci id="alg1.l6.m1.3.3.2.2.2.1.1.1.2.2.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.2.2">𝐺</ci><ci id="alg1.l6.m1.3.3.2.2.2.1.1.1.2.3.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.2.3">𝑖</ci></apply><apply id="alg1.l6.m1.3.3.2.2.2.1.1.1.3.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l6.m1.3.3.2.2.2.1.1.1.3.1.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.3">subscript</csymbol><ci id="alg1.l6.m1.3.3.2.2.2.1.1.1.3.2.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.3.2">𝑎</ci><ci id="alg1.l6.m1.3.3.2.2.2.1.1.1.3.3.cmml" xref="alg1.l6.m1.3.3.2.2.2.1.1.1.3.3">ℎ</ci></apply></apply></apply></list><apply id="alg1.l6.m1.4.4.3.cmml" xref="alg1.l6.m1.4.4.3"><times id="alg1.l6.m1.4.4.3.2.cmml" xref="alg1.l6.m1.4.4.3.2"></times><ci id="alg1.l6.m1.4.4.3.3a.cmml" xref="alg1.l6.m1.4.4.3.3"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l6.m1.4.4.3.3.cmml" xref="alg1.l6.m1.4.4.3.3">GoalInf</mtext></ci><interval closure="open" id="alg1.l6.m1.4.4.3.1.2.cmml" xref="alg1.l6.m1.4.4.3.1.1"><apply id="alg1.l6.m1.4.4.3.1.1.1.cmml" xref="alg1.l6.m1.4.4.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.4.4.3.1.1.1.1.cmml" xref="alg1.l6.m1.4.4.3.1.1.1">subscript</csymbol><ci id="alg1.l6.m1.4.4.3.1.1.1.2.cmml" xref="alg1.l6.m1.4.4.3.1.1.1.2">𝑎</ci><ci id="alg1.l6.m1.4.4.3.1.1.1.3.cmml" xref="alg1.l6.m1.4.4.3.1.1.1.3">ℎ</ci></apply><ci id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">𝐾</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.4c">G^{1:K},P(G^{i}|a_{h})\leftarrow\textbf{GoalInf}(a_{h},K)</annotation></semantics></math><span id="alg1.l6.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l6.1" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l6.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l6.1.m1.1a"><mo id="alg1.l6.1.m1.1.1" xref="alg1.l6.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l6.1.m1.1b"><ci id="alg1.l6.1.m1.1.1.cmml" xref="alg1.l6.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.1.m1.1c">\triangleright</annotation></semantics></math> Infer K most likely goals
</span>
</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.2.1.1" class="ltx_text" style="font-size:80%;">7:</span></span><span id="alg1.l7.3" class="ltx_text" style="font-size:80%;">    </span><math id="alg1.l7.m1.4" class="ltx_Math" alttext="g_{r}^{1:N},P(g_{r}^{i}|a_{h})\leftarrow\textbf{Planner}(G)*P(G|a_{h})" display="inline"><semantics id="alg1.l7.m1.4a"><mrow id="alg1.l7.m1.4.4" xref="alg1.l7.m1.4.4.cmml"><mrow id="alg1.l7.m1.3.3.2.2" xref="alg1.l7.m1.3.3.2.3.cmml"><msubsup id="alg1.l7.m1.2.2.1.1.1" xref="alg1.l7.m1.2.2.1.1.1.cmml"><mi mathsize="80%" id="alg1.l7.m1.2.2.1.1.1.2.2" xref="alg1.l7.m1.2.2.1.1.1.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l7.m1.2.2.1.1.1.2.3" xref="alg1.l7.m1.2.2.1.1.1.2.3.cmml">r</mi><mrow id="alg1.l7.m1.2.2.1.1.1.3" xref="alg1.l7.m1.2.2.1.1.1.3.cmml"><mn mathsize="80%" id="alg1.l7.m1.2.2.1.1.1.3.2" xref="alg1.l7.m1.2.2.1.1.1.3.2.cmml">1</mn><mo lspace="0.278em" mathsize="80%" rspace="0.278em" id="alg1.l7.m1.2.2.1.1.1.3.1" xref="alg1.l7.m1.2.2.1.1.1.3.1.cmml">:</mo><mi mathsize="80%" id="alg1.l7.m1.2.2.1.1.1.3.3" xref="alg1.l7.m1.2.2.1.1.1.3.3.cmml">N</mi></mrow></msubsup><mo mathsize="80%" id="alg1.l7.m1.3.3.2.2.3" xref="alg1.l7.m1.3.3.2.3.cmml">,</mo><mrow id="alg1.l7.m1.3.3.2.2.2" xref="alg1.l7.m1.3.3.2.2.2.cmml"><mi mathsize="80%" id="alg1.l7.m1.3.3.2.2.2.3" xref="alg1.l7.m1.3.3.2.2.2.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg1.l7.m1.3.3.2.2.2.2" xref="alg1.l7.m1.3.3.2.2.2.2.cmml">​</mo><mrow id="alg1.l7.m1.3.3.2.2.2.1.1" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l7.m1.3.3.2.2.2.1.1.2" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.cmml">(</mo><mrow id="alg1.l7.m1.3.3.2.2.2.1.1.1" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.cmml"><msubsup id="alg1.l7.m1.3.3.2.2.2.1.1.1.2" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.2" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.3" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.3.cmml">r</mi><mi mathsize="80%" id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.3" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2.3.cmml">i</mi></msubsup><mo fence="false" mathsize="80%" id="alg1.l7.m1.3.3.2.2.2.1.1.1.1" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.1.cmml">|</mo><msub id="alg1.l7.m1.3.3.2.2.2.1.1.1.3" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l7.m1.3.3.2.2.2.1.1.1.3.2" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.3.2.cmml">a</mi><mi mathsize="80%" id="alg1.l7.m1.3.3.2.2.2.1.1.1.3.3" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.3.3.cmml">h</mi></msub></mrow><mo maxsize="80%" minsize="80%" id="alg1.l7.m1.3.3.2.2.2.1.1.3" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo mathsize="80%" stretchy="false" id="alg1.l7.m1.4.4.4" xref="alg1.l7.m1.4.4.4.cmml">←</mo><mrow id="alg1.l7.m1.4.4.3" xref="alg1.l7.m1.4.4.3.cmml"><mrow id="alg1.l7.m1.4.4.3.3" xref="alg1.l7.m1.4.4.3.3.cmml"><mrow id="alg1.l7.m1.4.4.3.3.2" xref="alg1.l7.m1.4.4.3.3.2.cmml"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l7.m1.4.4.3.3.2.2" xref="alg1.l7.m1.4.4.3.3.2.2a.cmml">Planner</mtext><mo lspace="0em" rspace="0em" id="alg1.l7.m1.4.4.3.3.2.1" xref="alg1.l7.m1.4.4.3.3.2.1.cmml">​</mo><mrow id="alg1.l7.m1.4.4.3.3.2.3.2" xref="alg1.l7.m1.4.4.3.3.2.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l7.m1.4.4.3.3.2.3.2.1" xref="alg1.l7.m1.4.4.3.3.2.cmml">(</mo><mi mathsize="80%" id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml">G</mi><mo maxsize="80%" minsize="80%" rspace="0.055em" id="alg1.l7.m1.4.4.3.3.2.3.2.2" xref="alg1.l7.m1.4.4.3.3.2.cmml">)</mo></mrow></mrow><mo mathsize="80%" rspace="0.222em" id="alg1.l7.m1.4.4.3.3.1" xref="alg1.l7.m1.4.4.3.3.1.cmml">∗</mo><mi mathsize="80%" id="alg1.l7.m1.4.4.3.3.3" xref="alg1.l7.m1.4.4.3.3.3.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.l7.m1.4.4.3.2" xref="alg1.l7.m1.4.4.3.2.cmml">​</mo><mrow id="alg1.l7.m1.4.4.3.1.1" xref="alg1.l7.m1.4.4.3.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l7.m1.4.4.3.1.1.2" xref="alg1.l7.m1.4.4.3.1.1.1.cmml">(</mo><mrow id="alg1.l7.m1.4.4.3.1.1.1" xref="alg1.l7.m1.4.4.3.1.1.1.cmml"><mi mathsize="80%" id="alg1.l7.m1.4.4.3.1.1.1.2" xref="alg1.l7.m1.4.4.3.1.1.1.2.cmml">G</mi><mo fence="false" mathsize="80%" id="alg1.l7.m1.4.4.3.1.1.1.1" xref="alg1.l7.m1.4.4.3.1.1.1.1.cmml">|</mo><msub id="alg1.l7.m1.4.4.3.1.1.1.3" xref="alg1.l7.m1.4.4.3.1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l7.m1.4.4.3.1.1.1.3.2" xref="alg1.l7.m1.4.4.3.1.1.1.3.2.cmml">a</mi><mi mathsize="80%" id="alg1.l7.m1.4.4.3.1.1.1.3.3" xref="alg1.l7.m1.4.4.3.1.1.1.3.3.cmml">h</mi></msub></mrow><mo maxsize="80%" minsize="80%" id="alg1.l7.m1.4.4.3.1.1.3" xref="alg1.l7.m1.4.4.3.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.4b"><apply id="alg1.l7.m1.4.4.cmml" xref="alg1.l7.m1.4.4"><ci id="alg1.l7.m1.4.4.4.cmml" xref="alg1.l7.m1.4.4.4">←</ci><list id="alg1.l7.m1.3.3.2.3.cmml" xref="alg1.l7.m1.3.3.2.2"><apply id="alg1.l7.m1.2.2.1.1.1.cmml" xref="alg1.l7.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.2.2.1.1.1.1.cmml" xref="alg1.l7.m1.2.2.1.1.1">superscript</csymbol><apply id="alg1.l7.m1.2.2.1.1.1.2.cmml" xref="alg1.l7.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.2.2.1.1.1.2.1.cmml" xref="alg1.l7.m1.2.2.1.1.1">subscript</csymbol><ci id="alg1.l7.m1.2.2.1.1.1.2.2.cmml" xref="alg1.l7.m1.2.2.1.1.1.2.2">𝑔</ci><ci id="alg1.l7.m1.2.2.1.1.1.2.3.cmml" xref="alg1.l7.m1.2.2.1.1.1.2.3">𝑟</ci></apply><apply id="alg1.l7.m1.2.2.1.1.1.3.cmml" xref="alg1.l7.m1.2.2.1.1.1.3"><ci id="alg1.l7.m1.2.2.1.1.1.3.1.cmml" xref="alg1.l7.m1.2.2.1.1.1.3.1">:</ci><cn type="integer" id="alg1.l7.m1.2.2.1.1.1.3.2.cmml" xref="alg1.l7.m1.2.2.1.1.1.3.2">1</cn><ci id="alg1.l7.m1.2.2.1.1.1.3.3.cmml" xref="alg1.l7.m1.2.2.1.1.1.3.3">𝑁</ci></apply></apply><apply id="alg1.l7.m1.3.3.2.2.2.cmml" xref="alg1.l7.m1.3.3.2.2.2"><times id="alg1.l7.m1.3.3.2.2.2.2.cmml" xref="alg1.l7.m1.3.3.2.2.2.2"></times><ci id="alg1.l7.m1.3.3.2.2.2.3.cmml" xref="alg1.l7.m1.3.3.2.2.2.3">𝑃</ci><apply id="alg1.l7.m1.3.3.2.2.2.1.1.1.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1"><csymbol cd="latexml" id="alg1.l7.m1.3.3.2.2.2.1.1.1.1.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.1">conditional</csymbol><apply id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.1.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2">superscript</csymbol><apply id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.1.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2">subscript</csymbol><ci id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.2.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.2">𝑔</ci><ci id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.3.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2.2.3">𝑟</ci></apply><ci id="alg1.l7.m1.3.3.2.2.2.1.1.1.2.3.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.2.3">𝑖</ci></apply><apply id="alg1.l7.m1.3.3.2.2.2.1.1.1.3.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l7.m1.3.3.2.2.2.1.1.1.3.1.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.3">subscript</csymbol><ci id="alg1.l7.m1.3.3.2.2.2.1.1.1.3.2.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.3.2">𝑎</ci><ci id="alg1.l7.m1.3.3.2.2.2.1.1.1.3.3.cmml" xref="alg1.l7.m1.3.3.2.2.2.1.1.1.3.3">ℎ</ci></apply></apply></apply></list><apply id="alg1.l7.m1.4.4.3.cmml" xref="alg1.l7.m1.4.4.3"><times id="alg1.l7.m1.4.4.3.2.cmml" xref="alg1.l7.m1.4.4.3.2"></times><apply id="alg1.l7.m1.4.4.3.3.cmml" xref="alg1.l7.m1.4.4.3.3"><times id="alg1.l7.m1.4.4.3.3.1.cmml" xref="alg1.l7.m1.4.4.3.3.1"></times><apply id="alg1.l7.m1.4.4.3.3.2.cmml" xref="alg1.l7.m1.4.4.3.3.2"><times id="alg1.l7.m1.4.4.3.3.2.1.cmml" xref="alg1.l7.m1.4.4.3.3.2.1"></times><ci id="alg1.l7.m1.4.4.3.3.2.2a.cmml" xref="alg1.l7.m1.4.4.3.3.2.2"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l7.m1.4.4.3.3.2.2.cmml" xref="alg1.l7.m1.4.4.3.3.2.2">Planner</mtext></ci><ci id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1">𝐺</ci></apply><ci id="alg1.l7.m1.4.4.3.3.3.cmml" xref="alg1.l7.m1.4.4.3.3.3">𝑃</ci></apply><apply id="alg1.l7.m1.4.4.3.1.1.1.cmml" xref="alg1.l7.m1.4.4.3.1.1"><csymbol cd="latexml" id="alg1.l7.m1.4.4.3.1.1.1.1.cmml" xref="alg1.l7.m1.4.4.3.1.1.1.1">conditional</csymbol><ci id="alg1.l7.m1.4.4.3.1.1.1.2.cmml" xref="alg1.l7.m1.4.4.3.1.1.1.2">𝐺</ci><apply id="alg1.l7.m1.4.4.3.1.1.1.3.cmml" xref="alg1.l7.m1.4.4.3.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l7.m1.4.4.3.1.1.1.3.1.cmml" xref="alg1.l7.m1.4.4.3.1.1.1.3">subscript</csymbol><ci id="alg1.l7.m1.4.4.3.1.1.1.3.2.cmml" xref="alg1.l7.m1.4.4.3.1.1.1.3.2">𝑎</ci><ci id="alg1.l7.m1.4.4.3.1.1.1.3.3.cmml" xref="alg1.l7.m1.4.4.3.1.1.1.3.3">ℎ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.4c">g_{r}^{1:N},P(g_{r}^{i}|a_{h})\leftarrow\textbf{Planner}(G)*P(G|a_{h})</annotation></semantics></math><span id="alg1.l7.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l7.1" class="ltx_text" style="font-size:80%;float:right;"><math id="alg1.l7.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l7.1.m1.1a"><mo id="alg1.l7.1.m1.1.1" xref="alg1.l7.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l7.1.m1.1b"><ci id="alg1.l7.1.m1.1.1.cmml" xref="alg1.l7.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.1.m1.1c">\triangleright</annotation></semantics></math> Sample N most likely robot subgoals
</span>
</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span><span id="alg1.l8.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l8.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg1.l8.4" class="ltx_text" style="font-size:80%;"> i = 1:N </span><span id="alg1.l8.5" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg1.l8.6" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span><span id="alg1.l9.2" class="ltx_text" style="font-size:80%;">        </span><math id="alg1.l9.m1.3" class="ltx_Math" alttext="P(g_{r}^{i}|T_{s})\leftarrow\textbf{LLM}(g_{r}^{i}|T_{s},\mathcal{E})" display="inline"><semantics id="alg1.l9.m1.3a"><mrow id="alg1.l9.m1.3.3" xref="alg1.l9.m1.3.3.cmml"><mrow id="alg1.l9.m1.2.2.1" xref="alg1.l9.m1.2.2.1.cmml"><mi mathsize="80%" id="alg1.l9.m1.2.2.1.3" xref="alg1.l9.m1.2.2.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg1.l9.m1.2.2.1.2" xref="alg1.l9.m1.2.2.1.2.cmml">​</mo><mrow id="alg1.l9.m1.2.2.1.1.1" xref="alg1.l9.m1.2.2.1.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l9.m1.2.2.1.1.1.2" xref="alg1.l9.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="alg1.l9.m1.2.2.1.1.1.1" xref="alg1.l9.m1.2.2.1.1.1.1.cmml"><msubsup id="alg1.l9.m1.2.2.1.1.1.1.2" xref="alg1.l9.m1.2.2.1.1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l9.m1.2.2.1.1.1.1.2.2.2" xref="alg1.l9.m1.2.2.1.1.1.1.2.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l9.m1.2.2.1.1.1.1.2.2.3" xref="alg1.l9.m1.2.2.1.1.1.1.2.2.3.cmml">r</mi><mi mathsize="80%" id="alg1.l9.m1.2.2.1.1.1.1.2.3" xref="alg1.l9.m1.2.2.1.1.1.1.2.3.cmml">i</mi></msubsup><mo fence="false" mathsize="80%" id="alg1.l9.m1.2.2.1.1.1.1.1" xref="alg1.l9.m1.2.2.1.1.1.1.1.cmml">|</mo><msub id="alg1.l9.m1.2.2.1.1.1.1.3" xref="alg1.l9.m1.2.2.1.1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l9.m1.2.2.1.1.1.1.3.2" xref="alg1.l9.m1.2.2.1.1.1.1.3.2.cmml">T</mi><mi mathsize="80%" id="alg1.l9.m1.2.2.1.1.1.1.3.3" xref="alg1.l9.m1.2.2.1.1.1.1.3.3.cmml">s</mi></msub></mrow><mo maxsize="80%" minsize="80%" id="alg1.l9.m1.2.2.1.1.1.3" xref="alg1.l9.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo mathsize="80%" stretchy="false" id="alg1.l9.m1.3.3.3" xref="alg1.l9.m1.3.3.3.cmml">←</mo><mrow id="alg1.l9.m1.3.3.2" xref="alg1.l9.m1.3.3.2.cmml"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l9.m1.3.3.2.3" xref="alg1.l9.m1.3.3.2.3a.cmml">LLM</mtext><mo lspace="0em" rspace="0em" id="alg1.l9.m1.3.3.2.2" xref="alg1.l9.m1.3.3.2.2.cmml">​</mo><mrow id="alg1.l9.m1.3.3.2.1.1" xref="alg1.l9.m1.3.3.2.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l9.m1.3.3.2.1.1.2" xref="alg1.l9.m1.3.3.2.1.1.1.cmml">(</mo><mrow id="alg1.l9.m1.3.3.2.1.1.1" xref="alg1.l9.m1.3.3.2.1.1.1.cmml"><msubsup id="alg1.l9.m1.3.3.2.1.1.1.3" xref="alg1.l9.m1.3.3.2.1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l9.m1.3.3.2.1.1.1.3.2.2" xref="alg1.l9.m1.3.3.2.1.1.1.3.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l9.m1.3.3.2.1.1.1.3.2.3" xref="alg1.l9.m1.3.3.2.1.1.1.3.2.3.cmml">r</mi><mi mathsize="80%" id="alg1.l9.m1.3.3.2.1.1.1.3.3" xref="alg1.l9.m1.3.3.2.1.1.1.3.3.cmml">i</mi></msubsup><mo fence="false" mathsize="80%" id="alg1.l9.m1.3.3.2.1.1.1.2" xref="alg1.l9.m1.3.3.2.1.1.1.2.cmml">|</mo><mrow id="alg1.l9.m1.3.3.2.1.1.1.1.1" xref="alg1.l9.m1.3.3.2.1.1.1.1.2.cmml"><msub id="alg1.l9.m1.3.3.2.1.1.1.1.1.1" xref="alg1.l9.m1.3.3.2.1.1.1.1.1.1.cmml"><mi mathsize="80%" id="alg1.l9.m1.3.3.2.1.1.1.1.1.1.2" xref="alg1.l9.m1.3.3.2.1.1.1.1.1.1.2.cmml">T</mi><mi mathsize="80%" id="alg1.l9.m1.3.3.2.1.1.1.1.1.1.3" xref="alg1.l9.m1.3.3.2.1.1.1.1.1.1.3.cmml">s</mi></msub><mo mathsize="80%" id="alg1.l9.m1.3.3.2.1.1.1.1.1.2" xref="alg1.l9.m1.3.3.2.1.1.1.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml">ℰ</mi></mrow></mrow><mo maxsize="80%" minsize="80%" id="alg1.l9.m1.3.3.2.1.1.3" xref="alg1.l9.m1.3.3.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.3b"><apply id="alg1.l9.m1.3.3.cmml" xref="alg1.l9.m1.3.3"><ci id="alg1.l9.m1.3.3.3.cmml" xref="alg1.l9.m1.3.3.3">←</ci><apply id="alg1.l9.m1.2.2.1.cmml" xref="alg1.l9.m1.2.2.1"><times id="alg1.l9.m1.2.2.1.2.cmml" xref="alg1.l9.m1.2.2.1.2"></times><ci id="alg1.l9.m1.2.2.1.3.cmml" xref="alg1.l9.m1.2.2.1.3">𝑃</ci><apply id="alg1.l9.m1.2.2.1.1.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1"><csymbol cd="latexml" id="alg1.l9.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1">conditional</csymbol><apply id="alg1.l9.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.1.2.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2">superscript</csymbol><apply id="alg1.l9.m1.2.2.1.1.1.1.2.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.1.2.2.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2">subscript</csymbol><ci id="alg1.l9.m1.2.2.1.1.1.1.2.2.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2.2.2">𝑔</ci><ci id="alg1.l9.m1.2.2.1.1.1.1.2.2.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2.2.3">𝑟</ci></apply><ci id="alg1.l9.m1.2.2.1.1.1.1.2.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2.3">𝑖</ci></apply><apply id="alg1.l9.m1.2.2.1.1.1.1.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.1.3.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="alg1.l9.m1.2.2.1.1.1.1.3.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.3.2">𝑇</ci><ci id="alg1.l9.m1.2.2.1.1.1.1.3.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.3.3">𝑠</ci></apply></apply></apply><apply id="alg1.l9.m1.3.3.2.cmml" xref="alg1.l9.m1.3.3.2"><times id="alg1.l9.m1.3.3.2.2.cmml" xref="alg1.l9.m1.3.3.2.2"></times><ci id="alg1.l9.m1.3.3.2.3a.cmml" xref="alg1.l9.m1.3.3.2.3"><mtext class="ltx_mathvariant_bold" mathsize="80%" id="alg1.l9.m1.3.3.2.3.cmml" xref="alg1.l9.m1.3.3.2.3">LLM</mtext></ci><apply id="alg1.l9.m1.3.3.2.1.1.1.cmml" xref="alg1.l9.m1.3.3.2.1.1"><csymbol cd="latexml" id="alg1.l9.m1.3.3.2.1.1.1.2.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.2">conditional</csymbol><apply id="alg1.l9.m1.3.3.2.1.1.1.3.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.2.1.1.1.3.1.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.3">superscript</csymbol><apply id="alg1.l9.m1.3.3.2.1.1.1.3.2.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.2.1.1.1.3.2.1.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.3">subscript</csymbol><ci id="alg1.l9.m1.3.3.2.1.1.1.3.2.2.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.3.2.2">𝑔</ci><ci id="alg1.l9.m1.3.3.2.1.1.1.3.2.3.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.3.2.3">𝑟</ci></apply><ci id="alg1.l9.m1.3.3.2.1.1.1.3.3.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.3.3">𝑖</ci></apply><list id="alg1.l9.m1.3.3.2.1.1.1.1.2.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.1.1"><apply id="alg1.l9.m1.3.3.2.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.2.1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.3.3.2.1.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.1.1.1.2">𝑇</ci><ci id="alg1.l9.m1.3.3.2.1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.3.3.2.1.1.1.1.1.1.3">𝑠</ci></apply><ci id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1">ℰ</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.3c">P(g_{r}^{i}|T_{s})\leftarrow\textbf{LLM}(g_{r}^{i}|T_{s},\mathcal{E})</annotation></semantics></math><span id="alg1.l9.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span><span id="alg1.l10.2" class="ltx_text" style="font-size:80%;">        </span><math id="alg1.l10.m1.3" class="ltx_Math" alttext="P(g_{r}^{i}|a_{h},T_{s})\propto P(a_{h}|g_{r}^{i})*P(T_{s}|g_{r}^{i})" display="inline"><semantics id="alg1.l10.m1.3a"><mrow id="alg1.l10.m1.3.3" xref="alg1.l10.m1.3.3.cmml"><mrow id="alg1.l10.m1.1.1.1" xref="alg1.l10.m1.1.1.1.cmml"><mi mathsize="80%" id="alg1.l10.m1.1.1.1.3" xref="alg1.l10.m1.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.1.1.1.2" xref="alg1.l10.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.l10.m1.1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l10.m1.1.1.1.1.1.2" xref="alg1.l10.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l10.m1.1.1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.1.1.cmml"><msubsup id="alg1.l10.m1.1.1.1.1.1.1.4" xref="alg1.l10.m1.1.1.1.1.1.1.4.cmml"><mi mathsize="80%" id="alg1.l10.m1.1.1.1.1.1.1.4.2.2" xref="alg1.l10.m1.1.1.1.1.1.1.4.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l10.m1.1.1.1.1.1.1.4.2.3" xref="alg1.l10.m1.1.1.1.1.1.1.4.2.3.cmml">r</mi><mi mathsize="80%" id="alg1.l10.m1.1.1.1.1.1.1.4.3" xref="alg1.l10.m1.1.1.1.1.1.1.4.3.cmml">i</mi></msubsup><mo fence="false" mathsize="80%" id="alg1.l10.m1.1.1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="alg1.l10.m1.1.1.1.1.1.1.2.2" xref="alg1.l10.m1.1.1.1.1.1.1.2.3.cmml"><msub id="alg1.l10.m1.1.1.1.1.1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.1.1.1.1.1.cmml"><mi mathsize="80%" id="alg1.l10.m1.1.1.1.1.1.1.1.1.1.2" xref="alg1.l10.m1.1.1.1.1.1.1.1.1.1.2.cmml">a</mi><mi mathsize="80%" id="alg1.l10.m1.1.1.1.1.1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.1.1.1.1.1.1.3.cmml">h</mi></msub><mo mathsize="80%" id="alg1.l10.m1.1.1.1.1.1.1.2.2.3" xref="alg1.l10.m1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="alg1.l10.m1.1.1.1.1.1.1.2.2.2" xref="alg1.l10.m1.1.1.1.1.1.1.2.2.2.cmml"><mi mathsize="80%" id="alg1.l10.m1.1.1.1.1.1.1.2.2.2.2" xref="alg1.l10.m1.1.1.1.1.1.1.2.2.2.2.cmml">T</mi><mi mathsize="80%" id="alg1.l10.m1.1.1.1.1.1.1.2.2.2.3" xref="alg1.l10.m1.1.1.1.1.1.1.2.2.2.3.cmml">s</mi></msub></mrow></mrow><mo maxsize="80%" minsize="80%" id="alg1.l10.m1.1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo mathsize="80%" id="alg1.l10.m1.3.3.4" xref="alg1.l10.m1.3.3.4.cmml">∝</mo><mrow id="alg1.l10.m1.3.3.3" xref="alg1.l10.m1.3.3.3.cmml"><mrow id="alg1.l10.m1.2.2.2.1" xref="alg1.l10.m1.2.2.2.1.cmml"><mrow id="alg1.l10.m1.2.2.2.1.1" xref="alg1.l10.m1.2.2.2.1.1.cmml"><mi mathsize="80%" id="alg1.l10.m1.2.2.2.1.1.3" xref="alg1.l10.m1.2.2.2.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.2.2.2.1.1.2" xref="alg1.l10.m1.2.2.2.1.1.2.cmml">​</mo><mrow id="alg1.l10.m1.2.2.2.1.1.1.1" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l10.m1.2.2.2.1.1.1.1.2" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l10.m1.2.2.2.1.1.1.1.1" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.cmml"><msub id="alg1.l10.m1.2.2.2.1.1.1.1.1.2" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.2.cmml"><mi mathsize="80%" id="alg1.l10.m1.2.2.2.1.1.1.1.1.2.2" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.2.2.cmml">a</mi><mi mathsize="80%" id="alg1.l10.m1.2.2.2.1.1.1.1.1.2.3" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.2.3.cmml">h</mi></msub><mo fence="false" mathsize="80%" id="alg1.l10.m1.2.2.2.1.1.1.1.1.1" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.1.cmml">|</mo><msubsup id="alg1.l10.m1.2.2.2.1.1.1.1.1.3" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3.cmml"><mi mathsize="80%" id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.2" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.3" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.3.cmml">r</mi><mi mathsize="80%" id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.3" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3.3.cmml">i</mi></msubsup></mrow><mo maxsize="80%" minsize="80%" rspace="0.055em" id="alg1.l10.m1.2.2.2.1.1.1.1.3" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo mathsize="80%" rspace="0.222em" id="alg1.l10.m1.2.2.2.1.2" xref="alg1.l10.m1.2.2.2.1.2.cmml">∗</mo><mi mathsize="80%" id="alg1.l10.m1.2.2.2.1.3" xref="alg1.l10.m1.2.2.2.1.3.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.l10.m1.3.3.3.3" xref="alg1.l10.m1.3.3.3.3.cmml">​</mo><mrow id="alg1.l10.m1.3.3.3.2.1" xref="alg1.l10.m1.3.3.3.2.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l10.m1.3.3.3.2.1.2" xref="alg1.l10.m1.3.3.3.2.1.1.cmml">(</mo><mrow id="alg1.l10.m1.3.3.3.2.1.1" xref="alg1.l10.m1.3.3.3.2.1.1.cmml"><msub id="alg1.l10.m1.3.3.3.2.1.1.2" xref="alg1.l10.m1.3.3.3.2.1.1.2.cmml"><mi mathsize="80%" id="alg1.l10.m1.3.3.3.2.1.1.2.2" xref="alg1.l10.m1.3.3.3.2.1.1.2.2.cmml">T</mi><mi mathsize="80%" id="alg1.l10.m1.3.3.3.2.1.1.2.3" xref="alg1.l10.m1.3.3.3.2.1.1.2.3.cmml">s</mi></msub><mo fence="false" mathsize="80%" id="alg1.l10.m1.3.3.3.2.1.1.1" xref="alg1.l10.m1.3.3.3.2.1.1.1.cmml">|</mo><msubsup id="alg1.l10.m1.3.3.3.2.1.1.3" xref="alg1.l10.m1.3.3.3.2.1.1.3.cmml"><mi mathsize="80%" id="alg1.l10.m1.3.3.3.2.1.1.3.2.2" xref="alg1.l10.m1.3.3.3.2.1.1.3.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l10.m1.3.3.3.2.1.1.3.2.3" xref="alg1.l10.m1.3.3.3.2.1.1.3.2.3.cmml">r</mi><mi mathsize="80%" id="alg1.l10.m1.3.3.3.2.1.1.3.3" xref="alg1.l10.m1.3.3.3.2.1.1.3.3.cmml">i</mi></msubsup></mrow><mo maxsize="80%" minsize="80%" id="alg1.l10.m1.3.3.3.2.1.3" xref="alg1.l10.m1.3.3.3.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.3b"><apply id="alg1.l10.m1.3.3.cmml" xref="alg1.l10.m1.3.3"><csymbol cd="latexml" id="alg1.l10.m1.3.3.4.cmml" xref="alg1.l10.m1.3.3.4">proportional-to</csymbol><apply id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1"><times id="alg1.l10.m1.1.1.1.2.cmml" xref="alg1.l10.m1.1.1.1.2"></times><ci id="alg1.l10.m1.1.1.1.3.cmml" xref="alg1.l10.m1.1.1.1.3">𝑃</ci><apply id="alg1.l10.m1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1"><csymbol cd="latexml" id="alg1.l10.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.3">conditional</csymbol><apply id="alg1.l10.m1.1.1.1.1.1.1.4.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.1.1.1.4.1.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.4">superscript</csymbol><apply id="alg1.l10.m1.1.1.1.1.1.1.4.2.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.1.1.1.4.2.1.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="alg1.l10.m1.1.1.1.1.1.1.4.2.2.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.4.2.2">𝑔</ci><ci id="alg1.l10.m1.1.1.1.1.1.1.4.2.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.4.2.3">𝑟</ci></apply><ci id="alg1.l10.m1.1.1.1.1.1.1.4.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="alg1.l10.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.2.2"><apply id="alg1.l10.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l10.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.1.1.1.2">𝑎</ci><ci id="alg1.l10.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.1.1.1.3">ℎ</ci></apply><apply id="alg1.l10.m1.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="alg1.l10.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.2.2.2.2">𝑇</ci><ci id="alg1.l10.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.2.2.2.3">𝑠</ci></apply></list></apply></apply><apply id="alg1.l10.m1.3.3.3.cmml" xref="alg1.l10.m1.3.3.3"><times id="alg1.l10.m1.3.3.3.3.cmml" xref="alg1.l10.m1.3.3.3.3"></times><apply id="alg1.l10.m1.2.2.2.1.cmml" xref="alg1.l10.m1.2.2.2.1"><times id="alg1.l10.m1.2.2.2.1.2.cmml" xref="alg1.l10.m1.2.2.2.1.2"></times><apply id="alg1.l10.m1.2.2.2.1.1.cmml" xref="alg1.l10.m1.2.2.2.1.1"><times id="alg1.l10.m1.2.2.2.1.1.2.cmml" xref="alg1.l10.m1.2.2.2.1.1.2"></times><ci id="alg1.l10.m1.2.2.2.1.1.3.cmml" xref="alg1.l10.m1.2.2.2.1.1.3">𝑃</ci><apply id="alg1.l10.m1.2.2.2.1.1.1.1.1.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1"><csymbol cd="latexml" id="alg1.l10.m1.2.2.2.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.1">conditional</csymbol><apply id="alg1.l10.m1.2.2.2.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l10.m1.2.2.2.1.1.1.1.1.2.1.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.2">subscript</csymbol><ci id="alg1.l10.m1.2.2.2.1.1.1.1.1.2.2.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.2.2">𝑎</ci><ci id="alg1.l10.m1.2.2.2.1.1.1.1.1.2.3.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.2.3">ℎ</ci></apply><apply id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.1.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3">superscript</csymbol><apply id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.1.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.2.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.2">𝑔</ci><ci id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.3.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3.2.3">𝑟</ci></apply><ci id="alg1.l10.m1.2.2.2.1.1.1.1.1.3.3.cmml" xref="alg1.l10.m1.2.2.2.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><ci id="alg1.l10.m1.2.2.2.1.3.cmml" xref="alg1.l10.m1.2.2.2.1.3">𝑃</ci></apply><apply id="alg1.l10.m1.3.3.3.2.1.1.cmml" xref="alg1.l10.m1.3.3.3.2.1"><csymbol cd="latexml" id="alg1.l10.m1.3.3.3.2.1.1.1.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.1">conditional</csymbol><apply id="alg1.l10.m1.3.3.3.2.1.1.2.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.2"><csymbol cd="ambiguous" id="alg1.l10.m1.3.3.3.2.1.1.2.1.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.2">subscript</csymbol><ci id="alg1.l10.m1.3.3.3.2.1.1.2.2.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.2.2">𝑇</ci><ci id="alg1.l10.m1.3.3.3.2.1.1.2.3.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.2.3">𝑠</ci></apply><apply id="alg1.l10.m1.3.3.3.2.1.1.3.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.3"><csymbol cd="ambiguous" id="alg1.l10.m1.3.3.3.2.1.1.3.1.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.3">superscript</csymbol><apply id="alg1.l10.m1.3.3.3.2.1.1.3.2.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.3"><csymbol cd="ambiguous" id="alg1.l10.m1.3.3.3.2.1.1.3.2.1.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.3">subscript</csymbol><ci id="alg1.l10.m1.3.3.3.2.1.1.3.2.2.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.3.2.2">𝑔</ci><ci id="alg1.l10.m1.3.3.3.2.1.1.3.2.3.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.3.2.3">𝑟</ci></apply><ci id="alg1.l10.m1.3.3.3.2.1.1.3.3.cmml" xref="alg1.l10.m1.3.3.3.2.1.1.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.3c">P(g_{r}^{i}|a_{h},T_{s})\propto P(a_{h}|g_{r}^{i})*P(T_{s}|g_{r}^{i})</annotation></semantics></math><span id="alg1.l10.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span><span id="alg1.l11.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg1.l11.3" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l11.4" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l11.5" class="ltx_text ltx_font_bold" style="font-size:80%;">forreturn</span><span id="alg1.l11.6" class="ltx_text" style="font-size:80%;"> </span><math id="alg1.l11.m1.1" class="ltx_Math" alttext="\operatorname*{argmax}_{g_{r}^{i}}P(g_{r}^{i}|a_{h},T_{s})" display="inline"><semantics id="alg1.l11.m1.1a"><mrow id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml"><mrow id="alg1.l11.m1.1.1.3" xref="alg1.l11.m1.1.1.3.cmml"><msub id="alg1.l11.m1.1.1.3.1" xref="alg1.l11.m1.1.1.3.1.cmml"><mo mathsize="80%" id="alg1.l11.m1.1.1.3.1.2" xref="alg1.l11.m1.1.1.3.1.2.cmml">argmax</mo><msubsup id="alg1.l11.m1.1.1.3.1.3" xref="alg1.l11.m1.1.1.3.1.3.cmml"><mi mathsize="80%" id="alg1.l11.m1.1.1.3.1.3.2.2" xref="alg1.l11.m1.1.1.3.1.3.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l11.m1.1.1.3.1.3.2.3" xref="alg1.l11.m1.1.1.3.1.3.2.3.cmml">r</mi><mi mathsize="80%" id="alg1.l11.m1.1.1.3.1.3.3" xref="alg1.l11.m1.1.1.3.1.3.3.cmml">i</mi></msubsup></msub><mi mathsize="80%" id="alg1.l11.m1.1.1.3.2" xref="alg1.l11.m1.1.1.3.2.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.l11.m1.1.1.2" xref="alg1.l11.m1.1.1.2.cmml">​</mo><mrow id="alg1.l11.m1.1.1.1.1" xref="alg1.l11.m1.1.1.1.1.1.cmml"><mo maxsize="80%" minsize="80%" id="alg1.l11.m1.1.1.1.1.2" xref="alg1.l11.m1.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l11.m1.1.1.1.1.1" xref="alg1.l11.m1.1.1.1.1.1.cmml"><msubsup id="alg1.l11.m1.1.1.1.1.1.4" xref="alg1.l11.m1.1.1.1.1.1.4.cmml"><mi mathsize="80%" id="alg1.l11.m1.1.1.1.1.1.4.2.2" xref="alg1.l11.m1.1.1.1.1.1.4.2.2.cmml">g</mi><mi mathsize="80%" id="alg1.l11.m1.1.1.1.1.1.4.2.3" xref="alg1.l11.m1.1.1.1.1.1.4.2.3.cmml">r</mi><mi mathsize="80%" id="alg1.l11.m1.1.1.1.1.1.4.3" xref="alg1.l11.m1.1.1.1.1.1.4.3.cmml">i</mi></msubsup><mo fence="false" mathsize="80%" id="alg1.l11.m1.1.1.1.1.1.3" xref="alg1.l11.m1.1.1.1.1.1.3.cmml">|</mo><mrow id="alg1.l11.m1.1.1.1.1.1.2.2" xref="alg1.l11.m1.1.1.1.1.1.2.3.cmml"><msub id="alg1.l11.m1.1.1.1.1.1.1.1.1" xref="alg1.l11.m1.1.1.1.1.1.1.1.1.cmml"><mi mathsize="80%" id="alg1.l11.m1.1.1.1.1.1.1.1.1.2" xref="alg1.l11.m1.1.1.1.1.1.1.1.1.2.cmml">a</mi><mi mathsize="80%" id="alg1.l11.m1.1.1.1.1.1.1.1.1.3" xref="alg1.l11.m1.1.1.1.1.1.1.1.1.3.cmml">h</mi></msub><mo mathsize="80%" id="alg1.l11.m1.1.1.1.1.1.2.2.3" xref="alg1.l11.m1.1.1.1.1.1.2.3.cmml">,</mo><msub id="alg1.l11.m1.1.1.1.1.1.2.2.2" xref="alg1.l11.m1.1.1.1.1.1.2.2.2.cmml"><mi mathsize="80%" id="alg1.l11.m1.1.1.1.1.1.2.2.2.2" xref="alg1.l11.m1.1.1.1.1.1.2.2.2.2.cmml">T</mi><mi mathsize="80%" id="alg1.l11.m1.1.1.1.1.1.2.2.2.3" xref="alg1.l11.m1.1.1.1.1.1.2.2.2.3.cmml">s</mi></msub></mrow></mrow><mo maxsize="80%" minsize="80%" id="alg1.l11.m1.1.1.1.1.3" xref="alg1.l11.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><apply id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1"><times id="alg1.l11.m1.1.1.2.cmml" xref="alg1.l11.m1.1.1.2"></times><apply id="alg1.l11.m1.1.1.3.cmml" xref="alg1.l11.m1.1.1.3"><apply id="alg1.l11.m1.1.1.3.1.cmml" xref="alg1.l11.m1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.3.1.1.cmml" xref="alg1.l11.m1.1.1.3.1">subscript</csymbol><ci id="alg1.l11.m1.1.1.3.1.2.cmml" xref="alg1.l11.m1.1.1.3.1.2">argmax</ci><apply id="alg1.l11.m1.1.1.3.1.3.cmml" xref="alg1.l11.m1.1.1.3.1.3"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.3.1.3.1.cmml" xref="alg1.l11.m1.1.1.3.1.3">superscript</csymbol><apply id="alg1.l11.m1.1.1.3.1.3.2.cmml" xref="alg1.l11.m1.1.1.3.1.3"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.3.1.3.2.1.cmml" xref="alg1.l11.m1.1.1.3.1.3">subscript</csymbol><ci id="alg1.l11.m1.1.1.3.1.3.2.2.cmml" xref="alg1.l11.m1.1.1.3.1.3.2.2">𝑔</ci><ci id="alg1.l11.m1.1.1.3.1.3.2.3.cmml" xref="alg1.l11.m1.1.1.3.1.3.2.3">𝑟</ci></apply><ci id="alg1.l11.m1.1.1.3.1.3.3.cmml" xref="alg1.l11.m1.1.1.3.1.3.3">𝑖</ci></apply></apply><ci id="alg1.l11.m1.1.1.3.2.cmml" xref="alg1.l11.m1.1.1.3.2">𝑃</ci></apply><apply id="alg1.l11.m1.1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1"><csymbol cd="latexml" id="alg1.l11.m1.1.1.1.1.1.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.3">conditional</csymbol><apply id="alg1.l11.m1.1.1.1.1.1.4.cmml" xref="alg1.l11.m1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.1.1.1.4.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.4">superscript</csymbol><apply id="alg1.l11.m1.1.1.1.1.1.4.2.cmml" xref="alg1.l11.m1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.1.1.1.4.2.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.4">subscript</csymbol><ci id="alg1.l11.m1.1.1.1.1.1.4.2.2.cmml" xref="alg1.l11.m1.1.1.1.1.1.4.2.2">𝑔</ci><ci id="alg1.l11.m1.1.1.1.1.1.4.2.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.4.2.3">𝑟</ci></apply><ci id="alg1.l11.m1.1.1.1.1.1.4.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="alg1.l11.m1.1.1.1.1.1.2.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.2.2"><apply id="alg1.l11.m1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l11.m1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l11.m1.1.1.1.1.1.1.1.1.2">𝑎</ci><ci id="alg1.l11.m1.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.1.1.1.3">ℎ</ci></apply><apply id="alg1.l11.m1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l11.m1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.1.1.1.2.2.2.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="alg1.l11.m1.1.1.1.1.1.2.2.2.2.cmml" xref="alg1.l11.m1.1.1.1.1.1.2.2.2.2">𝑇</ci><ci id="alg1.l11.m1.1.1.1.1.1.2.2.2.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.2.2.2.3">𝑠</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">\operatorname*{argmax}_{g_{r}^{i}}P(g_{r}^{i}|a_{h},T_{s})</annotation></semantics></math><span id="alg1.l11.7" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span><span id="alg1.l12.2" class="ltx_text ltx_font_bold" style="font-size:80%;">end</span><span id="alg1.l12.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg1.l12.4" class="ltx_text ltx_font_bold" style="font-size:80%;">if</span>
</div>
</div>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS2.4.1.1" class="ltx_text">III-B</span> </span><span id="S3.SS2.5.2" class="ltx_text ltx_font_italic">Spoken Instruction Following with Theory of Mind (SIFToM)</span>
</h3>

<section id="S3.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS2.SSS1.4.1.1" class="ltx_text">III-B</span>1 </span>Model Overview</h4>

<div id="S3.SS2.SSS1.p1" class="ltx_para">
<p id="S3.SS2.SSS1.p1.1" class="ltx_p">Inspired by human perceptual processing, the SIFToM model follows a two-stream approach (Fig. <a href="#S3.F2" title="Figure 2 ‣ III-A Problem Formulation ‣ III Methods ‣ SIFToM: Robust Spoken Instruction Following through Theory of Mind" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>): In the bottom-up stream, the audio input is transcribed to words and converted to a symbolic robot subgoal. In the top-down stream, the model first infers the human goal and plans from visual observations, then uses this context to predict the likely robot subgoals.</p>
</div>
<div id="S3.SS2.SSS1.p2" class="ltx_para">
<p id="S3.SS2.SSS1.p2.3" class="ltx_p">The SIFToM algorithm is shown in Algorithm <a href="#alg1" title="Algorithm 1 ‣ III-A Problem Formulation ‣ III Methods ‣ SIFToM: Robust Spoken Instruction Following through Theory of Mind" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The model first starts with the speech input from the bottom-up stream. the speech is processed by an ASR system and converted to a symbolic robot goal <math id="S3.SS2.SSS1.p2.1.m1.1" class="ltx_Math" alttext="g_{r}" display="inline"><semantics id="S3.SS2.SSS1.p2.1.m1.1a"><msub id="S3.SS2.SSS1.p2.1.m1.1.1" xref="S3.SS2.SSS1.p2.1.m1.1.1.cmml"><mi id="S3.SS2.SSS1.p2.1.m1.1.1.2" xref="S3.SS2.SSS1.p2.1.m1.1.1.2.cmml">g</mi><mi id="S3.SS2.SSS1.p2.1.m1.1.1.3" xref="S3.SS2.SSS1.p2.1.m1.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.1.m1.1b"><apply id="S3.SS2.SSS1.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p2.1.m1.1.1.1.cmml" xref="S3.SS2.SSS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p2.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p2.1.m1.1.1.2">𝑔</ci><ci id="S3.SS2.SSS1.p2.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p2.1.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.1.m1.1c">g_{r}</annotation></semantics></math> with an LLM (llama-3.1 70B) with token probability <math id="S3.SS2.SSS1.p2.2.m2.1" class="ltx_Math" alttext="P(g_{r}|T_{s})" display="inline"><semantics id="S3.SS2.SSS1.p2.2.m2.1a"><mrow id="S3.SS2.SSS1.p2.2.m2.1.1" xref="S3.SS2.SSS1.p2.2.m2.1.1.cmml"><mi id="S3.SS2.SSS1.p2.2.m2.1.1.3" xref="S3.SS2.SSS1.p2.2.m2.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p2.2.m2.1.1.2" xref="S3.SS2.SSS1.p2.2.m2.1.1.2.cmml">​</mo><mrow id="S3.SS2.SSS1.p2.2.m2.1.1.1.1" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.2" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.cmml"><msub id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.cmml"><mi id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.2.cmml">g</mi><mi id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.3.cmml">r</mi></msub><mo fence="false" id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.1" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.cmml"><mi id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.2" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.2.cmml">T</mi><mi id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.3" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.3.cmml">s</mi></msub></mrow><mo stretchy="false" id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.3" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.2.m2.1b"><apply id="S3.SS2.SSS1.p2.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1"><times id="S3.SS2.SSS1.p2.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.2"></times><ci id="S3.SS2.SSS1.p2.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.3">𝑃</ci><apply id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.2">𝑔</ci><ci id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.2.3">𝑟</ci></apply><apply id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.2">𝑇</ci><ci id="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p2.2.m2.1.1.1.1.1.3.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.2.m2.1c">P(g_{r}|T_{s})</annotation></semantics></math>. If the output is plausible (The goal is valid and <math id="S3.SS2.SSS1.p2.3.m3.1" class="ltx_Math" alttext="P(g_{r}|T_{s})&gt;\theta" display="inline"><semantics id="S3.SS2.SSS1.p2.3.m3.1a"><mrow id="S3.SS2.SSS1.p2.3.m3.1.1" xref="S3.SS2.SSS1.p2.3.m3.1.1.cmml"><mrow id="S3.SS2.SSS1.p2.3.m3.1.1.1" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.cmml"><mi id="S3.SS2.SSS1.p2.3.m3.1.1.1.3" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p2.3.m3.1.1.1.2" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.2" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.cmml"><msub id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.cmml"><mi id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.2.cmml">g</mi><mi id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.3.cmml">r</mi></msub><mo fence="false" id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.1" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.2" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.2.cmml">T</mi><mi id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.3" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.3.cmml">s</mi></msub></mrow><mo stretchy="false" id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.3" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.SSS1.p2.3.m3.1.1.2" xref="S3.SS2.SSS1.p2.3.m3.1.1.2.cmml">&gt;</mo><mi id="S3.SS2.SSS1.p2.3.m3.1.1.3" xref="S3.SS2.SSS1.p2.3.m3.1.1.3.cmml">θ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p2.3.m3.1b"><apply id="S3.SS2.SSS1.p2.3.m3.1.1.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1"><gt id="S3.SS2.SSS1.p2.3.m3.1.1.2.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.2"></gt><apply id="S3.SS2.SSS1.p2.3.m3.1.1.1.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1"><times id="S3.SS2.SSS1.p2.3.m3.1.1.1.2.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.2"></times><ci id="S3.SS2.SSS1.p2.3.m3.1.1.1.3.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.3">𝑃</ci><apply id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.2">𝑔</ci><ci id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.2.3">𝑟</ci></apply><apply id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.2">𝑇</ci><ci id="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.1.1.1.1.3.3">𝑠</ci></apply></apply></apply><ci id="S3.SS2.SSS1.p2.3.m3.1.1.3.cmml" xref="S3.SS2.SSS1.p2.3.m3.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p2.3.m3.1c">P(g_{r}|T_{s})&gt;\theta</annotation></semantics></math>), the model outputs the robot goal. Otherwise, the model proceeds to the slower context-driven top-down stream of processing.</p>
</div>
<div id="S3.SS2.SSS1.p3" class="ltx_para">
<p id="S3.SS2.SSS1.p3.2" class="ltx_p">In the top-down processing stream, the model performs inverse planning to infer K most likely joint goal with probability <math id="S3.SS2.SSS1.p3.1.m1.1" class="ltx_Math" alttext="P(G^{i}|a_{h})" display="inline"><semantics id="S3.SS2.SSS1.p3.1.m1.1a"><mrow id="S3.SS2.SSS1.p3.1.m1.1.1" xref="S3.SS2.SSS1.p3.1.m1.1.1.cmml"><mi id="S3.SS2.SSS1.p3.1.m1.1.1.3" xref="S3.SS2.SSS1.p3.1.m1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p3.1.m1.1.1.2" xref="S3.SS2.SSS1.p3.1.m1.1.1.2.cmml">​</mo><mrow id="S3.SS2.SSS1.p3.1.m1.1.1.1.1" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.2" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml"><msup id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.cmml"><mi id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.2.cmml">G</mi><mi id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.3.cmml">i</mi></msup><mo fence="false" id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.1" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.2" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.2.cmml">a</mi><mi id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.3" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.3.cmml">h</mi></msub></mrow><mo stretchy="false" id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.3" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p3.1.m1.1b"><apply id="S3.SS2.SSS1.p3.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1"><times id="S3.SS2.SSS1.p3.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.2"></times><ci id="S3.SS2.SSS1.p3.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.3">𝑃</ci><apply id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.2">𝐺</ci><ci id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.2">𝑎</ci><ci id="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.3">ℎ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p3.1.m1.1c">P(G^{i}|a_{h})</annotation></semantics></math>, from which a task planner can derive N most likely subgoals that can be delegated to the robot with probability <math id="S3.SS2.SSS1.p3.2.m2.1" class="ltx_Math" alttext="P(g_{r}^{i}|G)" display="inline"><semantics id="S3.SS2.SSS1.p3.2.m2.1a"><mrow id="S3.SS2.SSS1.p3.2.m2.1.1" xref="S3.SS2.SSS1.p3.2.m2.1.1.cmml"><mi id="S3.SS2.SSS1.p3.2.m2.1.1.3" xref="S3.SS2.SSS1.p3.2.m2.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p3.2.m2.1.1.2" xref="S3.SS2.SSS1.p3.2.m2.1.1.2.cmml">​</mo><mrow id="S3.SS2.SSS1.p3.2.m2.1.1.1.1" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.2" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.cmml"><msubsup id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.cmml"><mi id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.2" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.2.cmml">g</mi><mi id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.3" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.3.cmml">r</mi><mi id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.3.cmml">i</mi></msubsup><mo fence="false" id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.1" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.3" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.3.cmml">G</mi></mrow><mo stretchy="false" id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.3" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p3.2.m2.1b"><apply id="S3.SS2.SSS1.p3.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1"><times id="S3.SS2.SSS1.p3.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.2"></times><ci id="S3.SS2.SSS1.p3.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.3">𝑃</ci><apply id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2">superscript</csymbol><apply id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.1.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.2">𝑔</ci><ci id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.3.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.2.3">𝑟</ci></apply><ci id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p3.2.m2.1.1.1.1.1.3">𝐺</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p3.2.m2.1c">P(g_{r}^{i}|G)</annotation></semantics></math>. We use the inverse planning algorithm from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> for goal inference and task planning. Then, the model performs Bayesian multi-modal cue integration <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> to compute the likelihood of robot subgoal conditioned on both action observations and speech inputs:</p>
<table id="S7.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex1.m1.1" class="ltx_Math" alttext="\displaystyle P(g_{r}|a_{h},T_{s})\propto" display="inline"><semantics id="S3.Ex1.m1.1a"><mrow id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml"><mrow id="S3.Ex1.m1.1.1.1" xref="S3.Ex1.m1.1.1.1.cmml"><mi id="S3.Ex1.m1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex1.m1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex1.m1.1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m1.1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.cmml"><msub id="S3.Ex1.m1.1.1.1.1.1.1.4" xref="S3.Ex1.m1.1.1.1.1.1.1.4.cmml"><mi id="S3.Ex1.m1.1.1.1.1.1.1.4.2" xref="S3.Ex1.m1.1.1.1.1.1.1.4.2.cmml">g</mi><mi id="S3.Ex1.m1.1.1.1.1.1.1.4.3" xref="S3.Ex1.m1.1.1.1.1.1.1.4.3.cmml">r</mi></msub><mo fence="false" id="S3.Ex1.m1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.Ex1.m1.1.1.1.1.1.1.2.2" xref="S3.Ex1.m1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.2.cmml">a</mi><mi id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.3.cmml">h</mi></msub><mo id="S3.Ex1.m1.1.1.1.1.1.1.2.2.3" xref="S3.Ex1.m1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.2.cmml">T</mi><mi id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.3" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.3.cmml">s</mi></msub></mrow></mrow><mo stretchy="false" id="S3.Ex1.m1.1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.1.1.2" xref="S3.Ex1.m1.1.1.2.cmml">∝</mo><mi id="S3.Ex1.m1.1.1.3" xref="S3.Ex1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.1b"><apply id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1"><csymbol cd="latexml" id="S3.Ex1.m1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.2">proportional-to</csymbol><apply id="S3.Ex1.m1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1"><times id="S3.Ex1.m1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.2"></times><ci id="S3.Ex1.m1.1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.1.3">𝑃</ci><apply id="S3.Ex1.m1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex1.m1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.Ex1.m1.1.1.1.1.1.1.4.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.1.1.1.1.4.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.Ex1.m1.1.1.1.1.1.1.4.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.4.2">𝑔</ci><ci id="S3.Ex1.m1.1.1.1.1.1.1.4.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.4.3">𝑟</ci></apply><list id="S3.Ex1.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2"><apply id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.2">𝑎</ci><ci id="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.1.1.1.3">ℎ</ci></apply><apply id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.2">𝑇</ci><ci id="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2.2.2.3">𝑠</ci></apply></list></apply></apply><csymbol cd="latexml" id="S3.Ex1.m1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.1c">\displaystyle P(g_{r}|a_{h},T_{s})\propto</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex1.m2.3" class="ltx_Math" alttext="\displaystyle P(a_{h}|g_{r})*P(T_{s}|g_{r})*P(g_{r})" display="inline"><semantics id="S3.Ex1.m2.3a"><mrow id="S3.Ex1.m2.3.3" xref="S3.Ex1.m2.3.3.cmml"><mrow id="S3.Ex1.m2.2.2.2" xref="S3.Ex1.m2.2.2.2.cmml"><mrow id="S3.Ex1.m2.2.2.2.2" xref="S3.Ex1.m2.2.2.2.2.cmml"><mrow id="S3.Ex1.m2.1.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.1.cmml"><mrow id="S3.Ex1.m2.1.1.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m2.1.1.1.1.1.1.3" xref="S3.Ex1.m2.1.1.1.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex1.m2.1.1.1.1.1.1.2" xref="S3.Ex1.m2.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex1.m2.1.1.1.1.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex1.m2.1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.2" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.2.cmml">a</mi><mi id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.3" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.3.cmml">h</mi></msub><mo fence="false" id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.2.cmml">g</mi><mi id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.3" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.3.cmml">r</mi></msub></mrow><mo rspace="0.055em" stretchy="false" id="S3.Ex1.m2.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.Ex1.m2.1.1.1.1.1.2" xref="S3.Ex1.m2.1.1.1.1.1.2.cmml">∗</mo><mi id="S3.Ex1.m2.1.1.1.1.1.3" xref="S3.Ex1.m2.1.1.1.1.1.3.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="S3.Ex1.m2.2.2.2.2.3" xref="S3.Ex1.m2.2.2.2.2.3.cmml">​</mo><mrow id="S3.Ex1.m2.2.2.2.2.2.1" xref="S3.Ex1.m2.2.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S3.Ex1.m2.2.2.2.2.2.1.2" xref="S3.Ex1.m2.2.2.2.2.2.1.1.cmml">(</mo><mrow id="S3.Ex1.m2.2.2.2.2.2.1.1" xref="S3.Ex1.m2.2.2.2.2.2.1.1.cmml"><msub id="S3.Ex1.m2.2.2.2.2.2.1.1.2" xref="S3.Ex1.m2.2.2.2.2.2.1.1.2.cmml"><mi id="S3.Ex1.m2.2.2.2.2.2.1.1.2.2" xref="S3.Ex1.m2.2.2.2.2.2.1.1.2.2.cmml">T</mi><mi id="S3.Ex1.m2.2.2.2.2.2.1.1.2.3" xref="S3.Ex1.m2.2.2.2.2.2.1.1.2.3.cmml">s</mi></msub><mo fence="false" id="S3.Ex1.m2.2.2.2.2.2.1.1.1" xref="S3.Ex1.m2.2.2.2.2.2.1.1.1.cmml">|</mo><msub id="S3.Ex1.m2.2.2.2.2.2.1.1.3" xref="S3.Ex1.m2.2.2.2.2.2.1.1.3.cmml"><mi id="S3.Ex1.m2.2.2.2.2.2.1.1.3.2" xref="S3.Ex1.m2.2.2.2.2.2.1.1.3.2.cmml">g</mi><mi id="S3.Ex1.m2.2.2.2.2.2.1.1.3.3" xref="S3.Ex1.m2.2.2.2.2.2.1.1.3.3.cmml">r</mi></msub></mrow><mo rspace="0.055em" stretchy="false" id="S3.Ex1.m2.2.2.2.2.2.1.3" xref="S3.Ex1.m2.2.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.Ex1.m2.2.2.2.3" xref="S3.Ex1.m2.2.2.2.3.cmml">∗</mo><mi id="S3.Ex1.m2.2.2.2.4" xref="S3.Ex1.m2.2.2.2.4.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="S3.Ex1.m2.3.3.4" xref="S3.Ex1.m2.3.3.4.cmml">​</mo><mrow id="S3.Ex1.m2.3.3.3.1" xref="S3.Ex1.m2.3.3.3.1.1.cmml"><mo stretchy="false" id="S3.Ex1.m2.3.3.3.1.2" xref="S3.Ex1.m2.3.3.3.1.1.cmml">(</mo><msub id="S3.Ex1.m2.3.3.3.1.1" xref="S3.Ex1.m2.3.3.3.1.1.cmml"><mi id="S3.Ex1.m2.3.3.3.1.1.2" xref="S3.Ex1.m2.3.3.3.1.1.2.cmml">g</mi><mi id="S3.Ex1.m2.3.3.3.1.1.3" xref="S3.Ex1.m2.3.3.3.1.1.3.cmml">r</mi></msub><mo stretchy="false" id="S3.Ex1.m2.3.3.3.1.3" xref="S3.Ex1.m2.3.3.3.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m2.3b"><apply id="S3.Ex1.m2.3.3.cmml" xref="S3.Ex1.m2.3.3"><times id="S3.Ex1.m2.3.3.4.cmml" xref="S3.Ex1.m2.3.3.4"></times><apply id="S3.Ex1.m2.2.2.2.cmml" xref="S3.Ex1.m2.2.2.2"><times id="S3.Ex1.m2.2.2.2.3.cmml" xref="S3.Ex1.m2.2.2.2.3"></times><apply id="S3.Ex1.m2.2.2.2.2.cmml" xref="S3.Ex1.m2.2.2.2.2"><times id="S3.Ex1.m2.2.2.2.2.3.cmml" xref="S3.Ex1.m2.2.2.2.2.3"></times><apply id="S3.Ex1.m2.1.1.1.1.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1"><times id="S3.Ex1.m2.1.1.1.1.1.2.cmml" xref="S3.Ex1.m2.1.1.1.1.1.2"></times><apply id="S3.Ex1.m2.1.1.1.1.1.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1"><times id="S3.Ex1.m2.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.2"></times><ci id="S3.Ex1.m2.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.3">𝑃</ci><apply id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.2">𝑎</ci><ci id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.2.3">ℎ</ci></apply><apply id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.3.3">𝑟</ci></apply></apply></apply><ci id="S3.Ex1.m2.1.1.1.1.1.3.cmml" xref="S3.Ex1.m2.1.1.1.1.1.3">𝑃</ci></apply><apply id="S3.Ex1.m2.2.2.2.2.2.1.1.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1"><csymbol cd="latexml" id="S3.Ex1.m2.2.2.2.2.2.1.1.1.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1.1.1">conditional</csymbol><apply id="S3.Ex1.m2.2.2.2.2.2.1.1.2.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m2.2.2.2.2.2.1.1.2.1.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1.1.2">subscript</csymbol><ci id="S3.Ex1.m2.2.2.2.2.2.1.1.2.2.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1.1.2.2">𝑇</ci><ci id="S3.Ex1.m2.2.2.2.2.2.1.1.2.3.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1.1.2.3">𝑠</ci></apply><apply id="S3.Ex1.m2.2.2.2.2.2.1.1.3.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m2.2.2.2.2.2.1.1.3.1.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1.1.3">subscript</csymbol><ci id="S3.Ex1.m2.2.2.2.2.2.1.1.3.2.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1.1.3.2">𝑔</ci><ci id="S3.Ex1.m2.2.2.2.2.2.1.1.3.3.cmml" xref="S3.Ex1.m2.2.2.2.2.2.1.1.3.3">𝑟</ci></apply></apply></apply><ci id="S3.Ex1.m2.2.2.2.4.cmml" xref="S3.Ex1.m2.2.2.2.4">𝑃</ci></apply><apply id="S3.Ex1.m2.3.3.3.1.1.cmml" xref="S3.Ex1.m2.3.3.3.1"><csymbol cd="ambiguous" id="S3.Ex1.m2.3.3.3.1.1.1.cmml" xref="S3.Ex1.m2.3.3.3.1">subscript</csymbol><ci id="S3.Ex1.m2.3.3.3.1.1.2.cmml" xref="S3.Ex1.m2.3.3.3.1.1.2">𝑔</ci><ci id="S3.Ex1.m2.3.3.3.1.1.3.cmml" xref="S3.Ex1.m2.3.3.3.1.1.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m2.3c">\displaystyle P(a_{h}|g_{r})*P(T_{s}|g_{r})*P(g_{r})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex2.m1.5" class="ltx_Math" alttext="\displaystyle=\sum_{G}P(a_{h}|g_{r},G)P(G)*P(T_{s}|g_{r})*P(g_{r})" display="inline"><semantics id="S3.Ex2.m1.5a"><mrow id="S3.Ex2.m1.5.5" xref="S3.Ex2.m1.5.5.cmml"><mi id="S3.Ex2.m1.5.5.5" xref="S3.Ex2.m1.5.5.5.cmml"></mi><mo id="S3.Ex2.m1.5.5.4" xref="S3.Ex2.m1.5.5.4.cmml">=</mo><mrow id="S3.Ex2.m1.5.5.3" xref="S3.Ex2.m1.5.5.3.cmml"><mstyle displaystyle="true" id="S3.Ex2.m1.5.5.3.4" xref="S3.Ex2.m1.5.5.3.4.cmml"><munder id="S3.Ex2.m1.5.5.3.4a" xref="S3.Ex2.m1.5.5.3.4.cmml"><mo movablelimits="false" id="S3.Ex2.m1.5.5.3.4.2" xref="S3.Ex2.m1.5.5.3.4.2.cmml">∑</mo><mi id="S3.Ex2.m1.5.5.3.4.3" xref="S3.Ex2.m1.5.5.3.4.3.cmml">G</mi></munder></mstyle><mrow id="S3.Ex2.m1.5.5.3.3" xref="S3.Ex2.m1.5.5.3.3.cmml"><mrow id="S3.Ex2.m1.4.4.2.2.2" xref="S3.Ex2.m1.4.4.2.2.2.cmml"><mrow id="S3.Ex2.m1.4.4.2.2.2.2" xref="S3.Ex2.m1.4.4.2.2.2.2.cmml"><mrow id="S3.Ex2.m1.3.3.1.1.1.1.1" xref="S3.Ex2.m1.3.3.1.1.1.1.1.cmml"><mrow id="S3.Ex2.m1.3.3.1.1.1.1.1.1" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.3.3.1.1.1.1.1.1.3" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.2.cmml">a</mi><mi id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.3" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.cmml">h</mi></msub><mo fence="false" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml"><msub id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">g</mi><mi id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">r</mi></msub><mo id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S3.Ex2.m1.1.1" xref="S3.Ex2.m1.1.1.cmml">G</mi></mrow></mrow><mo stretchy="false" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.2a" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.2.cmml">​</mo><mi id="S3.Ex2.m1.3.3.1.1.1.1.1.1.4" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.4.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.2b" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex2.m1.3.3.1.1.1.1.1.1.5.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.5.2.1" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mi id="S3.Ex2.m1.2.2" xref="S3.Ex2.m1.2.2.cmml">G</mi><mo rspace="0.055em" stretchy="false" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.5.2.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.Ex2.m1.3.3.1.1.1.1.1.2" xref="S3.Ex2.m1.3.3.1.1.1.1.1.2.cmml">∗</mo><mi id="S3.Ex2.m1.3.3.1.1.1.1.1.3" xref="S3.Ex2.m1.3.3.1.1.1.1.1.3.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.4.4.2.2.2.2.3" xref="S3.Ex2.m1.4.4.2.2.2.2.3.cmml">​</mo><mrow id="S3.Ex2.m1.4.4.2.2.2.2.2.1" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S3.Ex2.m1.4.4.2.2.2.2.2.1.2" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.cmml">(</mo><mrow id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.cmml"><msub id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.cmml"><mi id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.2" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.2.cmml">T</mi><mi id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.3" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.3.cmml">s</mi></msub><mo fence="false" id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.1" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.1.cmml">|</mo><msub id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.cmml"><mi id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.2" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.2.cmml">g</mi><mi id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.3" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.3.cmml">r</mi></msub></mrow><mo rspace="0.055em" stretchy="false" id="S3.Ex2.m1.4.4.2.2.2.2.2.1.3" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.Ex2.m1.4.4.2.2.2.3" xref="S3.Ex2.m1.4.4.2.2.2.3.cmml">∗</mo><mi id="S3.Ex2.m1.4.4.2.2.2.4" xref="S3.Ex2.m1.4.4.2.2.2.4.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.5.5.3.3.4" xref="S3.Ex2.m1.5.5.3.3.4.cmml">​</mo><mrow id="S3.Ex2.m1.5.5.3.3.3.1" xref="S3.Ex2.m1.5.5.3.3.3.1.1.cmml"><mo stretchy="false" id="S3.Ex2.m1.5.5.3.3.3.1.2" xref="S3.Ex2.m1.5.5.3.3.3.1.1.cmml">(</mo><msub id="S3.Ex2.m1.5.5.3.3.3.1.1" xref="S3.Ex2.m1.5.5.3.3.3.1.1.cmml"><mi id="S3.Ex2.m1.5.5.3.3.3.1.1.2" xref="S3.Ex2.m1.5.5.3.3.3.1.1.2.cmml">g</mi><mi id="S3.Ex2.m1.5.5.3.3.3.1.1.3" xref="S3.Ex2.m1.5.5.3.3.3.1.1.3.cmml">r</mi></msub><mo stretchy="false" id="S3.Ex2.m1.5.5.3.3.3.1.3" xref="S3.Ex2.m1.5.5.3.3.3.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.5b"><apply id="S3.Ex2.m1.5.5.cmml" xref="S3.Ex2.m1.5.5"><eq id="S3.Ex2.m1.5.5.4.cmml" xref="S3.Ex2.m1.5.5.4"></eq><csymbol cd="latexml" id="S3.Ex2.m1.5.5.5.cmml" xref="S3.Ex2.m1.5.5.5">absent</csymbol><apply id="S3.Ex2.m1.5.5.3.cmml" xref="S3.Ex2.m1.5.5.3"><apply id="S3.Ex2.m1.5.5.3.4.cmml" xref="S3.Ex2.m1.5.5.3.4"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.3.4.1.cmml" xref="S3.Ex2.m1.5.5.3.4">subscript</csymbol><sum id="S3.Ex2.m1.5.5.3.4.2.cmml" xref="S3.Ex2.m1.5.5.3.4.2"></sum><ci id="S3.Ex2.m1.5.5.3.4.3.cmml" xref="S3.Ex2.m1.5.5.3.4.3">𝐺</ci></apply><apply id="S3.Ex2.m1.5.5.3.3.cmml" xref="S3.Ex2.m1.5.5.3.3"><times id="S3.Ex2.m1.5.5.3.3.4.cmml" xref="S3.Ex2.m1.5.5.3.3.4"></times><apply id="S3.Ex2.m1.4.4.2.2.2.cmml" xref="S3.Ex2.m1.4.4.2.2.2"><times id="S3.Ex2.m1.4.4.2.2.2.3.cmml" xref="S3.Ex2.m1.4.4.2.2.2.3"></times><apply id="S3.Ex2.m1.4.4.2.2.2.2.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2"><times id="S3.Ex2.m1.4.4.2.2.2.2.3.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.3"></times><apply id="S3.Ex2.m1.3.3.1.1.1.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1"><times id="S3.Ex2.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.2"></times><apply id="S3.Ex2.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1"><times id="S3.Ex2.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.2"></times><ci id="S3.Ex2.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.3">𝑃</ci><apply id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.2">conditional</csymbol><apply id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.2">𝑎</ci><ci id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.3.3">ℎ</ci></apply><list id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1"><apply id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑔</ci><ci id="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑟</ci></apply><ci id="S3.Ex2.m1.1.1.cmml" xref="S3.Ex2.m1.1.1">𝐺</ci></list></apply><ci id="S3.Ex2.m1.3.3.1.1.1.1.1.1.4.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.1.4">𝑃</ci><ci id="S3.Ex2.m1.2.2.cmml" xref="S3.Ex2.m1.2.2">𝐺</ci></apply><ci id="S3.Ex2.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.3.3.1.1.1.1.1.3">𝑃</ci></apply><apply id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1"><csymbol cd="latexml" id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.1.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.1">conditional</csymbol><apply id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.1.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2">subscript</csymbol><ci id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.2.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.2">𝑇</ci><ci id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.3.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.2.3">𝑠</ci></apply><apply id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.1.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.2.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.2">𝑔</ci><ci id="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.3.cmml" xref="S3.Ex2.m1.4.4.2.2.2.2.2.1.1.3.3">𝑟</ci></apply></apply></apply><ci id="S3.Ex2.m1.4.4.2.2.2.4.cmml" xref="S3.Ex2.m1.4.4.2.2.2.4">𝑃</ci></apply><apply id="S3.Ex2.m1.5.5.3.3.3.1.1.cmml" xref="S3.Ex2.m1.5.5.3.3.3.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.3.3.3.1.1.1.cmml" xref="S3.Ex2.m1.5.5.3.3.3.1">subscript</csymbol><ci id="S3.Ex2.m1.5.5.3.3.3.1.1.2.cmml" xref="S3.Ex2.m1.5.5.3.3.3.1.1.2">𝑔</ci><ci id="S3.Ex2.m1.5.5.3.3.3.1.1.3.cmml" xref="S3.Ex2.m1.5.5.3.3.3.1.1.3">𝑟</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.5c">\displaystyle=\sum_{G}P(a_{h}|g_{r},G)P(G)*P(T_{s}|g_{r})*P(g_{r})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.SSS1.p4" class="ltx_para">
<p id="S3.SS2.SSS1.p4.1" class="ltx_p">Since <math id="S3.SS2.SSS1.p4.1.m1.2" class="ltx_Math" alttext="G=\{g_{h},g_{r}\}" display="inline"><semantics id="S3.SS2.SSS1.p4.1.m1.2a"><mrow id="S3.SS2.SSS1.p4.1.m1.2.2" xref="S3.SS2.SSS1.p4.1.m1.2.2.cmml"><mi id="S3.SS2.SSS1.p4.1.m1.2.2.4" xref="S3.SS2.SSS1.p4.1.m1.2.2.4.cmml">G</mi><mo id="S3.SS2.SSS1.p4.1.m1.2.2.3" xref="S3.SS2.SSS1.p4.1.m1.2.2.3.cmml">=</mo><mrow id="S3.SS2.SSS1.p4.1.m1.2.2.2.2" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.3" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.3.cmml">{</mo><msub id="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1" xref="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.2" xref="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.2.cmml">g</mi><mi id="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.3" xref="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.3.cmml">h</mi></msub><mo id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.4" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.3.cmml">,</mo><msub id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.cmml"><mi id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.2" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.2.cmml">g</mi><mi id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.3" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.3.cmml">r</mi></msub><mo stretchy="false" id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.5" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p4.1.m1.2b"><apply id="S3.SS2.SSS1.p4.1.m1.2.2.cmml" xref="S3.SS2.SSS1.p4.1.m1.2.2"><eq id="S3.SS2.SSS1.p4.1.m1.2.2.3.cmml" xref="S3.SS2.SSS1.p4.1.m1.2.2.3"></eq><ci id="S3.SS2.SSS1.p4.1.m1.2.2.4.cmml" xref="S3.SS2.SSS1.p4.1.m1.2.2.4">𝐺</ci><set id="S3.SS2.SSS1.p4.1.m1.2.2.2.3.cmml" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.2"><apply id="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.2">𝑔</ci><ci id="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p4.1.m1.1.1.1.1.1.3">ℎ</ci></apply><apply id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.1.cmml" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.2">𝑔</ci><ci id="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS2.SSS1.p4.1.m1.2.2.2.2.2.3">𝑟</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p4.1.m1.2c">G=\{g_{h},g_{r}\}</annotation></semantics></math>, we can simplify as</p>
<table id="S7.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex3.m1.4" class="ltx_Math" alttext="\displaystyle P(g_{r}|a_{h},T_{s})\propto\sum_{G}P(a_{h}|g_{h})P(G)*P(g_{r}|T_{s})" display="inline"><semantics id="S3.Ex3.m1.4a"><mrow id="S3.Ex3.m1.4.4" xref="S3.Ex3.m1.4.4.cmml"><mrow id="S3.Ex3.m1.2.2.1" xref="S3.Ex3.m1.2.2.1.cmml"><mi id="S3.Ex3.m1.2.2.1.3" xref="S3.Ex3.m1.2.2.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.2.2.1.2" xref="S3.Ex3.m1.2.2.1.2.cmml">​</mo><mrow id="S3.Ex3.m1.2.2.1.1.1" xref="S3.Ex3.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex3.m1.2.2.1.1.1.2" xref="S3.Ex3.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.2.2.1.1.1.1" xref="S3.Ex3.m1.2.2.1.1.1.1.cmml"><msub id="S3.Ex3.m1.2.2.1.1.1.1.4" xref="S3.Ex3.m1.2.2.1.1.1.1.4.cmml"><mi id="S3.Ex3.m1.2.2.1.1.1.1.4.2" xref="S3.Ex3.m1.2.2.1.1.1.1.4.2.cmml">g</mi><mi id="S3.Ex3.m1.2.2.1.1.1.1.4.3" xref="S3.Ex3.m1.2.2.1.1.1.1.4.3.cmml">r</mi></msub><mo fence="false" id="S3.Ex3.m1.2.2.1.1.1.1.3" xref="S3.Ex3.m1.2.2.1.1.1.1.3.cmml">|</mo><mrow id="S3.Ex3.m1.2.2.1.1.1.1.2.2" xref="S3.Ex3.m1.2.2.1.1.1.1.2.3.cmml"><msub id="S3.Ex3.m1.2.2.1.1.1.1.1.1.1" xref="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.2.cmml">a</mi><mi id="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.3.cmml">h</mi></msub><mo id="S3.Ex3.m1.2.2.1.1.1.1.2.2.3" xref="S3.Ex3.m1.2.2.1.1.1.1.2.3.cmml">,</mo><msub id="S3.Ex3.m1.2.2.1.1.1.1.2.2.2" xref="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.cmml"><mi id="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.2" xref="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.2.cmml">T</mi><mi id="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.3" xref="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.3.cmml">s</mi></msub></mrow></mrow><mo stretchy="false" id="S3.Ex3.m1.2.2.1.1.1.3" xref="S3.Ex3.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex3.m1.4.4.4" xref="S3.Ex3.m1.4.4.4.cmml">∝</mo><mrow id="S3.Ex3.m1.4.4.3" xref="S3.Ex3.m1.4.4.3.cmml"><mstyle displaystyle="true" id="S3.Ex3.m1.4.4.3.3" xref="S3.Ex3.m1.4.4.3.3.cmml"><munder id="S3.Ex3.m1.4.4.3.3a" xref="S3.Ex3.m1.4.4.3.3.cmml"><mo movablelimits="false" id="S3.Ex3.m1.4.4.3.3.2" xref="S3.Ex3.m1.4.4.3.3.2.cmml">∑</mo><mi id="S3.Ex3.m1.4.4.3.3.3" xref="S3.Ex3.m1.4.4.3.3.3.cmml">G</mi></munder></mstyle><mrow id="S3.Ex3.m1.4.4.3.2" xref="S3.Ex3.m1.4.4.3.2.cmml"><mrow id="S3.Ex3.m1.3.3.2.1.1" xref="S3.Ex3.m1.3.3.2.1.1.cmml"><mrow id="S3.Ex3.m1.3.3.2.1.1.1" xref="S3.Ex3.m1.3.3.2.1.1.1.cmml"><mi id="S3.Ex3.m1.3.3.2.1.1.1.3" xref="S3.Ex3.m1.3.3.2.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.3.3.2.1.1.1.2" xref="S3.Ex3.m1.3.3.2.1.1.1.2.cmml">​</mo><mrow id="S3.Ex3.m1.3.3.2.1.1.1.1.1" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.Ex3.m1.3.3.2.1.1.1.1.1.2" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.cmml"><msub id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.cmml"><mi id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.2" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.2.cmml">a</mi><mi id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.3" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.3.cmml">h</mi></msub><mo fence="false" id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.1" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.2" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.2.cmml">g</mi><mi id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.3" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.3.cmml">h</mi></msub></mrow><mo stretchy="false" id="S3.Ex3.m1.3.3.2.1.1.1.1.1.3" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.3.3.2.1.1.1.2a" xref="S3.Ex3.m1.3.3.2.1.1.1.2.cmml">​</mo><mi id="S3.Ex3.m1.3.3.2.1.1.1.4" xref="S3.Ex3.m1.3.3.2.1.1.1.4.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.3.3.2.1.1.1.2b" xref="S3.Ex3.m1.3.3.2.1.1.1.2.cmml">​</mo><mrow id="S3.Ex3.m1.3.3.2.1.1.1.5.2" xref="S3.Ex3.m1.3.3.2.1.1.1.cmml"><mo stretchy="false" id="S3.Ex3.m1.3.3.2.1.1.1.5.2.1" xref="S3.Ex3.m1.3.3.2.1.1.1.cmml">(</mo><mi id="S3.Ex3.m1.1.1" xref="S3.Ex3.m1.1.1.cmml">G</mi><mo rspace="0.055em" stretchy="false" id="S3.Ex3.m1.3.3.2.1.1.1.5.2.2" xref="S3.Ex3.m1.3.3.2.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S3.Ex3.m1.3.3.2.1.1.2" xref="S3.Ex3.m1.3.3.2.1.1.2.cmml">∗</mo><mi id="S3.Ex3.m1.3.3.2.1.1.3" xref="S3.Ex3.m1.3.3.2.1.1.3.cmml">P</mi></mrow><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.4.4.3.2.3" xref="S3.Ex3.m1.4.4.3.2.3.cmml">​</mo><mrow id="S3.Ex3.m1.4.4.3.2.2.1" xref="S3.Ex3.m1.4.4.3.2.2.1.1.cmml"><mo stretchy="false" id="S3.Ex3.m1.4.4.3.2.2.1.2" xref="S3.Ex3.m1.4.4.3.2.2.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.4.4.3.2.2.1.1" xref="S3.Ex3.m1.4.4.3.2.2.1.1.cmml"><msub id="S3.Ex3.m1.4.4.3.2.2.1.1.2" xref="S3.Ex3.m1.4.4.3.2.2.1.1.2.cmml"><mi id="S3.Ex3.m1.4.4.3.2.2.1.1.2.2" xref="S3.Ex3.m1.4.4.3.2.2.1.1.2.2.cmml">g</mi><mi id="S3.Ex3.m1.4.4.3.2.2.1.1.2.3" xref="S3.Ex3.m1.4.4.3.2.2.1.1.2.3.cmml">r</mi></msub><mo fence="false" id="S3.Ex3.m1.4.4.3.2.2.1.1.1" xref="S3.Ex3.m1.4.4.3.2.2.1.1.1.cmml">|</mo><msub id="S3.Ex3.m1.4.4.3.2.2.1.1.3" xref="S3.Ex3.m1.4.4.3.2.2.1.1.3.cmml"><mi id="S3.Ex3.m1.4.4.3.2.2.1.1.3.2" xref="S3.Ex3.m1.4.4.3.2.2.1.1.3.2.cmml">T</mi><mi id="S3.Ex3.m1.4.4.3.2.2.1.1.3.3" xref="S3.Ex3.m1.4.4.3.2.2.1.1.3.3.cmml">s</mi></msub></mrow><mo stretchy="false" id="S3.Ex3.m1.4.4.3.2.2.1.3" xref="S3.Ex3.m1.4.4.3.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.4b"><apply id="S3.Ex3.m1.4.4.cmml" xref="S3.Ex3.m1.4.4"><csymbol cd="latexml" id="S3.Ex3.m1.4.4.4.cmml" xref="S3.Ex3.m1.4.4.4">proportional-to</csymbol><apply id="S3.Ex3.m1.2.2.1.cmml" xref="S3.Ex3.m1.2.2.1"><times id="S3.Ex3.m1.2.2.1.2.cmml" xref="S3.Ex3.m1.2.2.1.2"></times><ci id="S3.Ex3.m1.2.2.1.3.cmml" xref="S3.Ex3.m1.2.2.1.3">𝑃</ci><apply id="S3.Ex3.m1.2.2.1.1.1.1.cmml" xref="S3.Ex3.m1.2.2.1.1.1"><csymbol cd="latexml" id="S3.Ex3.m1.2.2.1.1.1.1.3.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.3">conditional</csymbol><apply id="S3.Ex3.m1.2.2.1.1.1.1.4.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.1.1.1.1.4.1.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.4">subscript</csymbol><ci id="S3.Ex3.m1.2.2.1.1.1.1.4.2.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.4.2">𝑔</ci><ci id="S3.Ex3.m1.2.2.1.1.1.1.4.3.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.4.3">𝑟</ci></apply><list id="S3.Ex3.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.2.2"><apply id="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.2">𝑎</ci><ci id="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.1.1.1.3">ℎ</ci></apply><apply id="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.2">𝑇</ci><ci id="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.1.1.1.1.2.2.2.3">𝑠</ci></apply></list></apply></apply><apply id="S3.Ex3.m1.4.4.3.cmml" xref="S3.Ex3.m1.4.4.3"><apply id="S3.Ex3.m1.4.4.3.3.cmml" xref="S3.Ex3.m1.4.4.3.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.4.3.3.1.cmml" xref="S3.Ex3.m1.4.4.3.3">subscript</csymbol><sum id="S3.Ex3.m1.4.4.3.3.2.cmml" xref="S3.Ex3.m1.4.4.3.3.2"></sum><ci id="S3.Ex3.m1.4.4.3.3.3.cmml" xref="S3.Ex3.m1.4.4.3.3.3">𝐺</ci></apply><apply id="S3.Ex3.m1.4.4.3.2.cmml" xref="S3.Ex3.m1.4.4.3.2"><times id="S3.Ex3.m1.4.4.3.2.3.cmml" xref="S3.Ex3.m1.4.4.3.2.3"></times><apply id="S3.Ex3.m1.3.3.2.1.1.cmml" xref="S3.Ex3.m1.3.3.2.1.1"><times id="S3.Ex3.m1.3.3.2.1.1.2.cmml" xref="S3.Ex3.m1.3.3.2.1.1.2"></times><apply id="S3.Ex3.m1.3.3.2.1.1.1.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1"><times id="S3.Ex3.m1.3.3.2.1.1.1.2.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.2"></times><ci id="S3.Ex3.m1.3.3.2.1.1.1.3.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.3">𝑃</ci><apply id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.2">𝑎</ci><ci id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.2.3">ℎ</ci></apply><apply id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.1.1.1.3.3">ℎ</ci></apply></apply><ci id="S3.Ex3.m1.3.3.2.1.1.1.4.cmml" xref="S3.Ex3.m1.3.3.2.1.1.1.4">𝑃</ci><ci id="S3.Ex3.m1.1.1.cmml" xref="S3.Ex3.m1.1.1">𝐺</ci></apply><ci id="S3.Ex3.m1.3.3.2.1.1.3.cmml" xref="S3.Ex3.m1.3.3.2.1.1.3">𝑃</ci></apply><apply id="S3.Ex3.m1.4.4.3.2.2.1.1.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1"><csymbol cd="latexml" id="S3.Ex3.m1.4.4.3.2.2.1.1.1.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1.1.1">conditional</csymbol><apply id="S3.Ex3.m1.4.4.3.2.2.1.1.2.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.4.3.2.2.1.1.2.1.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1.1.2">subscript</csymbol><ci id="S3.Ex3.m1.4.4.3.2.2.1.1.2.2.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1.1.2.2">𝑔</ci><ci id="S3.Ex3.m1.4.4.3.2.2.1.1.2.3.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1.1.2.3">𝑟</ci></apply><apply id="S3.Ex3.m1.4.4.3.2.2.1.1.3.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.4.3.2.2.1.1.3.1.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1.1.3">subscript</csymbol><ci id="S3.Ex3.m1.4.4.3.2.2.1.1.3.2.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1.1.3.2">𝑇</ci><ci id="S3.Ex3.m1.4.4.3.2.2.1.1.3.3.cmml" xref="S3.Ex3.m1.4.4.3.2.2.1.1.3.3">𝑠</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.4c">\displaystyle P(g_{r}|a_{h},T_{s})\propto\sum_{G}P(a_{h}|g_{h})P(G)*P(g_{r}|T_{s})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.SSS1.p5" class="ltx_para">
<p id="S3.SS2.SSS1.p5.1" class="ltx_p">where <math id="S3.SS2.SSS1.p5.1.m1.1" class="ltx_Math" alttext="g_{h}=G\setminus g_{r}" display="inline"><semantics id="S3.SS2.SSS1.p5.1.m1.1a"><mrow id="S3.SS2.SSS1.p5.1.m1.1.1" xref="S3.SS2.SSS1.p5.1.m1.1.1.cmml"><msub id="S3.SS2.SSS1.p5.1.m1.1.1.2" xref="S3.SS2.SSS1.p5.1.m1.1.1.2.cmml"><mi id="S3.SS2.SSS1.p5.1.m1.1.1.2.2" xref="S3.SS2.SSS1.p5.1.m1.1.1.2.2.cmml">g</mi><mi id="S3.SS2.SSS1.p5.1.m1.1.1.2.3" xref="S3.SS2.SSS1.p5.1.m1.1.1.2.3.cmml">h</mi></msub><mo id="S3.SS2.SSS1.p5.1.m1.1.1.1" xref="S3.SS2.SSS1.p5.1.m1.1.1.1.cmml">=</mo><mrow id="S3.SS2.SSS1.p5.1.m1.1.1.3" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.cmml"><mi id="S3.SS2.SSS1.p5.1.m1.1.1.3.2" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.2.cmml">G</mi><mo id="S3.SS2.SSS1.p5.1.m1.1.1.3.1" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.1.cmml">∖</mo><msub id="S3.SS2.SSS1.p5.1.m1.1.1.3.3" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.3.cmml"><mi id="S3.SS2.SSS1.p5.1.m1.1.1.3.3.2" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.3.2.cmml">g</mi><mi id="S3.SS2.SSS1.p5.1.m1.1.1.3.3.3" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.3.3.cmml">r</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p5.1.m1.1b"><apply id="S3.SS2.SSS1.p5.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1"><eq id="S3.SS2.SSS1.p5.1.m1.1.1.1.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.1"></eq><apply id="S3.SS2.SSS1.p5.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p5.1.m1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.SSS1.p5.1.m1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.2.2">𝑔</ci><ci id="S3.SS2.SSS1.p5.1.m1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.2.3">ℎ</ci></apply><apply id="S3.SS2.SSS1.p5.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.3"><setdiff id="S3.SS2.SSS1.p5.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.1"></setdiff><ci id="S3.SS2.SSS1.p5.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.2">𝐺</ci><apply id="S3.SS2.SSS1.p5.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p5.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.3">subscript</csymbol><ci id="S3.SS2.SSS1.p5.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.3.2">𝑔</ci><ci id="S3.SS2.SSS1.p5.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.SSS1.p5.1.m1.1.1.3.3.3">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p5.1.m1.1c">g_{h}=G\setminus g_{r}</annotation></semantics></math></p>
</div>
<div id="S3.SS2.SSS1.p6" class="ltx_para">
<p id="S3.SS2.SSS1.p6.4" class="ltx_p">To evaluate the first term <math id="S3.SS2.SSS1.p6.1.m1.2" class="ltx_Math" alttext="P(a_{h}|g_{h},G)" display="inline"><semantics id="S3.SS2.SSS1.p6.1.m1.2a"><mrow id="S3.SS2.SSS1.p6.1.m1.2.2" xref="S3.SS2.SSS1.p6.1.m1.2.2.cmml"><mi id="S3.SS2.SSS1.p6.1.m1.2.2.3" xref="S3.SS2.SSS1.p6.1.m1.2.2.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p6.1.m1.2.2.2" xref="S3.SS2.SSS1.p6.1.m1.2.2.2.cmml">​</mo><mrow id="S3.SS2.SSS1.p6.1.m1.2.2.1.1" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.2" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.cmml"><msub id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.cmml"><mi id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.2" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.2.cmml">a</mi><mi id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.3" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.3.cmml">h</mi></msub><mo fence="false" id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.2" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.2.cmml">|</mo><mrow id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.2.cmml"><msub id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.2" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.2.cmml">g</mi><mi id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.3" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.3.cmml">h</mi></msub><mo id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.2" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.2.cmml">,</mo><mi id="S3.SS2.SSS1.p6.1.m1.1.1" xref="S3.SS2.SSS1.p6.1.m1.1.1.cmml">G</mi></mrow></mrow><mo stretchy="false" id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.3" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.1.m1.2b"><apply id="S3.SS2.SSS1.p6.1.m1.2.2.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2"><times id="S3.SS2.SSS1.p6.1.m1.2.2.2.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.2"></times><ci id="S3.SS2.SSS1.p6.1.m1.2.2.3.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.3">𝑃</ci><apply id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1"><csymbol cd="latexml" id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.2">conditional</csymbol><apply id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3">subscript</csymbol><ci id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.2">𝑎</ci><ci id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.3.3">ℎ</ci></apply><list id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1"><apply id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.2">𝑔</ci><ci id="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p6.1.m1.2.2.1.1.1.1.1.1.3">ℎ</ci></apply><ci id="S3.SS2.SSS1.p6.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p6.1.m1.1.1">𝐺</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.1.m1.2c">P(a_{h}|g_{h},G)</annotation></semantics></math>, where <math id="S3.SS2.SSS1.p6.2.m2.2" class="ltx_Math" alttext="a_{h}=\{a_{h}^{1},...a_{h}^{t}\}" display="inline"><semantics id="S3.SS2.SSS1.p6.2.m2.2a"><mrow id="S3.SS2.SSS1.p6.2.m2.2.2" xref="S3.SS2.SSS1.p6.2.m2.2.2.cmml"><msub id="S3.SS2.SSS1.p6.2.m2.2.2.4" xref="S3.SS2.SSS1.p6.2.m2.2.2.4.cmml"><mi id="S3.SS2.SSS1.p6.2.m2.2.2.4.2" xref="S3.SS2.SSS1.p6.2.m2.2.2.4.2.cmml">a</mi><mi id="S3.SS2.SSS1.p6.2.m2.2.2.4.3" xref="S3.SS2.SSS1.p6.2.m2.2.2.4.3.cmml">h</mi></msub><mo id="S3.SS2.SSS1.p6.2.m2.2.2.3" xref="S3.SS2.SSS1.p6.2.m2.2.2.3.cmml">=</mo><mrow id="S3.SS2.SSS1.p6.2.m2.2.2.2.2" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.3" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.3.cmml">{</mo><msubsup id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.2.cmml">a</mi><mi id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.3.cmml">h</mi><mn id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.3" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.3.cmml">1</mn></msubsup><mo id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.4" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.3.cmml">,</mo><mrow id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.cmml"><mi mathvariant="normal" id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.2" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.2.cmml">…</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.1" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.1.cmml">​</mo><msubsup id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.cmml"><mi id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.2" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.2.cmml">a</mi><mi id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.3" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.3.cmml">h</mi><mi id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.3" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.3.cmml">t</mi></msubsup></mrow><mo stretchy="false" id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.5" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.2.m2.2b"><apply id="S3.SS2.SSS1.p6.2.m2.2.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2"><eq id="S3.SS2.SSS1.p6.2.m2.2.2.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.3"></eq><apply id="S3.SS2.SSS1.p6.2.m2.2.2.4.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.2.m2.2.2.4.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.4">subscript</csymbol><ci id="S3.SS2.SSS1.p6.2.m2.2.2.4.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.4.2">𝑎</ci><ci id="S3.SS2.SSS1.p6.2.m2.2.2.4.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.4.3">ℎ</ci></apply><set id="S3.SS2.SSS1.p6.2.m2.2.2.2.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2"><apply id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1">superscript</csymbol><apply id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.2">𝑎</ci><ci id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.2.3">ℎ</ci></apply><cn type="integer" id="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.1.1.1.1.1.3">1</cn></apply><apply id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2"><times id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.1"></times><ci id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.2">…</ci><apply id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3">superscript</csymbol><apply id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.1.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3">subscript</csymbol><ci id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.2.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.2">𝑎</ci><ci id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.2.3">ℎ</ci></apply><ci id="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.3.cmml" xref="S3.SS2.SSS1.p6.2.m2.2.2.2.2.2.3.3">𝑡</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.2.m2.2c">a_{h}=\{a_{h}^{1},...a_{h}^{t}\}</annotation></semantics></math>, we follow existing work on rational planning, which models planning as the process of computing a Boltzmann policy <math id="S3.SS2.SSS1.p6.3.m3.1" class="ltx_Math" alttext="\pi" display="inline"><semantics id="S3.SS2.SSS1.p6.3.m3.1a"><mi id="S3.SS2.SSS1.p6.3.m3.1.1" xref="S3.SS2.SSS1.p6.3.m3.1.1.cmml">π</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.3.m3.1b"><ci id="S3.SS2.SSS1.p6.3.m3.1.1.cmml" xref="S3.SS2.SSS1.p6.3.m3.1.1">𝜋</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.3.m3.1c">\pi</annotation></semantics></math> for a goal <math id="S3.SS2.SSS1.p6.4.m4.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S3.SS2.SSS1.p6.4.m4.1a"><mi id="S3.SS2.SSS1.p6.4.m4.1.1" xref="S3.SS2.SSS1.p6.4.m4.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.4.m4.1b"><ci id="S3.SS2.SSS1.p6.4.m4.1.1.cmml" xref="S3.SS2.SSS1.p6.4.m4.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.4.m4.1c">g</annotation></semantics></math>:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.6" class="ltx_Math" alttext="\pi(a^{t}|s_{t},g)=\frac{\exp{\frac{1}{T}Q_{g}^{*}(s_{t},a^{t})}}{\sum_{a_{0}^{t}\in\mathcal{A}}\exp{\frac{1}{T}Q_{g}^{*}(s_{t},a_{0}^{t})}}" display="block"><semantics id="S3.E1.m1.6a"><mrow id="S3.E1.m1.6.6" xref="S3.E1.m1.6.6.cmml"><mrow id="S3.E1.m1.6.6.1" xref="S3.E1.m1.6.6.1.cmml"><mi id="S3.E1.m1.6.6.1.3" xref="S3.E1.m1.6.6.1.3.cmml">π</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.1.2" xref="S3.E1.m1.6.6.1.2.cmml">​</mo><mrow id="S3.E1.m1.6.6.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.6.6.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.6.6.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.cmml"><msup id="S3.E1.m1.6.6.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.3.cmml"><mi id="S3.E1.m1.6.6.1.1.1.1.3.2" xref="S3.E1.m1.6.6.1.1.1.1.3.2.cmml">a</mi><mi id="S3.E1.m1.6.6.1.1.1.1.3.3" xref="S3.E1.m1.6.6.1.1.1.1.3.3.cmml">t</mi></msup><mo fence="false" id="S3.E1.m1.6.6.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.2.cmml">|</mo><mrow id="S3.E1.m1.6.6.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.2.cmml"><msub id="S3.E1.m1.6.6.1.1.1.1.1.1.1" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.2.cmml">s</mi><mi id="S3.E1.m1.6.6.1.1.1.1.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E1.m1.6.6.1.1.1.1.1.1.2" xref="S3.E1.m1.6.6.1.1.1.1.1.2.cmml">,</mo><mi id="S3.E1.m1.5.5" xref="S3.E1.m1.5.5.cmml">g</mi></mrow></mrow><mo stretchy="false" id="S3.E1.m1.6.6.1.1.1.3" xref="S3.E1.m1.6.6.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.6.6.2" xref="S3.E1.m1.6.6.2.cmml">=</mo><mfrac id="S3.E1.m1.4.4" xref="S3.E1.m1.4.4.cmml"><mrow id="S3.E1.m1.2.2.2" xref="S3.E1.m1.2.2.2.cmml"><mrow id="S3.E1.m1.2.2.2.4" xref="S3.E1.m1.2.2.2.4.cmml"><mi id="S3.E1.m1.2.2.2.4.1" xref="S3.E1.m1.2.2.2.4.1.cmml">exp</mi><mo lspace="0.167em" id="S3.E1.m1.2.2.2.4a" xref="S3.E1.m1.2.2.2.4.cmml">⁡</mo><mrow id="S3.E1.m1.2.2.2.4.2" xref="S3.E1.m1.2.2.2.4.2.cmml"><mfrac id="S3.E1.m1.2.2.2.4.2.2" xref="S3.E1.m1.2.2.2.4.2.2.cmml"><mn id="S3.E1.m1.2.2.2.4.2.2.2" xref="S3.E1.m1.2.2.2.4.2.2.2.cmml">1</mn><mi id="S3.E1.m1.2.2.2.4.2.2.3" xref="S3.E1.m1.2.2.2.4.2.2.3.cmml">T</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E1.m1.2.2.2.4.2.1" xref="S3.E1.m1.2.2.2.4.2.1.cmml">​</mo><msubsup id="S3.E1.m1.2.2.2.4.2.3" xref="S3.E1.m1.2.2.2.4.2.3.cmml"><mi id="S3.E1.m1.2.2.2.4.2.3.2.2" xref="S3.E1.m1.2.2.2.4.2.3.2.2.cmml">Q</mi><mi id="S3.E1.m1.2.2.2.4.2.3.2.3" xref="S3.E1.m1.2.2.2.4.2.3.2.3.cmml">g</mi><mo id="S3.E1.m1.2.2.2.4.2.3.3" xref="S3.E1.m1.2.2.2.4.2.3.3.cmml">∗</mo></msubsup></mrow></mrow><mo lspace="0em" rspace="0em" id="S3.E1.m1.2.2.2.3" xref="S3.E1.m1.2.2.2.3.cmml">​</mo><mrow id="S3.E1.m1.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.E1.m1.2.2.2.2.2.3" xref="S3.E1.m1.2.2.2.2.3.cmml">(</mo><msub id="S3.E1.m1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.2.cmml">s</mi><mi id="S3.E1.m1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E1.m1.2.2.2.2.2.4" xref="S3.E1.m1.2.2.2.2.3.cmml">,</mo><msup id="S3.E1.m1.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.2.cmml"><mi id="S3.E1.m1.2.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.2.2.cmml">a</mi><mi id="S3.E1.m1.2.2.2.2.2.2.3" xref="S3.E1.m1.2.2.2.2.2.2.3.cmml">t</mi></msup><mo stretchy="false" id="S3.E1.m1.2.2.2.2.2.5" xref="S3.E1.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="S3.E1.m1.4.4.4" xref="S3.E1.m1.4.4.4.cmml"><msub id="S3.E1.m1.4.4.4.3" xref="S3.E1.m1.4.4.4.3.cmml"><mo id="S3.E1.m1.4.4.4.3.2" xref="S3.E1.m1.4.4.4.3.2.cmml">∑</mo><mrow id="S3.E1.m1.4.4.4.3.3" xref="S3.E1.m1.4.4.4.3.3.cmml"><msubsup id="S3.E1.m1.4.4.4.3.3.2" xref="S3.E1.m1.4.4.4.3.3.2.cmml"><mi id="S3.E1.m1.4.4.4.3.3.2.2.2" xref="S3.E1.m1.4.4.4.3.3.2.2.2.cmml">a</mi><mn id="S3.E1.m1.4.4.4.3.3.2.2.3" xref="S3.E1.m1.4.4.4.3.3.2.2.3.cmml">0</mn><mi id="S3.E1.m1.4.4.4.3.3.2.3" xref="S3.E1.m1.4.4.4.3.3.2.3.cmml">t</mi></msubsup><mo id="S3.E1.m1.4.4.4.3.3.1" xref="S3.E1.m1.4.4.4.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.4.4.4.3.3.3" xref="S3.E1.m1.4.4.4.3.3.3.cmml">𝒜</mi></mrow></msub><mrow id="S3.E1.m1.4.4.4.2" xref="S3.E1.m1.4.4.4.2.cmml"><mrow id="S3.E1.m1.4.4.4.2.4" xref="S3.E1.m1.4.4.4.2.4.cmml"><mi id="S3.E1.m1.4.4.4.2.4.1" xref="S3.E1.m1.4.4.4.2.4.1.cmml">exp</mi><mo lspace="0.167em" id="S3.E1.m1.4.4.4.2.4a" xref="S3.E1.m1.4.4.4.2.4.cmml">⁡</mo><mrow id="S3.E1.m1.4.4.4.2.4.2" xref="S3.E1.m1.4.4.4.2.4.2.cmml"><mfrac id="S3.E1.m1.4.4.4.2.4.2.2" xref="S3.E1.m1.4.4.4.2.4.2.2.cmml"><mn id="S3.E1.m1.4.4.4.2.4.2.2.2" xref="S3.E1.m1.4.4.4.2.4.2.2.2.cmml">1</mn><mi id="S3.E1.m1.4.4.4.2.4.2.2.3" xref="S3.E1.m1.4.4.4.2.4.2.2.3.cmml">T</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.4.4.2.4.2.1" xref="S3.E1.m1.4.4.4.2.4.2.1.cmml">​</mo><msubsup id="S3.E1.m1.4.4.4.2.4.2.3" xref="S3.E1.m1.4.4.4.2.4.2.3.cmml"><mi id="S3.E1.m1.4.4.4.2.4.2.3.2.2" xref="S3.E1.m1.4.4.4.2.4.2.3.2.2.cmml">Q</mi><mi id="S3.E1.m1.4.4.4.2.4.2.3.2.3" xref="S3.E1.m1.4.4.4.2.4.2.3.2.3.cmml">g</mi><mo id="S3.E1.m1.4.4.4.2.4.2.3.3" xref="S3.E1.m1.4.4.4.2.4.2.3.3.cmml">∗</mo></msubsup></mrow></mrow><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.4.4.2.3" xref="S3.E1.m1.4.4.4.2.3.cmml">​</mo><mrow id="S3.E1.m1.4.4.4.2.2.2" xref="S3.E1.m1.4.4.4.2.2.3.cmml"><mo stretchy="false" id="S3.E1.m1.4.4.4.2.2.2.3" xref="S3.E1.m1.4.4.4.2.2.3.cmml">(</mo><msub id="S3.E1.m1.3.3.3.1.1.1.1" xref="S3.E1.m1.3.3.3.1.1.1.1.cmml"><mi id="S3.E1.m1.3.3.3.1.1.1.1.2" xref="S3.E1.m1.3.3.3.1.1.1.1.2.cmml">s</mi><mi id="S3.E1.m1.3.3.3.1.1.1.1.3" xref="S3.E1.m1.3.3.3.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E1.m1.4.4.4.2.2.2.4" xref="S3.E1.m1.4.4.4.2.2.3.cmml">,</mo><msubsup id="S3.E1.m1.4.4.4.2.2.2.2" xref="S3.E1.m1.4.4.4.2.2.2.2.cmml"><mi id="S3.E1.m1.4.4.4.2.2.2.2.2.2" xref="S3.E1.m1.4.4.4.2.2.2.2.2.2.cmml">a</mi><mn id="S3.E1.m1.4.4.4.2.2.2.2.2.3" xref="S3.E1.m1.4.4.4.2.2.2.2.2.3.cmml">0</mn><mi id="S3.E1.m1.4.4.4.2.2.2.2.3" xref="S3.E1.m1.4.4.4.2.2.2.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="S3.E1.m1.4.4.4.2.2.2.5" xref="S3.E1.m1.4.4.4.2.2.3.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.6b"><apply id="S3.E1.m1.6.6.cmml" xref="S3.E1.m1.6.6"><eq id="S3.E1.m1.6.6.2.cmml" xref="S3.E1.m1.6.6.2"></eq><apply id="S3.E1.m1.6.6.1.cmml" xref="S3.E1.m1.6.6.1"><times id="S3.E1.m1.6.6.1.2.cmml" xref="S3.E1.m1.6.6.1.2"></times><ci id="S3.E1.m1.6.6.1.3.cmml" xref="S3.E1.m1.6.6.1.3">𝜋</ci><apply id="S3.E1.m1.6.6.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.6.6.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.2">conditional</csymbol><apply id="S3.E1.m1.6.6.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.3.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.3">superscript</csymbol><ci id="S3.E1.m1.6.6.1.1.1.1.3.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.3.2">𝑎</ci><ci id="S3.E1.m1.6.6.1.1.1.1.3.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.3.3">𝑡</ci></apply><list id="S3.E1.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1"><apply id="S3.E1.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.2">𝑠</ci><ci id="S3.E1.m1.6.6.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.6.6.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S3.E1.m1.5.5.cmml" xref="S3.E1.m1.5.5">𝑔</ci></list></apply></apply><apply id="S3.E1.m1.4.4.cmml" xref="S3.E1.m1.4.4"><divide id="S3.E1.m1.4.4.5.cmml" xref="S3.E1.m1.4.4"></divide><apply id="S3.E1.m1.2.2.2.cmml" xref="S3.E1.m1.2.2.2"><times id="S3.E1.m1.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.3"></times><apply id="S3.E1.m1.2.2.2.4.cmml" xref="S3.E1.m1.2.2.2.4"><exp id="S3.E1.m1.2.2.2.4.1.cmml" xref="S3.E1.m1.2.2.2.4.1"></exp><apply id="S3.E1.m1.2.2.2.4.2.cmml" xref="S3.E1.m1.2.2.2.4.2"><times id="S3.E1.m1.2.2.2.4.2.1.cmml" xref="S3.E1.m1.2.2.2.4.2.1"></times><apply id="S3.E1.m1.2.2.2.4.2.2.cmml" xref="S3.E1.m1.2.2.2.4.2.2"><divide id="S3.E1.m1.2.2.2.4.2.2.1.cmml" xref="S3.E1.m1.2.2.2.4.2.2"></divide><cn type="integer" id="S3.E1.m1.2.2.2.4.2.2.2.cmml" xref="S3.E1.m1.2.2.2.4.2.2.2">1</cn><ci id="S3.E1.m1.2.2.2.4.2.2.3.cmml" xref="S3.E1.m1.2.2.2.4.2.2.3">𝑇</ci></apply><apply id="S3.E1.m1.2.2.2.4.2.3.cmml" xref="S3.E1.m1.2.2.2.4.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.4.2.3.1.cmml" xref="S3.E1.m1.2.2.2.4.2.3">superscript</csymbol><apply id="S3.E1.m1.2.2.2.4.2.3.2.cmml" xref="S3.E1.m1.2.2.2.4.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.4.2.3.2.1.cmml" xref="S3.E1.m1.2.2.2.4.2.3">subscript</csymbol><ci id="S3.E1.m1.2.2.2.4.2.3.2.2.cmml" xref="S3.E1.m1.2.2.2.4.2.3.2.2">𝑄</ci><ci id="S3.E1.m1.2.2.2.4.2.3.2.3.cmml" xref="S3.E1.m1.2.2.2.4.2.3.2.3">𝑔</ci></apply><times id="S3.E1.m1.2.2.2.4.2.3.3.cmml" xref="S3.E1.m1.2.2.2.4.2.3.3"></times></apply></apply></apply><interval closure="open" id="S3.E1.m1.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.2"><apply id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2">𝑠</ci><ci id="S3.E1.m1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.E1.m1.2.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2.2.2">superscript</csymbol><ci id="S3.E1.m1.2.2.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.2.2">𝑎</ci><ci id="S3.E1.m1.2.2.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.2.2.3">𝑡</ci></apply></interval></apply><apply id="S3.E1.m1.4.4.4.cmml" xref="S3.E1.m1.4.4.4"><apply id="S3.E1.m1.4.4.4.3.cmml" xref="S3.E1.m1.4.4.4.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.3.1.cmml" xref="S3.E1.m1.4.4.4.3">subscript</csymbol><sum id="S3.E1.m1.4.4.4.3.2.cmml" xref="S3.E1.m1.4.4.4.3.2"></sum><apply id="S3.E1.m1.4.4.4.3.3.cmml" xref="S3.E1.m1.4.4.4.3.3"><in id="S3.E1.m1.4.4.4.3.3.1.cmml" xref="S3.E1.m1.4.4.4.3.3.1"></in><apply id="S3.E1.m1.4.4.4.3.3.2.cmml" xref="S3.E1.m1.4.4.4.3.3.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.3.3.2.1.cmml" xref="S3.E1.m1.4.4.4.3.3.2">superscript</csymbol><apply id="S3.E1.m1.4.4.4.3.3.2.2.cmml" xref="S3.E1.m1.4.4.4.3.3.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.3.3.2.2.1.cmml" xref="S3.E1.m1.4.4.4.3.3.2">subscript</csymbol><ci id="S3.E1.m1.4.4.4.3.3.2.2.2.cmml" xref="S3.E1.m1.4.4.4.3.3.2.2.2">𝑎</ci><cn type="integer" id="S3.E1.m1.4.4.4.3.3.2.2.3.cmml" xref="S3.E1.m1.4.4.4.3.3.2.2.3">0</cn></apply><ci id="S3.E1.m1.4.4.4.3.3.2.3.cmml" xref="S3.E1.m1.4.4.4.3.3.2.3">𝑡</ci></apply><ci id="S3.E1.m1.4.4.4.3.3.3.cmml" xref="S3.E1.m1.4.4.4.3.3.3">𝒜</ci></apply></apply><apply id="S3.E1.m1.4.4.4.2.cmml" xref="S3.E1.m1.4.4.4.2"><times id="S3.E1.m1.4.4.4.2.3.cmml" xref="S3.E1.m1.4.4.4.2.3"></times><apply id="S3.E1.m1.4.4.4.2.4.cmml" xref="S3.E1.m1.4.4.4.2.4"><exp id="S3.E1.m1.4.4.4.2.4.1.cmml" xref="S3.E1.m1.4.4.4.2.4.1"></exp><apply id="S3.E1.m1.4.4.4.2.4.2.cmml" xref="S3.E1.m1.4.4.4.2.4.2"><times id="S3.E1.m1.4.4.4.2.4.2.1.cmml" xref="S3.E1.m1.4.4.4.2.4.2.1"></times><apply id="S3.E1.m1.4.4.4.2.4.2.2.cmml" xref="S3.E1.m1.4.4.4.2.4.2.2"><divide id="S3.E1.m1.4.4.4.2.4.2.2.1.cmml" xref="S3.E1.m1.4.4.4.2.4.2.2"></divide><cn type="integer" id="S3.E1.m1.4.4.4.2.4.2.2.2.cmml" xref="S3.E1.m1.4.4.4.2.4.2.2.2">1</cn><ci id="S3.E1.m1.4.4.4.2.4.2.2.3.cmml" xref="S3.E1.m1.4.4.4.2.4.2.2.3">𝑇</ci></apply><apply id="S3.E1.m1.4.4.4.2.4.2.3.cmml" xref="S3.E1.m1.4.4.4.2.4.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.2.4.2.3.1.cmml" xref="S3.E1.m1.4.4.4.2.4.2.3">superscript</csymbol><apply id="S3.E1.m1.4.4.4.2.4.2.3.2.cmml" xref="S3.E1.m1.4.4.4.2.4.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.2.4.2.3.2.1.cmml" xref="S3.E1.m1.4.4.4.2.4.2.3">subscript</csymbol><ci id="S3.E1.m1.4.4.4.2.4.2.3.2.2.cmml" xref="S3.E1.m1.4.4.4.2.4.2.3.2.2">𝑄</ci><ci id="S3.E1.m1.4.4.4.2.4.2.3.2.3.cmml" xref="S3.E1.m1.4.4.4.2.4.2.3.2.3">𝑔</ci></apply><times id="S3.E1.m1.4.4.4.2.4.2.3.3.cmml" xref="S3.E1.m1.4.4.4.2.4.2.3.3"></times></apply></apply></apply><interval closure="open" id="S3.E1.m1.4.4.4.2.2.3.cmml" xref="S3.E1.m1.4.4.4.2.2.2"><apply id="S3.E1.m1.3.3.3.1.1.1.1.cmml" xref="S3.E1.m1.3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.3.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.3.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.3.3.3.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.3.1.1.1.1.2">𝑠</ci><ci id="S3.E1.m1.3.3.3.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.3.1.1.1.1.3">𝑡</ci></apply><apply id="S3.E1.m1.4.4.4.2.2.2.2.cmml" xref="S3.E1.m1.4.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.2.2.2.2.1.cmml" xref="S3.E1.m1.4.4.4.2.2.2.2">superscript</csymbol><apply id="S3.E1.m1.4.4.4.2.2.2.2.2.cmml" xref="S3.E1.m1.4.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.4.2.2.2.2.2.1.cmml" xref="S3.E1.m1.4.4.4.2.2.2.2">subscript</csymbol><ci id="S3.E1.m1.4.4.4.2.2.2.2.2.2.cmml" xref="S3.E1.m1.4.4.4.2.2.2.2.2.2">𝑎</ci><cn type="integer" id="S3.E1.m1.4.4.4.2.2.2.2.2.3.cmml" xref="S3.E1.m1.4.4.4.2.2.2.2.2.3">0</cn></apply><ci id="S3.E1.m1.4.4.4.2.2.2.2.3.cmml" xref="S3.E1.m1.4.4.4.2.2.2.2.3">𝑡</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.6c">\pi(a^{t}|s_{t},g)=\frac{\exp{\frac{1}{T}Q_{g}^{*}(s_{t},a^{t})}}{\sum_{a_{0}^{t}\in\mathcal{A}}\exp{\frac{1}{T}Q_{g}^{*}(s_{t},a_{0}^{t})}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.SSS1.p6.12" class="ltx_p">where <math id="S3.SS2.SSS1.p6.5.m1.1" class="ltx_Math" alttext="s_{t}" display="inline"><semantics id="S3.SS2.SSS1.p6.5.m1.1a"><msub id="S3.SS2.SSS1.p6.5.m1.1.1" xref="S3.SS2.SSS1.p6.5.m1.1.1.cmml"><mi id="S3.SS2.SSS1.p6.5.m1.1.1.2" xref="S3.SS2.SSS1.p6.5.m1.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS1.p6.5.m1.1.1.3" xref="S3.SS2.SSS1.p6.5.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.5.m1.1b"><apply id="S3.SS2.SSS1.p6.5.m1.1.1.cmml" xref="S3.SS2.SSS1.p6.5.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.5.m1.1.1.1.cmml" xref="S3.SS2.SSS1.p6.5.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p6.5.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p6.5.m1.1.1.2">𝑠</ci><ci id="S3.SS2.SSS1.p6.5.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p6.5.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.5.m1.1c">s_{t}</annotation></semantics></math> is the state. <math id="S3.SS2.SSS1.p6.6.m2.1" class="ltx_Math" alttext="a_{t}" display="inline"><semantics id="S3.SS2.SSS1.p6.6.m2.1a"><msub id="S3.SS2.SSS1.p6.6.m2.1.1" xref="S3.SS2.SSS1.p6.6.m2.1.1.cmml"><mi id="S3.SS2.SSS1.p6.6.m2.1.1.2" xref="S3.SS2.SSS1.p6.6.m2.1.1.2.cmml">a</mi><mi id="S3.SS2.SSS1.p6.6.m2.1.1.3" xref="S3.SS2.SSS1.p6.6.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.6.m2.1b"><apply id="S3.SS2.SSS1.p6.6.m2.1.1.cmml" xref="S3.SS2.SSS1.p6.6.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.6.m2.1.1.1.cmml" xref="S3.SS2.SSS1.p6.6.m2.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p6.6.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p6.6.m2.1.1.2">𝑎</ci><ci id="S3.SS2.SSS1.p6.6.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p6.6.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.6.m2.1c">a_{t}</annotation></semantics></math> is the action taken by agent at <math id="S3.SS2.SSS1.p6.7.m3.1" class="ltx_Math" alttext="s_{t}" display="inline"><semantics id="S3.SS2.SSS1.p6.7.m3.1a"><msub id="S3.SS2.SSS1.p6.7.m3.1.1" xref="S3.SS2.SSS1.p6.7.m3.1.1.cmml"><mi id="S3.SS2.SSS1.p6.7.m3.1.1.2" xref="S3.SS2.SSS1.p6.7.m3.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS1.p6.7.m3.1.1.3" xref="S3.SS2.SSS1.p6.7.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.7.m3.1b"><apply id="S3.SS2.SSS1.p6.7.m3.1.1.cmml" xref="S3.SS2.SSS1.p6.7.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.7.m3.1.1.1.cmml" xref="S3.SS2.SSS1.p6.7.m3.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p6.7.m3.1.1.2.cmml" xref="S3.SS2.SSS1.p6.7.m3.1.1.2">𝑠</ci><ci id="S3.SS2.SSS1.p6.7.m3.1.1.3.cmml" xref="S3.SS2.SSS1.p6.7.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.7.m3.1c">s_{t}</annotation></semantics></math>, <math id="S3.SS2.SSS1.p6.8.m4.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS2.SSS1.p6.8.m4.1a"><mi id="S3.SS2.SSS1.p6.8.m4.1.1" xref="S3.SS2.SSS1.p6.8.m4.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.8.m4.1b"><ci id="S3.SS2.SSS1.p6.8.m4.1.1.cmml" xref="S3.SS2.SSS1.p6.8.m4.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.8.m4.1c">T</annotation></semantics></math> is a temperature parameter, and <math id="S3.SS2.SSS1.p6.9.m5.2" class="ltx_Math" alttext="Q_{g}^{*}(s_{t},a_{t})" display="inline"><semantics id="S3.SS2.SSS1.p6.9.m5.2a"><mrow id="S3.SS2.SSS1.p6.9.m5.2.2" xref="S3.SS2.SSS1.p6.9.m5.2.2.cmml"><msubsup id="S3.SS2.SSS1.p6.9.m5.2.2.4" xref="S3.SS2.SSS1.p6.9.m5.2.2.4.cmml"><mi id="S3.SS2.SSS1.p6.9.m5.2.2.4.2.2" xref="S3.SS2.SSS1.p6.9.m5.2.2.4.2.2.cmml">Q</mi><mi id="S3.SS2.SSS1.p6.9.m5.2.2.4.2.3" xref="S3.SS2.SSS1.p6.9.m5.2.2.4.2.3.cmml">g</mi><mo id="S3.SS2.SSS1.p6.9.m5.2.2.4.3" xref="S3.SS2.SSS1.p6.9.m5.2.2.4.3.cmml">∗</mo></msubsup><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p6.9.m5.2.2.3" xref="S3.SS2.SSS1.p6.9.m5.2.2.3.cmml">​</mo><mrow id="S3.SS2.SSS1.p6.9.m5.2.2.2.2" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.3" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.3.cmml">(</mo><msub id="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1" xref="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.2" xref="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.3" xref="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.4" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.3.cmml">,</mo><msub id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.cmml"><mi id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.2" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.2.cmml">a</mi><mi id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.3" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.3.cmml">t</mi></msub><mo stretchy="false" id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.5" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.9.m5.2b"><apply id="S3.SS2.SSS1.p6.9.m5.2.2.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2"><times id="S3.SS2.SSS1.p6.9.m5.2.2.3.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.3"></times><apply id="S3.SS2.SSS1.p6.9.m5.2.2.4.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.9.m5.2.2.4.1.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.4">superscript</csymbol><apply id="S3.SS2.SSS1.p6.9.m5.2.2.4.2.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.9.m5.2.2.4.2.1.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.4">subscript</csymbol><ci id="S3.SS2.SSS1.p6.9.m5.2.2.4.2.2.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.4.2.2">𝑄</ci><ci id="S3.SS2.SSS1.p6.9.m5.2.2.4.2.3.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.4.2.3">𝑔</ci></apply><times id="S3.SS2.SSS1.p6.9.m5.2.2.4.3.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.4.3"></times></apply><interval closure="open" id="S3.SS2.SSS1.p6.9.m5.2.2.2.3.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.2"><apply id="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.2">𝑠</ci><ci id="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p6.9.m5.1.1.1.1.1.3">𝑡</ci></apply><apply id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.1.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.2.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.2">𝑎</ci><ci id="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.3.cmml" xref="S3.SS2.SSS1.p6.9.m5.2.2.2.2.2.3">𝑡</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.9.m5.2c">Q_{g}^{*}(s_{t},a_{t})</annotation></semantics></math> is the cost of the optimal plan from <math id="S3.SS2.SSS1.p6.10.m6.1" class="ltx_Math" alttext="s_{t}" display="inline"><semantics id="S3.SS2.SSS1.p6.10.m6.1a"><msub id="S3.SS2.SSS1.p6.10.m6.1.1" xref="S3.SS2.SSS1.p6.10.m6.1.1.cmml"><mi id="S3.SS2.SSS1.p6.10.m6.1.1.2" xref="S3.SS2.SSS1.p6.10.m6.1.1.2.cmml">s</mi><mi id="S3.SS2.SSS1.p6.10.m6.1.1.3" xref="S3.SS2.SSS1.p6.10.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.10.m6.1b"><apply id="S3.SS2.SSS1.p6.10.m6.1.1.cmml" xref="S3.SS2.SSS1.p6.10.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.10.m6.1.1.1.cmml" xref="S3.SS2.SSS1.p6.10.m6.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p6.10.m6.1.1.2.cmml" xref="S3.SS2.SSS1.p6.10.m6.1.1.2">𝑠</ci><ci id="S3.SS2.SSS1.p6.10.m6.1.1.3.cmml" xref="S3.SS2.SSS1.p6.10.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.10.m6.1c">s_{t}</annotation></semantics></math> to goal <math id="S3.SS2.SSS1.p6.11.m7.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S3.SS2.SSS1.p6.11.m7.1a"><mi id="S3.SS2.SSS1.p6.11.m7.1.1" xref="S3.SS2.SSS1.p6.11.m7.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.11.m7.1b"><ci id="S3.SS2.SSS1.p6.11.m7.1.1.cmml" xref="S3.SS2.SSS1.p6.11.m7.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.11.m7.1c">g</annotation></semantics></math> with performing <math id="S3.SS2.SSS1.p6.12.m8.1" class="ltx_Math" alttext="a_{t}" display="inline"><semantics id="S3.SS2.SSS1.p6.12.m8.1a"><msub id="S3.SS2.SSS1.p6.12.m8.1.1" xref="S3.SS2.SSS1.p6.12.m8.1.1.cmml"><mi id="S3.SS2.SSS1.p6.12.m8.1.1.2" xref="S3.SS2.SSS1.p6.12.m8.1.1.2.cmml">a</mi><mi id="S3.SS2.SSS1.p6.12.m8.1.1.3" xref="S3.SS2.SSS1.p6.12.m8.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p6.12.m8.1b"><apply id="S3.SS2.SSS1.p6.12.m8.1.1.cmml" xref="S3.SS2.SSS1.p6.12.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p6.12.m8.1.1.1.cmml" xref="S3.SS2.SSS1.p6.12.m8.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p6.12.m8.1.1.2.cmml" xref="S3.SS2.SSS1.p6.12.m8.1.1.2">𝑎</ci><ci id="S3.SS2.SSS1.p6.12.m8.1.1.3.cmml" xref="S3.SS2.SSS1.p6.12.m8.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p6.12.m8.1c">a_{t}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.SSS1.p7" class="ltx_para">
<p id="S3.SS2.SSS1.p7.4" class="ltx_p">To estimate the second conditional probability <math id="S3.SS2.SSS1.p7.1.m1.1" class="ltx_Math" alttext="P(g_{r}|T_{s})" display="inline"><semantics id="S3.SS2.SSS1.p7.1.m1.1a"><mrow id="S3.SS2.SSS1.p7.1.m1.1.1" xref="S3.SS2.SSS1.p7.1.m1.1.1.cmml"><mi id="S3.SS2.SSS1.p7.1.m1.1.1.3" xref="S3.SS2.SSS1.p7.1.m1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p7.1.m1.1.1.2" xref="S3.SS2.SSS1.p7.1.m1.1.1.2.cmml">​</mo><mrow id="S3.SS2.SSS1.p7.1.m1.1.1.1.1" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.2" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.cmml"><msub id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.cmml"><mi id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.2.cmml">g</mi><mi id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.3" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.3.cmml">r</mi></msub><mo fence="false" id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.1" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.2" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.2.cmml">T</mi><mi id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.3" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.3.cmml">s</mi></msub></mrow><mo stretchy="false" id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.3" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p7.1.m1.1b"><apply id="S3.SS2.SSS1.p7.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1"><times id="S3.SS2.SSS1.p7.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.2"></times><ci id="S3.SS2.SSS1.p7.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.3">𝑃</ci><apply id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.1.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.2">𝑔</ci><ci id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.2.3">𝑟</ci></apply><apply id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.2">𝑇</ci><ci id="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS1.p7.1.m1.1.1.1.1.1.3.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p7.1.m1.1c">P(g_{r}|T_{s})</annotation></semantics></math>, we query Llama-3.1-70B as a likelihood function, which approximates the conditional probability as the token probability of <math id="S3.SS2.SSS1.p7.2.m2.1" class="ltx_Math" alttext="g_{r}" display="inline"><semantics id="S3.SS2.SSS1.p7.2.m2.1a"><msub id="S3.SS2.SSS1.p7.2.m2.1.1" xref="S3.SS2.SSS1.p7.2.m2.1.1.cmml"><mi id="S3.SS2.SSS1.p7.2.m2.1.1.2" xref="S3.SS2.SSS1.p7.2.m2.1.1.2.cmml">g</mi><mi id="S3.SS2.SSS1.p7.2.m2.1.1.3" xref="S3.SS2.SSS1.p7.2.m2.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p7.2.m2.1b"><apply id="S3.SS2.SSS1.p7.2.m2.1.1.cmml" xref="S3.SS2.SSS1.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p7.2.m2.1.1.1.cmml" xref="S3.SS2.SSS1.p7.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p7.2.m2.1.1.2.cmml" xref="S3.SS2.SSS1.p7.2.m2.1.1.2">𝑔</ci><ci id="S3.SS2.SSS1.p7.2.m2.1.1.3.cmml" xref="S3.SS2.SSS1.p7.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p7.2.m2.1c">g_{r}</annotation></semantics></math> when prompted with <math id="S3.SS2.SSS1.p7.3.m3.1" class="ltx_Math" alttext="T_{s}" display="inline"><semantics id="S3.SS2.SSS1.p7.3.m3.1a"><msub id="S3.SS2.SSS1.p7.3.m3.1.1" xref="S3.SS2.SSS1.p7.3.m3.1.1.cmml"><mi id="S3.SS2.SSS1.p7.3.m3.1.1.2" xref="S3.SS2.SSS1.p7.3.m3.1.1.2.cmml">T</mi><mi id="S3.SS2.SSS1.p7.3.m3.1.1.3" xref="S3.SS2.SSS1.p7.3.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p7.3.m3.1b"><apply id="S3.SS2.SSS1.p7.3.m3.1.1.cmml" xref="S3.SS2.SSS1.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p7.3.m3.1.1.1.cmml" xref="S3.SS2.SSS1.p7.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p7.3.m3.1.1.2.cmml" xref="S3.SS2.SSS1.p7.3.m3.1.1.2">𝑇</ci><ci id="S3.SS2.SSS1.p7.3.m3.1.1.3.cmml" xref="S3.SS2.SSS1.p7.3.m3.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p7.3.m3.1c">T_{s}</annotation></semantics></math> and few shot prompts <math id="S3.SS2.SSS1.p7.4.m4.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S3.SS2.SSS1.p7.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.SSS1.p7.4.m4.1.1" xref="S3.SS2.SSS1.p7.4.m4.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p7.4.m4.1b"><ci id="S3.SS2.SSS1.p7.4.m4.1.1.cmml" xref="S3.SS2.SSS1.p7.4.m4.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p7.4.m4.1c">\mathcal{E}</annotation></semantics></math>. This gives us a probability distribution over robot goal space with the speech input.</p>
</div>
<div id="S3.SS2.SSS1.p8" class="ltx_para">
<p id="S3.SS2.SSS1.p8.1" class="ltx_p">Once we obtain the posterior probability <math id="S3.SS2.SSS1.p8.1.m1.1" class="ltx_Math" alttext="P(g_{r}|a_{h},T_{s})" display="inline"><semantics id="S3.SS2.SSS1.p8.1.m1.1a"><mrow id="S3.SS2.SSS1.p8.1.m1.1.1" xref="S3.SS2.SSS1.p8.1.m1.1.1.cmml"><mi id="S3.SS2.SSS1.p8.1.m1.1.1.3" xref="S3.SS2.SSS1.p8.1.m1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS1.p8.1.m1.1.1.2" xref="S3.SS2.SSS1.p8.1.m1.1.1.2.cmml">​</mo><mrow id="S3.SS2.SSS1.p8.1.m1.1.1.1.1" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.2" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.cmml"><msub id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.cmml"><mi id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.2" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.2.cmml">g</mi><mi id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.3" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.3.cmml">r</mi></msub><mo fence="false" id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.3" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.3.cmml"><msub id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.2.cmml">a</mi><mi id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.3.cmml">h</mi></msub><mo id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.3" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.2" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.2.cmml">T</mi><mi id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.3" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.3.cmml">s</mi></msub></mrow></mrow><mo stretchy="false" id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.3" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS1.p8.1.m1.1b"><apply id="S3.SS2.SSS1.p8.1.m1.1.1.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1"><times id="S3.SS2.SSS1.p8.1.m1.1.1.2.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.2"></times><ci id="S3.SS2.SSS1.p8.1.m1.1.1.3.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.3">𝑃</ci><apply id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.1.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.2.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.2">𝑔</ci><ci id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.3.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.4.3">𝑟</ci></apply><list id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2"><apply id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.2">𝑎</ci><ci id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.1.1.1.3">ℎ</ci></apply><apply id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.2">𝑇</ci><ci id="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.SS2.SSS1.p8.1.m1.1.1.1.1.1.2.2.2.3">𝑠</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS1.p8.1.m1.1c">P(g_{r}|a_{h},T_{s})</annotation></semantics></math> conditioned on both the speech and planning context, SIFToM selects the most likely robot subgoal for execution.</p>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Simulated Experiment</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">As there is no noisy spoken instruction dataset for embodied collaboration, we first constructed a novel dataset called UnclearInstruct in a simulated home environment where a human principal agent requests help from an AI agent to complete a household task.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.4.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.5.2" class="ltx_text ltx_font_italic">Dataset Construction</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">Our dataset UnclearInstruct is situated in a simulator household environment with both natural and synthesized speech instructions.</p>
</div>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2409.10849/assets/figure/vh2.png" id="S4.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="419" height="249" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.2.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S4.F3.3.2" class="ltx_text" style="font-size:90%;">An illustration of the VirtualHome simulator where a main agent and an assistant collaborate on a household task.</span></figcaption>
</figure>
<figure id="S4.T1" class="ltx_table">
<table id="S4.T1.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.2.1.1" class="ltx_tr">
<th id="S4.T1.2.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S4.T1.2.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.1.1.1.1.1" class="ltx_p" style="width:42.7pt;"><span id="S4.T1.2.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Goals</span></span>
</span>
</th>
<th id="S4.T1.2.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S4.T1.2.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.1.1.2.1.1" class="ltx_p" style="width:170.7pt;"><span id="S4.T1.2.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Goal Specification</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.2.2.1" class="ltx_tr">
<td id="S4.T1.2.2.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T1.2.2.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.2.1.1.1.1" class="ltx_p" style="width:42.7pt;">Set up table</span>
</span>
</td>
<td id="S4.T1.2.2.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T1.2.2.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.2.1.2.1.1" class="ltx_p" style="width:170.7pt;">Put [N forks, N plates, N waterglasses or wineglasses] on [kitchentable, coffeetable]</span>
</span>
</td>
</tr>
<tr id="S4.T1.2.3.2" class="ltx_tr">
<td id="S4.T1.2.3.2.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T1.2.3.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.3.2.1.1.1" class="ltx_p" style="width:42.7pt;">Prepare meal</span>
</span>
</td>
<td id="S4.T1.2.3.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T1.2.3.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.3.2.2.1.1" class="ltx_p" style="width:170.7pt;">Put two or three of [N apples, N salmon, N pudding or cupcakes] on kitchentable</span>
</span>
</td>
</tr>
<tr id="S4.T1.2.4.3" class="ltx_tr">
<td id="S4.T1.2.4.3.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T1.2.4.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.4.3.1.1.1" class="ltx_p" style="width:42.7pt;">Put groceries</span>
</span>
</td>
<td id="S4.T1.2.4.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T1.2.4.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.4.3.2.1.1" class="ltx_p" style="width:170.7pt;">Put some [apples or salmon, pudding or cupcakes] inside fridge</span>
</span>
</td>
</tr>
<tr id="S4.T1.2.5.4" class="ltx_tr">
<td id="S4.T1.2.5.4.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="S4.T1.2.5.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.5.4.1.1.1" class="ltx_p" style="width:42.7pt;">Load dishwasher</span>
</span>
</td>
<td id="S4.T1.2.5.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="S4.T1.2.5.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.2.5.4.2.1.1" class="ltx_p" style="width:170.7pt;">Put some forks, plates, waterglasses and wineglasses inside dishwasher</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.3.1.1" class="ltx_text" style="font-size:90%;">TABLE I</span>: </span><span id="S4.T1.4.2" class="ltx_text" style="font-size:90%;">VirtualHome goal specifications. In prepare meal and set up table, all goals have three item categories and the items have the same item count (e.g. 3 forks, 3 plates, 3 waterglassses on coffeetable) where in Put groceries and Load dishwasher, goals can have 2 item categories and item counts may vary (e.g. 3 forks and 2 plates inside dishwasher)</span></figcaption>
</figure>
<figure id="S4.T2" class="ltx_table">
<table id="S4.T2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.2.1.1" class="ltx_tr">
<th id="S4.T2.2.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S4.T2.2.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.1.1.1.1.1" class="ltx_p" style="width:56.9pt;"><span id="S4.T2.2.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Goals</span></span>
</span>
</th>
<th id="S4.T2.2.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S4.T2.2.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.1.1.2.1.1" class="ltx_p" style="width:170.7pt;"><span id="S4.T2.2.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Goal Specification</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.2.2.1" class="ltx_tr">
<td id="S4.T2.2.2.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T2.2.2.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.2.1.1.1.1" class="ltx_p" style="width:56.9pt;">Breakfast Cereal</span>
</span>
</td>
<td id="S4.T2.2.2.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S4.T2.2.2.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.2.1.2.1.1" class="ltx_p" style="width:170.7pt;">Cereal, Bowl, Milk</span>
</span>
</td>
</tr>
<tr id="S4.T2.2.3.2" class="ltx_tr">
<td id="S4.T2.2.3.2.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.3.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.3.2.1.1.1" class="ltx_p" style="width:56.9pt;">Prepare Coffee</span>
</span>
</td>
<td id="S4.T2.2.3.2.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.3.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.3.2.2.1.1" class="ltx_p" style="width:170.7pt;">Coffee, Cup, Milk</span>
</span>
</td>
</tr>
<tr id="S4.T2.2.4.3" class="ltx_tr">
<td id="S4.T2.2.4.3.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.4.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.4.3.1.1.1" class="ltx_p" style="width:56.9pt;">Prepare Tea</span>
</span>
</td>
<td id="S4.T2.2.4.3.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.4.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.4.3.2.1.1" class="ltx_p" style="width:170.7pt;">Tea, Cup, Milk</span>
</span>
</td>
</tr>
<tr id="S4.T2.2.5.4" class="ltx_tr">
<td id="S4.T2.2.5.4.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.5.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.5.4.1.1.1" class="ltx_p" style="width:56.9pt;">Tomato Pasta</span>
</span>
</td>
<td id="S4.T2.2.5.4.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.5.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.5.4.2.1.1" class="ltx_p" style="width:170.7pt;">Pasta, Tomato Sauce, Bowl</span>
</span>
</td>
</tr>
<tr id="S4.T2.2.6.5" class="ltx_tr">
<td id="S4.T2.2.6.5.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.6.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.6.5.1.1.1" class="ltx_p" style="width:56.9pt;">Tomato Soup</span>
</span>
</td>
<td id="S4.T2.2.6.5.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.6.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.6.5.2.1.1" class="ltx_p" style="width:170.7pt;">Milk, Tomato Sauce, Bowl</span>
</span>
</td>
</tr>
<tr id="S4.T2.2.7.6" class="ltx_tr">
<td id="S4.T2.2.7.6.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.7.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.7.6.1.1.1" class="ltx_p" style="width:56.9pt;">Breakfast Bagel</span>
</span>
</td>
<td id="S4.T2.2.7.6.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.7.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.7.6.2.1.1" class="ltx_p" style="width:170.7pt;">Bagel, Peanut Butter*, Orange Juice*</span>
</span>
</td>
</tr>
<tr id="S4.T2.2.8.7" class="ltx_tr">
<td id="S4.T2.2.8.7.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.8.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.8.7.1.1.1" class="ltx_p" style="width:56.9pt;">Breakfast Snack</span>
</span>
</td>
<td id="S4.T2.2.8.7.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S4.T2.2.8.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.8.7.2.1.1" class="ltx_p" style="width:170.7pt;">Energy Bar, Orange Juice*</span>
</span>
</td>
</tr>
<tr id="S4.T2.2.9.8" class="ltx_tr">
<td id="S4.T2.2.9.8.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt">
<span id="S4.T2.2.9.8.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T2.2.9.8.1.1.1" class="ltx_p" style="width:56.9pt;">*Optional items</span>
</span>
</td>
<td id="S4.T2.2.9.8.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt"></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.3.1.1" class="ltx_text" style="font-size:90%;">TABLE II</span>: </span><span id="S4.T2.4.2" class="ltx_text" style="font-size:90%;">Goal specifications for breakfast preparation tasks in the realworld evaluation experiment. </span></figcaption>
</figure>
<section id="S4.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS1.4.1.1" class="ltx_text">IV-A</span>1 </span>Tasks and Scenarios</h4>

<div id="S4.SS1.SSS1.p1" class="ltx_para">
<p id="S4.SS1.SSS1.p1.1" class="ltx_p">We sampled 66 task scenarios from VirtualHome 2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>, a multiagent household simulator. We consider 4 categories of household tasks: Set up a table, Put groceries, Prepare food, and Load the Dishwasher. The task specifications are described in Table <a href="#S4.T1" title="TABLE I ‣ IV-A Dataset Construction ‣ IV Simulated Experiment ‣ SIFToM: Robust Spoken Instruction Following through Theory of Mind" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>.</p>
</div>
</section>
<section id="S4.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS2.4.1.1" class="ltx_text">IV-A</span>2 </span>Instruction Collection</h4>

<div id="S4.SS1.SSS2.p1" class="ltx_para">
<p id="S4.SS1.SSS2.p1.1" class="ltx_p">We recruited 5 participants (Mean age: 24.5, 3 Male, 2 Female) from a US university. We showed the participants each task scenario and asked them to provide natural-language instruction they would give to the robot in each scenario. The participants were then asked to give a speech command of these instructions and the participants’ speech was recorded by the experimenter. In total, after removing duplicate instructions, we collected 280 language instructions from human participants.</p>
</div>
</section>
<section id="S4.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS3.4.1.1" class="ltx_text">IV-A</span>3 </span>Speech Generation</h4>

<div id="S4.SS1.SSS3.p1" class="ltx_para">
<p id="S4.SS1.SSS3.p1.1" class="ltx_p">In the dataset, we examine three speech conditions: noise, accents, and mispronunciations. In total, 3080 speech files are generated, including 280 original speech files, 840 files with noise, 1120 files with accents, and 840 files with mispronunciations.</p>
</div>
<section id="S4.SS1.SSS3.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Noise</h5>

<div id="S4.SS1.SSS3.Px1.p1" class="ltx_para">
<p id="S4.SS1.SSS3.Px1.p1.1" class="ltx_p">Following the prior ASR work on noise injection, we merged real-world noise with human speech to simulate noisy speech under various conditions. We used the noise files from the the Microsoft Scalable Noisy Speech Dataset (MS-SNSD) dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>, which included 14 types of real-world noise, such as air conditioner, appliances noise, car noise, multi-talker babble, etc..</p>
</div>
</section>
<section id="S4.SS1.SSS3.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Accents</h5>

<div id="S4.SS1.SSS3.Px2.p1" class="ltx_para">
<p id="S4.SS1.SSS3.Px2.p1.1" class="ltx_p">To generate accents, we used Speechify’s foreign accent generator to generate speech instructions with the collected human instructions. We included 4 accents in our dataset: German, Russian, Irish, and Indonesian.</p>
</div>
</section>
<section id="S4.SS1.SSS3.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Mispronunciation</h5>

<div id="S4.SS1.SSS3.Px3.p1" class="ltx_para">
<p id="S4.SS1.SSS3.Px3.p1.1" class="ltx_p">To mimic mispronunciation, we randomly chose a word from each human instruction to be replaced with a homophone word and used Speechify to generate a mispronounced speech. Five mispronounced speech files were generated for each instruction.</p>
</div>
</section>
</section>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.4.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.5.2" class="ltx_text ltx_font_italic">Baselines</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">To evaluate the performance, we evaluate the model against human, ASR and multimodal-LLM baselines. We used Llama-3.1-70B for all the models except the two Gemini baselines.</p>
</div>
<section id="S4.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS2.SSS1.4.1.1" class="ltx_text">IV-B</span>1 </span>Human baseline</h4>

<div id="S4.SS2.SSS1.p1" class="ltx_para">
<p id="S4.SS2.SSS1.p1.1" class="ltx_p">To evaluate the human performance on the dataset, we ran a human experiment with a customized online interface. We recruited 102 participants. Each participant was informed of the full goal space and completed 30 trials. In each trial, the participant was shown a text description of the main agent’s actions and an audio file of the speech instruction. The participants assumed the role of the assistant (recipient of the speech instruction) and were asked to give a transcription of the speech and select the items they would pick up to aid the main agent.</p>
</div>
</section>
<section id="S4.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS2.SSS2.4.1.1" class="ltx_text">IV-B</span>2 </span>Vision-only</h4>

<div id="S4.SS2.SSS2.p1" class="ltx_para">
<p id="S4.SS2.SSS2.p1.1" class="ltx_p">Previous work on VirtualHome has mostly focused on vision-only assistance models. We adopt a similar inverse planning and assistance model proposed by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>, which tries to proactively assist humans on household tasks after watching their actions and inferring their goals.</p>
</div>
</section>
<section id="S4.SS2.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS2.SSS3.4.1.1" class="ltx_text">IV-B</span>3 </span>ASR + LLM</h4>

<div id="S4.SS2.SSS3.p1" class="ltx_para">
<p id="S4.SS2.SSS3.p1.1" class="ltx_p">The ASR + LLM baselines follow existing pipelines for speech-based human robot interaction, which first use a speech recognition module to transcribe the human speech, then further extract information and control commands from the transcription. We prompted Llama-3.1-70B for translating ASR output to symbolic robot goals. We used 3 kinds of ASR models in this study: Whisper, RobustGER, and ASR + Vision.</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">Whisper: We used the most powerful Whisper Large V2 model, an state-of-the art ASR model by OpenAI.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">RobustGER <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>: The RobustGER model combines ASR and LLM to perform generative error correction (GER), which makes the model more robust to noise.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p">ASR + Vision (ASR+V): The ASR+V model uses an LLM to integrate Whisper transcript and visual information to output an improved transcript.</p>
</div>
</li>
</ul>
</div>
<figure id="S4.T3" class="ltx_table">
<table id="S4.T3.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T3.2.1.1" class="ltx_tr">
<td id="S4.T3.2.1.1.1" class="ltx_td ltx_border_tt"></td>
<th id="S4.T3.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3"><span id="S4.T3.2.1.1.2.1" class="ltx_text ltx_font_bold">UniModal</span></th>
<th id="S4.T3.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5"><span id="S4.T3.2.1.1.3.1" class="ltx_text ltx_font_bold">Multimodal</span></th>
</tr>
<tr id="S4.T3.2.2.2" class="ltx_tr">
<th id="S4.T3.2.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.2.2.2.1.1" class="ltx_text ltx_font_bold">Metric</span></th>
<th id="S4.T3.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.2.2.2.2.1" class="ltx_text ltx_font_bold">Whisper</span></th>
<th id="S4.T3.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.2.2.2.3.1" class="ltx_text ltx_font_bold">Gemini (S)</span></th>
<th id="S4.T3.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.2.2.2.4.1" class="ltx_text ltx_font_bold">Vision-only</span></th>
<th id="S4.T3.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.2.2.2.5.1" class="ltx_text ltx_font_bold">ASR + Vision</span></th>
<th id="S4.T3.2.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.2.2.2.6.1" class="ltx_text ltx_font_bold">RobustGER</span></th>
<th id="S4.T3.2.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.2.2.2.7.1" class="ltx_text ltx_font_bold">Gemini (S+V)</span></th>
<th id="S4.T3.2.2.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.2.2.2.8.1" class="ltx_text ltx_font_bold">SIFToM</span></th>
<th id="S4.T3.2.2.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S4.T3.2.2.2.9.1" class="ltx_text ltx_font_bold">Human</span></th>
</tr>
<tr id="S4.T3.2.3.3" class="ltx_tr">
<td id="S4.T3.2.3.3.1" class="ltx_td ltx_align_center ltx_border_t">Accuracy</td>
<td id="S4.T3.2.3.3.2" class="ltx_td ltx_align_center ltx_border_t">0.64 (0.01)</td>
<td id="S4.T3.2.3.3.3" class="ltx_td ltx_align_center ltx_border_t">0.64 (0.01)</td>
<td id="S4.T3.2.3.3.4" class="ltx_td ltx_align_center ltx_border_t">0.44 (0.01)</td>
<td id="S4.T3.2.3.3.5" class="ltx_td ltx_align_center ltx_border_t">0.66 (0.01)</td>
<td id="S4.T3.2.3.3.6" class="ltx_td ltx_align_center ltx_border_t">0.69 (0.01)</td>
<td id="S4.T3.2.3.3.7" class="ltx_td ltx_align_center ltx_border_t">0.70 (0.01)</td>
<td id="S4.T3.2.3.3.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.2.3.3.8.1" class="ltx_text ltx_font_bold">0.74 (0.01)</span></td>
<td id="S4.T3.2.3.3.9" class="ltx_td ltx_align_center ltx_border_t">0.80 (0.01)</td>
</tr>
<tr id="S4.T3.2.4.4" class="ltx_tr">
<td id="S4.T3.2.4.4.1" class="ltx_td ltx_align_center">Speedup</td>
<td id="S4.T3.2.4.4.2" class="ltx_td ltx_align_center">0.27 (0.01)</td>
<td id="S4.T3.2.4.4.3" class="ltx_td ltx_align_center">0.27 (0.01)</td>
<td id="S4.T3.2.4.4.4" class="ltx_td ltx_align_center">0.24 (0.01)</td>
<td id="S4.T3.2.4.4.5" class="ltx_td ltx_align_center">0.27 (0.01)</td>
<td id="S4.T3.2.4.4.6" class="ltx_td ltx_align_center">0.29 (0.01)</td>
<td id="S4.T3.2.4.4.7" class="ltx_td ltx_align_center">0.30 (0.01)</td>
<td id="S4.T3.2.4.4.8" class="ltx_td ltx_align_center"><span id="S4.T3.2.4.4.8.1" class="ltx_text ltx_font_bold">0.36 (0.01)</span></td>
<td id="S4.T3.2.4.4.9" class="ltx_td ltx_align_center">0.39 (0.01)</td>
</tr>
<tr id="S4.T3.2.5.5" class="ltx_tr">
<td id="S4.T3.2.5.5.1" class="ltx_td ltx_align_center ltx_border_bb">WER</td>
<td id="S4.T3.2.5.5.2" class="ltx_td ltx_align_center ltx_border_bb">0.39 (0.00)</td>
<td id="S4.T3.2.5.5.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T3.2.5.5.3.1" class="ltx_text ltx_font_bold">0.27 (0.01)</span></td>
<td id="S4.T3.2.5.5.4" class="ltx_td ltx_align_center ltx_border_bb">-</td>
<td id="S4.T3.2.5.5.5" class="ltx_td ltx_align_center ltx_border_bb">0.30 (0.00)</td>
<td id="S4.T3.2.5.5.6" class="ltx_td ltx_align_center ltx_border_bb">0.34 (0.01)</td>
<td id="S4.T3.2.5.5.7" class="ltx_td ltx_align_center ltx_border_bb">0.29 (0.01)</td>
<td id="S4.T3.2.5.5.8" class="ltx_td ltx_align_center ltx_border_bb">0.39 (0.00)</td>
<td id="S4.T3.2.5.5.9" class="ltx_td ltx_align_center ltx_border_bb">0.28 (0.00)</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T3.3.1.1" class="ltx_text" style="font-size:90%;">TABLE III</span>: </span><span id="S4.T3.4.2" class="ltx_text" style="font-size:90%;">Average robot goal inference accuracy, speedup, and word error rate by humans and models. The SIFToM model outperformed all other model baselines on robot goal inference accuracy and speedup, which approached human-level performance. The Gemini models achieved the best WER. The SIFToM models uses the transcripts from Whisper and hence has the same WER. Standard errors are shown in brackets.</span></figcaption>
</figure>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2409.10849/assets/figure/exp_results.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="592" height="241" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.2.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.3.2" class="ltx_text" style="font-size:90%;">Model accuracy and speedup performance broken down by speed factors. Overall SIFToM achieved the best performance among all models in all four speech conditions. Error bars indicate standard errors.</span></figcaption>
</figure>
</section>
<section id="S4.SS2.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS2.SSS4.4.1.1" class="ltx_text">IV-B</span>4 </span>Multimodal LLM</h4>

<div id="S4.SS2.SSS4.p1" class="ltx_para">
<p id="S4.SS2.SSS4.p1.1" class="ltx_p">We use Gemini-Pro as our M-LLM baseline that translates directly from speech to robot goal with transcript. We tested two variants of prompting. In the speech-only condition (Gemini S), we prompted Gemini to translate directly to tasks without goal space and observations of human actions. In the multimodal condition (Gemini S+V), we prompted the LLM with the same input given to the human participants in the human experiment (goal space + visual observations in text with speech audio).</p>
</div>
</section>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS3.4.1.1" class="ltx_text">IV-C</span> </span><span id="S4.SS3.5.2" class="ltx_text ltx_font_italic">Performance Metrics</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">We evaluated the model performance with three metrics: accuracy rate, speedup, and word error rare (WER).</p>
</div>
<section id="S4.SS3.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Accuracy</h5>

<div id="S4.SS3.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS3.SSS0.Px1.p1.1" class="ltx_p">We measured inference accuracy by the percentage of trials that the robot inferred the correct robot goal from speech instructions.</p>
</div>
</section>
<section id="S4.SS3.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Speedup</h5>

<div id="S4.SS3.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS3.SSS0.Px2.p1.3" class="ltx_p">Following past work on human-robot collaboration in VirtualHome <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>, we computed the speedup of the baseline models against a single-agent (human alone) baseline. The speedup is computed as <math id="S4.SS3.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="Speedup=L_{single}/L_{team}-1" display="inline"><semantics id="S4.SS3.SSS0.Px2.p1.1.m1.1a"><mrow id="S4.SS3.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.cmml"><mrow id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml"><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.2" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.3" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1a" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.4" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1b" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.5" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1c" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.6" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.6.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1d" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.7" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.7.cmml">u</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1e" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.8" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.8.cmml">p</mi></mrow><mo id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.1" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.1.cmml">=</mo><mrow id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mrow id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.cmml"><msub id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.cmml"><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.2" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.2.cmml">L</mi><mrow id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.cmml"><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.2" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.3" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1a" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.4" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1b" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.5" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1c" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.6" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1d" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.7" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.7.cmml">e</mi></mrow></msub><mo id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.1" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.1.cmml">/</mo><msub id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.cmml"><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.2" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.2.cmml">L</mi><mrow id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.cmml"><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.2" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.1" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.3" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.1a" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.4" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.1b" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.5" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.5.cmml">m</mi></mrow></msub></mrow><mo id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.1" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml">−</mo><mn id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS0.Px2.p1.1.m1.1b"><apply id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1"><eq id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.1"></eq><apply id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2"><times id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.1"></times><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.2.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.2">𝑆</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.3.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.3">𝑝</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.4.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.4">𝑒</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.5.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.5">𝑒</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.6.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.6">𝑑</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.7.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.7">𝑢</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.8.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.2.8">𝑝</ci></apply><apply id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3"><minus id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.1"></minus><apply id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2"><divide id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.1.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.1"></divide><apply id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.1.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2">subscript</csymbol><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.2.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.2">𝐿</ci><apply id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3"><times id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.1"></times><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.2.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.2">𝑠</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.3.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.3">𝑖</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.4.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.4">𝑛</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.5.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.5">𝑔</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.6.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.6">𝑙</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.7.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.2.3.7">𝑒</ci></apply></apply><apply id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.1.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3">subscript</csymbol><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.2.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.2">𝐿</ci><apply id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3"><times id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.1.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.1"></times><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.2.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.2">𝑡</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.3.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.3">𝑒</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.4.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.4">𝑎</ci><ci id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.5.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.3.3.5">𝑚</ci></apply></apply></apply><cn type="integer" id="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="S4.SS3.SSS0.Px2.p1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS0.Px2.p1.1.m1.1c">Speedup=L_{single}/L_{team}-1</annotation></semantics></math>, where <math id="S4.SS3.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="L_{single}" display="inline"><semantics id="S4.SS3.SSS0.Px2.p1.2.m2.1a"><msub id="S4.SS3.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.2" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.2.cmml">L</mi><mrow id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.cmml"><mi id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.2" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.3" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1a" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.4" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1b" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.5" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.5.cmml">g</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1c" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.6" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1d" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.7" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.7.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS0.Px2.p1.2.m2.1b"><apply id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.2">𝐿</ci><apply id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3"><times id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.1"></times><ci id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.2.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.2">𝑠</ci><ci id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.3.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.3">𝑖</ci><ci id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.4.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.4">𝑛</ci><ci id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.5.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.5">𝑔</ci><ci id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.6.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.6">𝑙</ci><ci id="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.7.cmml" xref="S4.SS3.SSS0.Px2.p1.2.m2.1.1.3.7">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS0.Px2.p1.2.m2.1c">L_{single}</annotation></semantics></math> is the timesteps it takes for the human agent to complete the task alone without robot assistance and <math id="S4.SS3.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="L_{team}" display="inline"><semantics id="S4.SS3.SSS0.Px2.p1.3.m3.1a"><msub id="S4.SS3.SSS0.Px2.p1.3.m3.1.1" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.2" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.2.cmml">L</mi><mrow id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.cmml"><mi id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.2" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.1" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.3" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.1a" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.4" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.1b" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.5" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.5.cmml">m</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS0.Px2.p1.3.m3.1b"><apply id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.2">𝐿</ci><apply id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3"><times id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.1.cmml" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.1"></times><ci id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.2.cmml" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.2">𝑡</ci><ci id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.3.cmml" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.3">𝑒</ci><ci id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.4.cmml" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.4">𝑎</ci><ci id="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.5.cmml" xref="S4.SS3.SSS0.Px2.p1.3.m3.1.1.3.5">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS0.Px2.p1.3.m3.1c">L_{team}</annotation></semantics></math> is the timesteps for the human-robot team.</p>
</div>
</section>
<section id="S4.SS3.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Word Error Rate</h5>

<div id="S4.SS3.SSS0.Px3.p1" class="ltx_para">
<p id="S4.SS3.SSS0.Px3.p1.1" class="ltx_p">We followed existing work on ASR, which calculated WER as the percentage of errors in a transcript compared to the total words spoken. A perfect transcription has a WER of 0.</p>
</div>
</section>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS4.4.1.1" class="ltx_text">IV-D</span> </span><span id="S4.SS4.5.2" class="ltx_text ltx_font_italic">Results</span>
</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">The results of the simulated study is shown in Table. <a href="#S4.T4" title="TABLE IV ‣ IV-D Results ‣ IV Simulated Experiment ‣ SIFToM: Robust Spoken Instruction Following through Theory of Mind" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a>. Overall, despite being a lightweight model that uses Whisper with Llama3.1 70B model, SIFToM significantly boost the inference accuracy of other ASR+LLM models and outperformed Gemini Pro, a much larger VLLM. The difference between the SIFToM model and other baselines are all statistically significant with <math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="p&lt;0.001" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><mrow id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml"><mi id="S4.SS4.p1.1.m1.1.1.2" xref="S4.SS4.p1.1.m1.1.1.2.cmml">p</mi><mo id="S4.SS4.p1.1.m1.1.1.1" xref="S4.SS4.p1.1.m1.1.1.1.cmml">&lt;</mo><mn id="S4.SS4.p1.1.m1.1.1.3" xref="S4.SS4.p1.1.m1.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><apply id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1"><lt id="S4.SS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1.1"></lt><ci id="S4.SS4.p1.1.m1.1.1.2.cmml" xref="S4.SS4.p1.1.m1.1.1.2">𝑝</ci><cn type="float" id="S4.SS4.p1.1.m1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">p&lt;0.001</annotation></semantics></math>.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.1" class="ltx_p">The model performance broken down by speech factors is shown in Fig. <a href="#S4.F4" title="Figure 4 ‣ IV-B3 ASR + LLM ‣ IV-B Baselines ‣ IV Simulated Experiment ‣ SIFToM: Robust Spoken Instruction Following through Theory of Mind" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, which shows a similar pattern across all conditions. We also observed that human participants performed worse in the accent condition than in mispronounced and noise conditions, whereas models generally are less robust in both noise or accent conditions.</p>
</div>
<figure id="S4.T4" class="ltx_table">
<table id="S4.T4.2" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T4.2.1.1" class="ltx_tr">
<td id="S4.T4.2.1.1.1" class="ltx_td ltx_align_center ltx_border_tt"><span id="S4.T4.2.1.1.1.1" class="ltx_text ltx_font_bold">Whisper</span></td>
<td id="S4.T4.2.1.1.2" class="ltx_td ltx_align_center ltx_border_tt"><span id="S4.T4.2.1.1.2.1" class="ltx_text ltx_font_bold">Gemini (S)</span></td>
<td id="S4.T4.2.1.1.3" class="ltx_td ltx_align_center ltx_border_tt"><span id="S4.T4.2.1.1.3.1" class="ltx_text ltx_font_bold">Vision-only</span></td>
<td id="S4.T4.2.1.1.4" class="ltx_td ltx_align_center ltx_border_tt"><span id="S4.T4.2.1.1.4.1" class="ltx_text ltx_font_bold">ASR + Vision</span></td>
<td id="S4.T4.2.1.1.5" class="ltx_td ltx_align_center ltx_border_tt"><span id="S4.T4.2.1.1.5.1" class="ltx_text ltx_font_bold">RobustGER</span></td>
<td id="S4.T4.2.1.1.6" class="ltx_td ltx_align_center ltx_border_tt"><span id="S4.T4.2.1.1.6.1" class="ltx_text ltx_font_bold">Gemini (S+V)</span></td>
<td id="S4.T4.2.1.1.7" class="ltx_td ltx_align_center ltx_border_tt"><span id="S4.T4.2.1.1.7.1" class="ltx_text ltx_font_bold">SIFToM</span></td>
<td id="S4.T4.2.1.1.8" class="ltx_td ltx_align_center ltx_border_tt"><span id="S4.T4.2.1.1.8.1" class="ltx_text ltx_font_bold">Human</span></td>
</tr>
<tr id="S4.T4.2.2.2" class="ltx_tr">
<td id="S4.T4.2.2.2.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.50 (0.01)</td>
<td id="S4.T4.2.2.2.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.65 (0.01)</td>
<td id="S4.T4.2.2.2.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.64 (0.01)</td>
<td id="S4.T4.2.2.2.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.58 (0.01)</td>
<td id="S4.T4.2.2.2.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.61 (0.01)</td>
<td id="S4.T4.2.2.2.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">0.64 (0.01)</td>
<td id="S4.T4.2.2.2.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T4.2.2.2.7.1" class="ltx_text ltx_font_bold">0.83 (0.01)</span></td>
<td id="S4.T4.2.2.2.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t">1.00 (0.00)</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T4.3.1.1" class="ltx_text" style="font-size:90%;">TABLE IV</span>: </span><span id="S4.T4.4.2" class="ltx_text" style="font-size:90%;">Average robot goal inference accuracy by humans and models in the realworld experiment.</span></figcaption>
</figure>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2409.10849/assets/x1.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="86" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.2.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S4.F5.3.2" class="ltx_text" style="font-size:90%;">A robot demo showing that SIFToM could correctly infer the robot goal when the ASR result was incorrect.</span></figcaption>
</figure>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.1" class="ltx_p">We then compared the word error rate of the transcripts used in each model. Overall we failed to observe any robust correlation between WER and goal inference accuracy (<math id="S4.SS4.p3.1.m1.2" class="ltx_Math" alttext="r=-0.12,p=0.79" display="inline"><semantics id="S4.SS4.p3.1.m1.2a"><mrow id="S4.SS4.p3.1.m1.2.2.2" xref="S4.SS4.p3.1.m1.2.2.3.cmml"><mrow id="S4.SS4.p3.1.m1.1.1.1.1" xref="S4.SS4.p3.1.m1.1.1.1.1.cmml"><mi id="S4.SS4.p3.1.m1.1.1.1.1.2" xref="S4.SS4.p3.1.m1.1.1.1.1.2.cmml">r</mi><mo id="S4.SS4.p3.1.m1.1.1.1.1.1" xref="S4.SS4.p3.1.m1.1.1.1.1.1.cmml">=</mo><mrow id="S4.SS4.p3.1.m1.1.1.1.1.3" xref="S4.SS4.p3.1.m1.1.1.1.1.3.cmml"><mo id="S4.SS4.p3.1.m1.1.1.1.1.3a" xref="S4.SS4.p3.1.m1.1.1.1.1.3.cmml">−</mo><mn id="S4.SS4.p3.1.m1.1.1.1.1.3.2" xref="S4.SS4.p3.1.m1.1.1.1.1.3.2.cmml">0.12</mn></mrow></mrow><mo id="S4.SS4.p3.1.m1.2.2.2.3" xref="S4.SS4.p3.1.m1.2.2.3a.cmml">,</mo><mrow id="S4.SS4.p3.1.m1.2.2.2.2" xref="S4.SS4.p3.1.m1.2.2.2.2.cmml"><mi id="S4.SS4.p3.1.m1.2.2.2.2.2" xref="S4.SS4.p3.1.m1.2.2.2.2.2.cmml">p</mi><mo id="S4.SS4.p3.1.m1.2.2.2.2.1" xref="S4.SS4.p3.1.m1.2.2.2.2.1.cmml">=</mo><mn id="S4.SS4.p3.1.m1.2.2.2.2.3" xref="S4.SS4.p3.1.m1.2.2.2.2.3.cmml">0.79</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.2b"><apply id="S4.SS4.p3.1.m1.2.2.3.cmml" xref="S4.SS4.p3.1.m1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.2.2.3a.cmml" xref="S4.SS4.p3.1.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S4.SS4.p3.1.m1.1.1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1.1.1"><eq id="S4.SS4.p3.1.m1.1.1.1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1.1.1.1"></eq><ci id="S4.SS4.p3.1.m1.1.1.1.1.2.cmml" xref="S4.SS4.p3.1.m1.1.1.1.1.2">𝑟</ci><apply id="S4.SS4.p3.1.m1.1.1.1.1.3.cmml" xref="S4.SS4.p3.1.m1.1.1.1.1.3"><minus id="S4.SS4.p3.1.m1.1.1.1.1.3.1.cmml" xref="S4.SS4.p3.1.m1.1.1.1.1.3"></minus><cn type="float" id="S4.SS4.p3.1.m1.1.1.1.1.3.2.cmml" xref="S4.SS4.p3.1.m1.1.1.1.1.3.2">0.12</cn></apply></apply><apply id="S4.SS4.p3.1.m1.2.2.2.2.cmml" xref="S4.SS4.p3.1.m1.2.2.2.2"><eq id="S4.SS4.p3.1.m1.2.2.2.2.1.cmml" xref="S4.SS4.p3.1.m1.2.2.2.2.1"></eq><ci id="S4.SS4.p3.1.m1.2.2.2.2.2.cmml" xref="S4.SS4.p3.1.m1.2.2.2.2.2">𝑝</ci><cn type="float" id="S4.SS4.p3.1.m1.2.2.2.2.3.cmml" xref="S4.SS4.p3.1.m1.2.2.2.2.3">0.79</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.2c">r=-0.12,p=0.79</annotation></semantics></math>). Notably, the Gemini Speech model achieved the lowest word error rate, but its goal inference and speedup performance were similar to the unimodal Whisper baseline. This supports our claim that WER may not be a good performance metric for evaluating spoken instruction following systems in embodied collaborative settings.</p>
</div>
<section id="S4.SS4.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_font_bold ltx_title_paragraph">Error Analysis</h5>

<div id="S4.SS4.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS4.SSS0.Px1.p1.1" class="ltx_p">We also performed an error analysis and we found that the mistakes made by humans or SIFToM were less costly than those by other models. Upon analyzing the incorrect guesses, we found that 100 % of incorrect human guesses were in fact valid and helpful actions, meaning that the items inferred were part of the team goal, but often the item count was incorrect. This ratio dropped to 69.7% for SIFToM and less than 40% for all other models. As a result, only 4.15% of all trials in the human baseline had a negative speedup, meaning that the robot actions severely hindered the team performance, compared to 10.2% in SIFToM and &gt;18% in all other models. This shows that similar to humans, by grounding speech instructions in the inferred joint goal, SIFToM is more likely to perform useful actions even when it doesn’t have the exact command inferred.</p>
</div>
</section>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Real-World Evaluation</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">To evaluate whether SIFToM can work on real world embodied tasks, we conducted an experiment re a human participant instructed a mobile manipulator, Spot <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, to help prepare breakfast.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS1.4.1.1" class="ltx_text">V-A</span> </span><span id="S5.SS1.5.2" class="ltx_text ltx_font_italic">Dataset</span>
</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">We recorded 36 videos of the human acting and instructing the robot and added various household background noises (Room setup as Fig. <a href="#S4.F5" title="Figure 5 ‣ IV-D Results ‣ IV Simulated Experiment ‣ SIFToM: Robust Spoken Instruction Following through Theory of Mind" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>). In each video, the human is working on one of six breakfast items (see <a href="#S4.T2" title="TABLE II ‣ IV-A Dataset Construction ‣ IV Simulated Experiment ‣ SIFToM: Robust Spoken Instruction Following through Theory of Mind" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a> for task specification). Similar to the simulated experiment, the human agent first started working on the task and then gave the robot an instruction for picking and placing food items on the table.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS2.4.1.1" class="ltx_text">V-B</span> </span><span id="S5.SS2.5.2" class="ltx_text ltx_font_italic">Baselines</span>
</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">We used the same baselines as the simulated experiments. The speech input was extracted from videos and segmented. For the multimodal ASR + LLM baselines, we used Gemini-pro to extract human actions and detect visual objects. The Gemini (S+V) model was prompted to directly output a symbolic robot goal from video input.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.1" class="ltx_p">For the human baseline, we recruited four participants to watch the videos and respond with the best assistance option by the Spot robot. Each video was annotated by two human raters.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS3.4.1.1" class="ltx_text">V-C</span> </span><span id="S5.SS3.5.2" class="ltx_text ltx_font_italic">Results</span>
</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">Similar to the simulated experiments, we found that the SIFToM model outperformed all baselines on the accuracy of robot task inference, and adding the visual context significantly improved the performance over unimodal speech baselines.
On the other hand, all human participants found the task straightforward and were able to infer the true robot goal with a 100% accuracy, whereas the SIFToM model achieved an accuracy of 83.3% and the multimodal Gemini model had an accuracy of 63.8%.
</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Robot Demonstration</span>
</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">We show a qualitative example of the SIFToM model implemented in an embodied setting as a robot demo in Fig. <a href="#S4.F5" title="Figure 5 ‣ IV-D Results ‣ IV Simulated Experiment ‣ SIFToM: Robust Spoken Instruction Following through Theory of Mind" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. In this example, the robot observed that the human principal picked up a bowl and milk and placed them on the table. Then the human principal asked the robot to get the cereal. However, due to noise in the background, the ASR module was not able to clearly decode the speech and produced an incorrect transcription “Can you pass the CD box?” As there was no CD in sight, the SIFToM model resorted to a context prior, inferring that the human was likely making a bowl of cereal and possibly coffee. Since SIFToM found cereal most likely and the Llama model also evaluates CD box to be phonetically similar to cereal box than coffee, SIFToM infers that the human command to be to get the cereal box and allows the robot to successfully assists the human to complete the goal. This contrasts with other ASR + LLM models, which outputted “Get(CD)” despite being explicitly prompted with a list of possible goal objects.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VII </span><span id="S7.1.1" class="ltx_text ltx_font_smallcaps">Discussion and Conclusion</span>
</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">In this paper, we propose a cognitively inspired multimodal model SIFToM that grounds and disambiguates noisy or unintelligible human spoken instruction through Theory of Mind and joint planning. Through both simulated and embodied experiments, we demonstrate that SIFToM outperformed other baselines in inferring the robot task delegated by the human agent from both visual and ambiguous speech inputs. Additionally, our error analysis showed that mistakes made by SIFToM were less costly, sometimes even moderately helpful, whereas other baselines took random guesses. With its robust and pragmatic spoken instruction following capabilities, SIFToM will allow robots to more effectively and robustly collaborate with humans in open-world settings under various speech and noise conditions.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">Our work is not without limitations. First, our experimental results show that humans are still significantly better than SIFToM models in processing and understanding speech commands under various speech conditions. One reason is that the ASR model used in the SIFToM model does not always produce useful transcriptions when the speech is noisy. Future work can integrate the context prior into the ASR model to improve the quality of the transcription and correct errors on the sentence-level.</p>
</div>
<div id="S7.p3" class="ltx_para">
<p id="S7.p3.1" class="ltx_p">Second, SIFToM requires a full specification of the goal space a priori for goal inference and planning. This limits the scalability of this approach to more complex domains. Future work can leverage recent advances in Multimodal-LLMs to scale up the SIFToM model to more open-ended human-robot collaboration settings.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
H. Lohman, M. Tomasello, and S. Meyer, <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Linguistic communication and social understanding</em>.   na, 2005.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
M. Tomasello, <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">Origins of human communication</em>.   MIT press, 2010.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
G. Y. Kebe, P. Higgins, P. Jenkins, K. Darvish, R. Sachdeva, R. Barron, J. Winder, D. Engel, E. Raff, F. Ferraro, and C. Matuszek, “A spoken language dataset of descriptions for speech-based grounded language learning,” in <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">Neural Information Processing Systems (NeurIPS) Datasets and Benchmarks Track</em>, 2021.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
M. Marge, C. Espy-Wilson, N. G. Ward, A. Alwan, Y. Artzi, M. Bansal, G. Blankenship, J. Chai, H. Daumé III, D. Dey <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Spoken language interaction with robots: Recommendations for future research,” <em id="bib.bib4.2.2" class="ltx_emph ltx_font_italic">Computer Speech &amp; Language</em>, vol. 71, p. 101255, 2022.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
C. Lynch, A. Wahid, J. Tompson, T. Ding, J. Betker, R. Baruch, T. Armstrong, and P. Florence, “Interactive language: Talking to robots in real time,” <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">IEEE Robotics and Automation Letters</em>, pp. 1–8, 2023.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
J. Li, L. Deng, Y. Gong, and R. Haeb-Umbach, “An overview of noise-robust automatic speech recognition,” <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">IEEE/ACM Transactions on Audio, Speech, and Language Processing</em>, vol. 22, no. 4, pp. 745–777, 2014.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
M. Otten, A. K. Seth, and Y. Pinto, “A social bayesian brain: How social knowledge can shape visual perception,” <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Brain and cognition</em>, vol. 112, pp. 69–77, 2017.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
J. Zaki, “Cue integration: A common framework for social cognition and physical perception,” <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Perspectives on Psychological Science</em>, vol. 8, no. 3, pp. 296–312, 2013.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
M. H. Davis and I. S. Johnsrude, “Hearing speech sounds: top-down influences on the interface between audition and speech perception,” <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Hearing research</em>, vol. 229, no. 1-2, pp. 132–147, 2007.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
A. A. Stocker and E. Simoncelli, “Sensory adaptation within a bayesian framework for perception,” <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, vol. 18, 2005.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
X. Puig, T. Shu, S. Li, Z. Wang, Y.-H. Liao, J. B. Tenenbaum, S. Fidler, and A. Torralba, “Watch-and-help: A challenge for social perception and human-ai collaboration,” <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2010.09890</em>, 2020.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
S. Y. Min, D. S. Chaplot, P. Ravikumar, Y. Bisk, and R. Salakhutdinov, “Film: Following instructions in language with modular methods,” <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.07342</em>, 2021.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Y. Xie, C. Yu, T. Zhu, J. Bai, Z. Gong, and H. Soh, “Translating natural language to planning goals with large-language models,” <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.05128</em>, 2023.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
H. Liu, L. Lee, K. Lee, and P. Abbeel, “Instruction-following agents with jointly pre-trained vision-language models,” 2022.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
V. Blukis, R. A. Knepper, and Y. Artzi, “Few-shot object grounding and mapping for natural language robot instruction following,” <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2011.07384</em>, 2020.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
J. X. Liu, Z. Yang, I. Idrees, S. Liang, B. Schornstein, S. Tellex, and A. Shah, “Grounding complex natural language commands for temporal tasks in unseen environments,” in <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Conference on Robot Learning (CoRL)</em>, 2023. [Online]. Available: https://arxiv.org/abs/2302.11649

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
J. X. Liu, A. Shah, G. Konidaris, S. Tellex, and D. Paulius, “Lang2LTL-2: Grounding spatiotemporal navigation commands using large language and vision-language models,” in <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS)</em>, 2024.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
V. Cohen, J. X. Liu, R. Mooney, S. Tellex, and D. Watkins, “A survey of robotic language grounding: Tradeoffs between symbols and embeddings,” in <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">International Joint Conference on Artificial Intelligence</em>, 2024.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
T. Zhi-Xuan, L. Ying, V. Mansinghka, and J. B. Tenenbaum, “Pragmatic instruction following and goal assistance via cooperative language-guided inverse planning,” <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2402.17930</em>, 2024.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
C. L. Baker, J. Jara-Ettinger, R. Saxe, and J. B. Tenenbaum, “Rational quantitative attribution of beliefs, desires and percepts in human mentalizing,” <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Nature Human Behaviour</em>, vol. 1, no. 4, pp. 1–10, 2017.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
T. Zhi-Xuan, J. Mann, T. Silver, J. Tenenbaum, and V. Mansinghka, “Online bayesian goal inference for boundedly rational planning agents,” <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, vol. 33, 2020.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
T. Shu, A. Bhandwaldar, C. Gan, K. Smith, S. Liu, D. Gutfreund, E. Spelke, J. Tenenbaum, and T. Ullman, “Agent: A benchmark for core psychological reasoning,” in <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">International conference on machine learning</em>.   PMLR, 2021, pp. 9614–9625.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
C. Jin, Y. Wu, J. Cao, J. Xiang, Y.-L. Kuo, Z. Hu, T. Ullman, A. Torralba, J. B. Tenenbaum, and T. Shu, “Mmtom-qa: Multimodal theory of mind question answering,” <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2401.08743</em>, 2024.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
L. Ying, T. Zhi-Xuan, L. Wong, V. Mansinghka, and J. Tenenbaum, “Grounding language about belief in a bayesian theory-of-mind,” <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2402.10416</em>, 2024.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
C. L. Baker, J. B. Tenenbaum, and R. R. Saxe, “Goal inference as inverse planning,” in <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Annual Meeting of the Cognitive Science Society</em>, vol. 29, no. 29, 2007.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
M. Shum, M. Kleiman-Weiner, M. L. Littman, and J. B. Tenenbaum, “Theory of minds: Understanding behavior in groups through inverse planning,” in <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI conference on Artificial Intelligence</em>, vol. 33, 2019, pp. 6163–6170.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
L. Ying, K. Jha, S. Aarya, J. B. Tenenbaum, A. Torralba, and T. Shu, “Goma: Proactive embodied cooperative communication via goal-oriented mental alignment,” <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2403.11075</em>, 2024.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
L. Scocchia, M. Valsecchi, and J. Triesch, “Top-down influences on ambiguous perception: the role of stable and transient states of the observer,” <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Frontiers in human neuroscience</em>, vol. 8, p. 979, 2014.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
P. Klink, R. J. A. van Wezel, and R. van Ee, “United we sense, divided we fail: context-driven perception of ambiguous visual stimuli,” <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Philosophical Transactions of the Royal Society B: Biological Sciences</em>, vol. 367, no. 1591, pp. 932–941, 2012.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
C. Eulitz and R. Hannemann, “On the matching of top-down knowledge with sensory input in the perception of ambiguous speech,” <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">BMC neuroscience</em>, vol. 11, pp. 1–11, 2010.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
S. C. Ong, S. W. Png, D. Hsu, and W. S. Lee, “Planning under uncertainty for robotic tasks with mixed observability,” <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">The International Journal of Robotics Research</em>, vol. 29, no. 8, pp. 1053–1068, 2010.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
L. Ying, T. Zhi-Xuan, V. Mansinghka, and J. B. Tenenbaum, “Inferring the goals of communicating agents from actions and instructions,” in <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">Proceedings of the AAAI Symposium Series</em>, vol. 2, no. 1, 2023, pp. 26–33.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
M. O. Ernst, “A bayesian view on multimodal cue integration,” <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">Human body perception from the inside out</em>, vol. 131, pp. 105–131, 2006.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
C. K. Reddy, E. Beyrami, J. Pool, R. Cutler, S. Srinivasan, and J. Gehrke, “A scalable noisy speech dataset and online subjective test framework,” <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1909.08050</em>, 2019.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
X. Puig, T. Shu, J. B. Tenenbaum, and A. Torralba, “Nopa: Neurally-guided online probabilistic assistance for building socially intelligent home assistants,” in <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">2023 IEEE International Conference on Robotics and Automation (ICRA)</em>.   IEEE, 2023, pp. 7628–7634.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
Y. Hu, C. Chen, C.-H. H. Yang, R. Li, C. Zhang, P.-Y. Chen, and E. Chng, “Large language models are efficient learners of noise-robust speech recognition,” <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2401.10446</em>, 2024.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
Boston Dynamics, “Spot® - the agile mobile robot,” https://www.bostondynamics.com/products/spot.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2409.10848" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2409.10849" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2409.10849">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2409.10849" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2409.10850" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sun Oct  6 01:15:15 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
